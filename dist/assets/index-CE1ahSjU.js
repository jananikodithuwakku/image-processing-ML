var vk=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var DH=vk((MH,tT)=>{function mk(t,n){for(var e=0;e<n.length;e++){const r=n[e];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function Fg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ov={exports:{}},ll={};var C2;function gk(){if(C2)return ll;C2=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function e(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var l in a)l!=="key"&&(o[l]=a[l])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return ll.Fragment=n,ll.jsx=e,ll.jsxs=e,ll}var E2;function yk(){return E2||(E2=1,Ov.exports=gk()),Ov.exports}var re=yk(),Iv={exports:{}},Ge={};var R2;function bk(){if(R2)return Ge;R2=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),m=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function C(M,K,Z){this.props=M,this.context=K,this.refs=S,this.updater=Z||b}C.prototype.isReactComponent={},C.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function _(){}_.prototype=C.prototype;function R(M,K,Z){this.props=M,this.context=K,this.refs=S,this.updater=Z||b}var E=R.prototype=new _;E.constructor=R,x(E,C.prototype),E.isPureReactComponent=!0;var T=Array.isArray;function D(){}var N={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function I(M,K,Z){var ie=Z.ref;return{$$typeof:t,type:M,key:K,ref:ie!==void 0?ie:null,props:Z}}function B(M,K){return I(M.type,K,M.props)}function H(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function A(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Z){return K[Z]})}var q=/\/+/g;function j(M,K){return typeof M=="object"&&M!==null&&M.key!=null?A(""+M.key):K.toString(36)}function V(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function P(M,K,Z,ie,pe){var ge=typeof M;(ge==="undefined"||ge==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(ge){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case t:case n:xe=!0;break;case h:return xe=M._init,P(xe(M._payload),K,Z,ie,pe)}}if(xe)return pe=pe(M),xe=ie===""?"."+j(M,0):ie,T(pe)?(Z="",xe!=null&&(Z=xe.replace(q,"$&/")+"/"),P(pe,K,Z,"",function(be){return be})):pe!=null&&(H(pe)&&(pe=B(pe,Z+(pe.key==null||M&&M.key===pe.key?"":(""+pe.key).replace(q,"$&/")+"/")+xe)),K.push(pe)),1;xe=0;var Ce=ie===""?".":ie+":";if(T(M))for(var he=0;he<M.length;he++)ie=M[he],ge=Ce+j(ie,he),xe+=P(ie,K,Z,ge,pe);else if(he=g(M),typeof he=="function")for(M=he.call(M),he=0;!(ie=M.next()).done;)ie=ie.value,ge=Ce+j(ie,he++),xe+=P(ie,K,Z,ge,pe);else if(ge==="object"){if(typeof M.then=="function")return P(V(M),K,Z,ie,pe);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function $(M,K,Z){if(M==null)return M;var ie=[],pe=0;return P(M,ie,"","",function(ge){return K.call(Z,ge,pe++)}),ie}function Q(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(Z){(M._status===0||M._status===-1)&&(M._status=1,M._result=Z)},function(Z){(M._status===0||M._status===-1)&&(M._status=2,M._result=Z)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var U=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},G={map:$,forEach:function(M,K,Z){$(M,function(){K.apply(this,arguments)},Z)},count:function(M){var K=0;return $(M,function(){K++}),K},toArray:function(M){return $(M,function(K){return K})||[]},only:function(M){if(!H(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ge.Activity=v,Ge.Children=G,Ge.Component=C,Ge.Fragment=e,Ge.Profiler=a,Ge.PureComponent=R,Ge.StrictMode=r,Ge.Suspense=c,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ge.cache=function(M){return function(){return M.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(M,K,Z){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=x({},M.props),pe=M.key;if(K!=null)for(ge in K.key!==void 0&&(pe=""+K.key),K)!O.call(K,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&K.ref===void 0||(ie[ge]=K[ge]);var ge=arguments.length-2;if(ge===1)ie.children=Z;else if(1<ge){for(var xe=Array(ge),Ce=0;Ce<ge;Ce++)xe[Ce]=arguments[Ce+2];ie.children=xe}return I(M.type,pe,ie)},Ge.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Ge.createElement=function(M,K,Z){var ie,pe={},ge=null;if(K!=null)for(ie in K.key!==void 0&&(ge=""+K.key),K)O.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=K[ie]);var xe=arguments.length-2;if(xe===1)pe.children=Z;else if(1<xe){for(var Ce=Array(xe),he=0;he<xe;he++)Ce[he]=arguments[he+2];pe.children=Ce}if(M&&M.defaultProps)for(ie in xe=M.defaultProps,xe)pe[ie]===void 0&&(pe[ie]=xe[ie]);return I(M,ge,pe)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(M){return{$$typeof:l,render:M}},Ge.isValidElement=H,Ge.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:Q}},Ge.memo=function(M,K){return{$$typeof:d,type:M,compare:K===void 0?null:K}},Ge.startTransition=function(M){var K=N.T,Z={};N.T=Z;try{var ie=M(),pe=N.S;pe!==null&&pe(Z,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(D,U)}catch(ge){U(ge)}finally{K!==null&&Z.types!==null&&(K.types=Z.types),N.T=K}},Ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ge.use=function(M){return N.H.use(M)},Ge.useActionState=function(M,K,Z){return N.H.useActionState(M,K,Z)},Ge.useCallback=function(M,K){return N.H.useCallback(M,K)},Ge.useContext=function(M){return N.H.useContext(M)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},Ge.useEffect=function(M,K){return N.H.useEffect(M,K)},Ge.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ge.useId=function(){return N.H.useId()},Ge.useImperativeHandle=function(M,K,Z){return N.H.useImperativeHandle(M,K,Z)},Ge.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},Ge.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},Ge.useMemo=function(M,K){return N.H.useMemo(M,K)},Ge.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},Ge.useReducer=function(M,K,Z){return N.H.useReducer(M,K,Z)},Ge.useRef=function(M){return N.H.useRef(M)},Ge.useState=function(M){return N.H.useState(M)},Ge.useSyncExternalStore=function(M,K,Z){return N.H.useSyncExternalStore(M,K,Z)},Ge.useTransition=function(){return N.H.useTransition()},Ge.version="19.2.3",Ge}var _2;function Lg(){return _2||(_2=1,Iv.exports=bk()),Iv.exports}var L=Lg();const Sa=Fg(L),Km=mk({__proto__:null,default:Sa},[L]);var Bv={exports:{}},cl={},Fv={exports:{}},Lv={};var T2;function xk(){return T2||(T2=1,(function(t){function n(P,$){var Q=P.length;P.push($);e:for(;0<Q;){var U=Q-1>>>1,G=P[U];if(0<a(G,$))P[U]=$,P[Q]=G,Q=U;else break e}}function e(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var $=P[0],Q=P.pop();if(Q!==$){P[0]=Q;e:for(var U=0,G=P.length,M=G>>>1;U<M;){var K=2*(U+1)-1,Z=P[K],ie=K+1,pe=P[ie];if(0>a(Z,Q))ie<G&&0>a(pe,Z)?(P[U]=pe,P[ie]=Q,U=ie):(P[U]=Z,P[K]=Q,U=K);else if(ie<G&&0>a(pe,Q))P[U]=pe,P[ie]=Q,U=ie;else break e}}return $}function a(P,$){var Q=P.sortIndex-$.sortIndex;return Q!==0?Q:P.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}var c=[],d=[],h=1,v=null,m=3,g=!1,b=!1,x=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function E(P){for(var $=e(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=P)r(d),$.sortIndex=$.expirationTime,n(c,$);else break;$=e(d)}}function T(P){if(x=!1,E(P),!b)if(e(c)!==null)b=!0,D||(D=!0,A());else{var $=e(d);$!==null&&V(T,$.startTime-P)}}var D=!1,N=-1,O=5,I=-1;function B(){return S?!0:!(t.unstable_now()-I<O)}function H(){if(S=!1,D){var P=t.unstable_now();I=P;var $=!0;try{e:{b=!1,x&&(x=!1,_(N),N=-1),g=!0;var Q=m;try{t:{for(E(P),v=e(c);v!==null&&!(v.expirationTime>P&&B());){var U=v.callback;if(typeof U=="function"){v.callback=null,m=v.priorityLevel;var G=U(v.expirationTime<=P);if(P=t.unstable_now(),typeof G=="function"){v.callback=G,E(P),$=!0;break t}v===e(c)&&r(c),E(P)}else r(c);v=e(c)}if(v!==null)$=!0;else{var M=e(d);M!==null&&V(T,M.startTime-P),$=!1}}break e}finally{v=null,m=Q,g=!1}$=void 0}}finally{$?A():D=!1}}}var A;if(typeof R=="function")A=function(){R(H)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,j=q.port2;q.port1.onmessage=H,A=function(){j.postMessage(null)}}else A=function(){C(H,0)};function V(P,$){N=C(function(){P(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var Q=m;m=$;try{return P()}finally{m=Q}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Q=m;m=P;try{return $()}finally{m=Q}},t.unstable_scheduleCallback=function(P,$,Q){var U=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?U+Q:U):Q=U,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Q+G,P={id:h++,callback:$,priorityLevel:P,startTime:Q,expirationTime:G,sortIndex:-1},Q>U?(P.sortIndex=Q,n(d,P),e(c)===null&&P===e(d)&&(x?(_(N),N=-1):x=!0,V(T,Q-U))):(P.sortIndex=G,n(c,P),b||g||(b=!0,D||(D=!0,A()))),P},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(P){var $=m;return function(){var Q=m;m=$;try{return P.apply(this,arguments)}finally{m=Q}}}})(Lv)),Lv}var A2;function wk(){return A2||(A2=1,Fv.exports=xk()),Fv.exports}var Pv={exports:{}},Pn={};var k2;function Sk(){if(k2)return Pn;k2=1;var t=Lg();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(n(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(c,d,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:c,containerInfo:d,implementation:h}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pn.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return o(c,d,null,h)},Pn.flushSync=function(c){var d=u.T,h=r.p;try{if(u.T=null,r.p=2,c)return c()}finally{u.T=d,r.p=h,r.d.f()}},Pn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Pn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Pn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,v=l(h,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,g=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:m,fetchPriority:g}):h==="script"&&r.d.X(c,{crossOrigin:v,integrity:m,fetchPriority:g,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Pn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,v=l(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pn.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Pn.requestFormReset=function(c){r.d.r(c)},Pn.unstable_batchedUpdates=function(c,d){return c(d)},Pn.useFormState=function(c,d,h){return u.H.useFormState(c,d,h)},Pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pn.version="19.2.3",Pn}var D2;function dC(){if(D2)return Pv.exports;D2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Pv.exports=Sk(),Pv.exports}var N2;function Ck(){if(N2)return cl;N2=1;var t=wk(),n=Lg(),e=dC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,f=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(f=s.return),i=s.return;while(i)}return s.tag===3?f:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function l(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var f=i,p=s;;){var y=f.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){f=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===f)return c(y),i;if(w===p)return c(y),s;w=w.sibling}throw Error(r(188))}if(f.return!==p.return)f=y,p=w;else{for(var k=!1,F=y.child;F;){if(F===f){k=!0,f=y,p=w;break}if(F===p){k=!0,p=y,f=w;break}F=F.sibling}if(!k){for(F=w.child;F;){if(F===f){k=!0,f=w,p=y;break}if(F===p){k=!0,p=w,f=y;break}F=F.sibling}if(!k)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),R=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function A(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function j(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case R:return i.displayName||"Context";case _:return(i._context.displayName||"Context")+".Consumer";case E:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:j(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return j(i(s))}catch{}}return null}var V=Array.isArray,P=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},U=[],G=-1;function M(i){return{current:i}}function K(i){0>G||(i.current=U[G],U[G]=null,G--)}function Z(i,s){G++,U[G]=i.current,i.current=s}var ie=M(null),pe=M(null),ge=M(null),xe=M(null);function Ce(i,s){switch(Z(ge,s),Z(pe,i),Z(ie,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?qx(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=qx(s),i=$x(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(ie),Z(ie,i)}function he(){K(ie),K(pe),K(ge)}function be(i){i.memoizedState!==null&&Z(xe,i);var s=ie.current,f=$x(s,i.type);s!==f&&(Z(pe,i),Z(ie,f))}function we(i){pe.current===i&&(K(ie),K(pe)),xe.current===i&&(K(xe),ol._currentValue=Q)}var Re,Me;function Se(i){if(Re===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);Re=s&&s[1]||"",Me=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+i+Me}var Fe=!1;function He(i,s){if(!i||Fe)return"";Fe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ue){var oe=ue}Reflect.construct(i,[],me)}else{try{me.call()}catch(ue){oe=ue}i.call(me.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),k=w[0],F=w[1];if(k&&F){var X=k.split(`
`),ae=F.split(`
`);for(y=p=0;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(p===X.length||y===ae.length)for(p=X.length-1,y=ae.length-1;1<=p&&0<=y&&X[p]!==ae[y];)y--;for(;1<=p&&0<=y;p--,y--)if(X[p]!==ae[y]){if(p!==1||y!==1)do if(p--,y--,0>y||X[p]!==ae[y]){var ce=`
`+X[p].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=p&&0<=y);break}}}finally{Fe=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?Se(f):""}function vt(i,s){switch(i.tag){case 26:case 27:case 5:return Se(i.type);case 16:return Se("Lazy");case 13:return i.child!==s&&s!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return He(i.type,!1);case 11:return He(i.type.render,!1);case 1:return He(i.type,!0);case 31:return Se("Activity");default:return""}}function ut(i){try{var s="",f=null;do s+=vt(i,f),f=i,i=i.return;while(i);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var yt=Object.prototype.hasOwnProperty,Vt=t.unstable_scheduleCallback,st=t.unstable_cancelCallback,Le=t.unstable_shouldYield,fn=t.unstable_requestPaint,Ye=t.unstable_now,Bn=t.unstable_getCurrentPriorityLevel,Kn=t.unstable_ImmediatePriority,Rn=t.unstable_UserBlockingPriority,rn=t.unstable_NormalPriority,kr=t.unstable_LowPriority,Xr=t.unstable_IdlePriority,Tt=t.log,dr=t.unstable_setDisableYieldValue,Fn=null,Yt=null;function Yn(i){if(typeof Tt=="function"&&dr(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Fn,i)}catch{}}var Ln=Math.clz32?Math.clz32:dn,Pe=Math.log,At=Math.LN2;function dn(i){return i>>>=0,i===0?32:31-(Pe(i)/At|0)|0}var Yr=256,ni=262144,hc=4194304;function ri(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function pc(i,s,f){var p=i.pendingLanes;if(p===0)return 0;var y=0,w=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var F=p&134217727;return F!==0?(p=F&~w,p!==0?y=ri(p):(k&=F,k!==0?y=ri(k):f||(f=F&~i,f!==0&&(y=ri(f))))):(F=p&~w,F!==0?y=ri(F):k!==0?y=ri(k):f||(f=p&~i,f!==0&&(y=ri(f)))),y===0?0:s!==0&&s!==y&&(s&w)===0&&(w=y&-y,f=s&-s,w>=f||w===32&&(f&4194048)!==0)?s:y}function yu(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function nT(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T0(){var i=hc;return hc<<=1,(hc&62914560)===0&&(hc=4194304),i}function wh(i){for(var s=[],f=0;31>f;f++)s.push(i);return s}function bu(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rT(i,s,f,p,y,w){var k=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var F=i.entanglements,X=i.expirationTimes,ae=i.hiddenUpdates;for(f=k&~f;0<f;){var ce=31-Ln(f),me=1<<ce;F[ce]=0,X[ce]=-1;var oe=ae[ce];if(oe!==null)for(ae[ce]=null,ce=0;ce<oe.length;ce++){var ue=oe[ce];ue!==null&&(ue.lane&=-536870913)}f&=~me}p!==0&&A0(i,p,0),w!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=w&~(k&~s))}function A0(i,s,f){i.pendingLanes|=s,i.suspendedLanes&=~s;var p=31-Ln(s);i.entangledLanes|=s,i.entanglements[p]=i.entanglements[p]|1073741824|f&261930}function k0(i,s){var f=i.entangledLanes|=s;for(i=i.entanglements;f;){var p=31-Ln(f),y=1<<p;y&s|i[p]&s&&(i[p]|=s),f&=~y}}function D0(i,s){var f=s&-s;return f=(f&42)!==0?1:Sh(f),(f&(i.suspendedLanes|s))!==0?0:f}function Sh(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ch(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function N0(){var i=$.p;return i!==0?i:(i=window.event,i===void 0?32:m2(i.type))}function M0(i,s){var f=$.p;try{return $.p=i,s()}finally{$.p=f}}var go=Math.random().toString(36).slice(2),_n="__reactFiber$"+go,Qn="__reactProps$"+go,Yi="__reactContainer$"+go,Eh="__reactEvents$"+go,aT="__reactListeners$"+go,oT="__reactHandles$"+go,O0="__reactResources$"+go,xu="__reactMarker$"+go;function Rh(i){delete i[_n],delete i[Qn],delete i[Eh],delete i[aT],delete i[oT]}function Qi(i){var s=i[_n];if(s)return s;for(var f=i.parentNode;f;){if(s=f[Yi]||f[_n]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(i=e2(i);i!==null;){if(f=i[_n])return f;i=e2(i)}return s}i=f,f=i.parentNode}return null}function Zi(i){if(i=i[_n]||i[Yi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function wu(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ji(i){var s=i[O0];return s||(s=i[O0]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xn(i){i[xu]=!0}var I0=new Set,B0={};function ai(i,s){es(i,s),es(i+"Capture",s)}function es(i,s){for(B0[i]=s,i=0;i<s.length;i++)I0.add(s[i])}var iT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),F0={},L0={};function sT(i){return yt.call(L0,i)?!0:yt.call(F0,i)?!1:iT.test(i)?L0[i]=!0:(F0[i]=!0,!1)}function vc(i,s,f){if(sT(s))if(f===null)i.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+f)}}function mc(i,s,f){if(f===null)i.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+f)}}function Ba(i,s,f,p){if(p===null)i.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(s,f,""+p)}}function Dr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function P0(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function uT(i,s,f){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var y=p.get,w=p.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(k){f=""+k,w.call(this,k)}}),Object.defineProperty(i,s,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function _h(i){if(!i._valueTracker){var s=P0(i)?"checked":"value";i._valueTracker=uT(i,s,""+i[s])}}function z0(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var f=s.getValue(),p="";return i&&(p=P0(i)?i.checked?"true":"false":i.value),i=p,i!==f?(s.setValue(i),!0):!1}function gc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var lT=/[\n"\\]/g;function Nr(i){return i.replace(lT,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Th(i,s,f,p,y,w,k,F){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),s!=null?k==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Dr(s)):i.value!==""+Dr(s)&&(i.value=""+Dr(s)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),s!=null?Ah(i,k,Dr(s)):f!=null?Ah(i,k,Dr(f)):p!=null&&i.removeAttribute("value"),y==null&&w!=null&&(i.defaultChecked=!!w),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.name=""+Dr(F):i.removeAttribute("name")}function U0(i,s,f,p,y,w,k,F){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),s!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){_h(i);return}f=f!=null?""+Dr(f):"",s=s!=null?""+Dr(s):f,F||s===i.value||(i.value=s),i.defaultValue=s}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=F?i.checked:!!p,i.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),_h(i)}function Ah(i,s,f){s==="number"&&gc(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function ts(i,s,f,p){if(i=i.options,s){s={};for(var y=0;y<f.length;y++)s["$"+f[y]]=!0;for(f=0;f<i.length;f++)y=s.hasOwnProperty("$"+i[f].value),i[f].selected!==y&&(i[f].selected=y),y&&p&&(i[f].defaultSelected=!0)}else{for(f=""+Dr(f),s=null,y=0;y<i.length;y++){if(i[y].value===f){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function W0(i,s,f){if(s!=null&&(s=""+Dr(s),s!==i.value&&(i.value=s),f==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=f!=null?""+Dr(f):""}function H0(i,s,f,p){if(s==null){if(p!=null){if(f!=null)throw Error(r(92));if(V(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),s=f}f=Dr(s),i.defaultValue=f,p=i.textContent,p===f&&p!==""&&p!==null&&(i.value=p),_h(i)}function ns(i,s){if(s){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=s;return}}i.textContent=s}var cT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function j0(i,s,f){var p=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":p?i.setProperty(s,f):typeof f!="number"||f===0||cT.has(s)?s==="float"?i.cssFloat=f:i[s]=(""+f).trim():i[s]=f+"px"}function V0(i,s,f){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var y in s)p=s[y],s.hasOwnProperty(y)&&f[y]!==p&&j0(i,y,p)}else for(var w in s)s.hasOwnProperty(w)&&j0(i,w,s[w])}function kh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yc(i){return dT.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Fa(){}var Dh=null;function Nh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rs=null,as=null;function G0(i){var s=Zi(i);if(s&&(i=s.stateNode)){var f=i[Qn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Th(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Nr(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var p=f[s];if(p!==i&&p.form===i.form){var y=p[Qn]||null;if(!y)throw Error(r(90));Th(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<f.length;s++)p=f[s],p.form===i.form&&z0(p)}break e;case"textarea":W0(i,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&ts(i,!!f.multiple,s,!1)}}}var Mh=!1;function q0(i,s,f){if(Mh)return i(s,f);Mh=!0;try{var p=i(s);return p}finally{if(Mh=!1,(rs!==null||as!==null)&&(of(),rs&&(s=rs,i=as,as=rs=null,G0(s),i)))for(s=0;s<i.length;s++)G0(i[s])}}function Su(i,s){var f=i.stateNode;if(f===null)return null;var p=f[Qn]||null;if(p===null)return null;f=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,s,typeof f));return f}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=!1;if(La)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{Oh=!1}var yo=null,Ih=null,bc=null;function $0(){if(bc)return bc;var i,s=Ih,f=s.length,p,y="value"in yo?yo.value:yo.textContent,w=y.length;for(i=0;i<f&&s[i]===y[i];i++);var k=f-i;for(p=1;p<=k&&s[f-p]===y[w-p];p++);return bc=y.slice(i,1<p?1-p:void 0)}function xc(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wc(){return!0}function K0(){return!1}function Zn(i){function s(f,p,y,w,k){this._reactName=f,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(f=i[F],this[F]=f?f(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?wc:K0,this.isPropagationStopped=K0,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),s}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sc=Zn(oi),Eu=v({},oi,{view:0,detail:0}),hT=Zn(Eu),Bh,Fh,Ru,Cc=v({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ph,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ru&&(Ru&&i.type==="mousemove"?(Bh=i.screenX-Ru.screenX,Fh=i.screenY-Ru.screenY):Fh=Bh=0,Ru=i),Bh)},movementY:function(i){return"movementY"in i?i.movementY:Fh}}),X0=Zn(Cc),pT=v({},Cc,{dataTransfer:0}),vT=Zn(pT),mT=v({},Eu,{relatedTarget:0}),Lh=Zn(mT),gT=v({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),yT=Zn(gT),bT=v({},oi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xT=Zn(bT),wT=v({},oi,{data:0}),Y0=Zn(wT),ST={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ET={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RT(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ET[i])?!!s[i]:!1}function Ph(){return RT}var _T=v({},Eu,{key:function(i){if(i.key){var s=ST[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=xc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?CT[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ph,charCode:function(i){return i.type==="keypress"?xc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),TT=Zn(_T),AT=v({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q0=Zn(AT),kT=v({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ph}),DT=Zn(kT),NT=v({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),MT=Zn(NT),OT=v({},Cc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),IT=Zn(OT),BT=v({},oi,{newState:0,oldState:0}),FT=Zn(BT),LT=[9,13,27,32],zh=La&&"CompositionEvent"in window,_u=null;La&&"documentMode"in document&&(_u=document.documentMode);var PT=La&&"TextEvent"in window&&!_u,Z0=La&&(!zh||_u&&8<_u&&11>=_u),J0=" ",eb=!1;function tb(i,s){switch(i){case"keyup":return LT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var os=!1;function zT(i,s){switch(i){case"compositionend":return nb(s);case"keypress":return s.which!==32?null:(eb=!0,J0);case"textInput":return i=s.data,i===J0&&eb?null:i;default:return null}}function UT(i,s){if(os)return i==="compositionend"||!zh&&tb(i,s)?(i=$0(),bc=Ih=yo=null,os=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Z0&&s.locale!=="ko"?null:s.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!WT[i.type]:s==="textarea"}function ab(i,s,f,p){rs?as?as.push(p):as=[p]:rs=p,s=hf(s,"onChange"),0<s.length&&(f=new Sc("onChange","change",null,f,p),i.push({event:f,listeners:s}))}var Tu=null,Au=null;function HT(i){Ux(i,0)}function Ec(i){var s=wu(i);if(z0(s))return i}function ob(i,s){if(i==="change")return s}var ib=!1;if(La){var Uh;if(La){var Wh="oninput"in document;if(!Wh){var sb=document.createElement("div");sb.setAttribute("oninput","return;"),Wh=typeof sb.oninput=="function"}Uh=Wh}else Uh=!1;ib=Uh&&(!document.documentMode||9<document.documentMode)}function ub(){Tu&&(Tu.detachEvent("onpropertychange",lb),Au=Tu=null)}function lb(i){if(i.propertyName==="value"&&Ec(Au)){var s=[];ab(s,Au,i,Nh(i)),q0(HT,s)}}function jT(i,s,f){i==="focusin"?(ub(),Tu=s,Au=f,Tu.attachEvent("onpropertychange",lb)):i==="focusout"&&ub()}function VT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ec(Au)}function GT(i,s){if(i==="click")return Ec(s)}function qT(i,s){if(i==="input"||i==="change")return Ec(s)}function $T(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var hr=typeof Object.is=="function"?Object.is:$T;function ku(i,s){if(hr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var f=Object.keys(i),p=Object.keys(s);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var y=f[p];if(!yt.call(s,y)||!hr(i[y],s[y]))return!1}return!0}function cb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fb(i,s){var f=cb(i);i=0;for(var p;f;){if(f.nodeType===3){if(p=i+f.textContent.length,i<=s&&p>=s)return{node:f,offset:s-i};i=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=cb(f)}}function db(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?db(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function hb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=gc(i.document);s instanceof i.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)i=s.contentWindow;else break;s=gc(i.document)}return s}function Hh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var KT=La&&"documentMode"in document&&11>=document.documentMode,is=null,jh=null,Du=null,Vh=!1;function pb(i,s,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Vh||is==null||is!==gc(p)||(p=is,"selectionStart"in p&&Hh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Du&&ku(Du,p)||(Du=p,p=hf(jh,"onSelect"),0<p.length&&(s=new Sc("onSelect","select",null,s,f),i.push({event:s,listeners:p}),s.target=is)))}function ii(i,s){var f={};return f[i.toLowerCase()]=s.toLowerCase(),f["Webkit"+i]="webkit"+s,f["Moz"+i]="moz"+s,f}var ss={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionrun:ii("Transition","TransitionRun"),transitionstart:ii("Transition","TransitionStart"),transitioncancel:ii("Transition","TransitionCancel"),transitionend:ii("Transition","TransitionEnd")},Gh={},vb={};La&&(vb=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function si(i){if(Gh[i])return Gh[i];if(!ss[i])return i;var s=ss[i],f;for(f in s)if(s.hasOwnProperty(f)&&f in vb)return Gh[i]=s[f];return i}var mb=si("animationend"),gb=si("animationiteration"),yb=si("animationstart"),XT=si("transitionrun"),YT=si("transitionstart"),QT=si("transitioncancel"),bb=si("transitionend"),xb=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Qr(i,s){xb.set(i,s),ai(s,[i])}var Rc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Mr=[],us=0,$h=0;function _c(){for(var i=us,s=$h=us=0;s<i;){var f=Mr[s];Mr[s++]=null;var p=Mr[s];Mr[s++]=null;var y=Mr[s];Mr[s++]=null;var w=Mr[s];if(Mr[s++]=null,p!==null&&y!==null){var k=p.pending;k===null?y.next=y:(y.next=k.next,k.next=y),p.pending=y}w!==0&&wb(f,y,w)}}function Tc(i,s,f,p){Mr[us++]=i,Mr[us++]=s,Mr[us++]=f,Mr[us++]=p,$h|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Kh(i,s,f,p){return Tc(i,s,f,p),Ac(i)}function ui(i,s){return Tc(i,null,null,s),Ac(i)}function wb(i,s,f){i.lanes|=f;var p=i.alternate;p!==null&&(p.lanes|=f);for(var y=!1,w=i.return;w!==null;)w.childLanes|=f,p=w.alternate,p!==null&&(p.childLanes|=f),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(y=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,y&&s!==null&&(y=31-Ln(f),i=w.hiddenUpdates,p=i[y],p===null?i[y]=[s]:p.push(s),s.lane=f|536870912),w):null}function Ac(i){if(50<Zu)throw Zu=0,rv=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ls={};function ZT(i,s,f,p){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(i,s,f,p){return new ZT(i,s,f,p)}function Xh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Pa(i,s){var f=i.alternate;return f===null?(f=pr(i.tag,s,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=s,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,s=i.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function Sb(i,s){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,s=f.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function kc(i,s,f,p,y,w){var k=0;if(p=i,typeof i=="function")Xh(i)&&(k=1);else if(typeof i=="string")k=rk(i,f,ie.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=pr(31,f,s,y),i.elementType=I,i.lanes=w,i;case x:return li(f.children,y,w,s);case S:k=8,y|=24;break;case C:return i=pr(12,f,s,y|2),i.elementType=C,i.lanes=w,i;case T:return i=pr(13,f,s,y),i.elementType=T,i.lanes=w,i;case D:return i=pr(19,f,s,y),i.elementType=D,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:k=10;break e;case _:k=9;break e;case E:k=11;break e;case N:k=14;break e;case O:k=16,p=null;break e}k=29,f=Error(r(130,i===null?"null":typeof i,"")),p=null}return s=pr(k,f,s,y),s.elementType=i,s.type=p,s.lanes=w,s}function li(i,s,f,p){return i=pr(7,i,p,s),i.lanes=f,i}function Yh(i,s,f){return i=pr(6,i,null,s),i.lanes=f,i}function Cb(i){var s=pr(18,null,null,0);return s.stateNode=i,s}function Qh(i,s,f){return s=pr(4,i.children!==null?i.children:[],i.key,s),s.lanes=f,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Eb=new WeakMap;function Or(i,s){if(typeof i=="object"&&i!==null){var f=Eb.get(i);return f!==void 0?f:(s={value:i,source:s,stack:ut(s)},Eb.set(i,s),s)}return{value:i,source:s,stack:ut(s)}}var cs=[],fs=0,Dc=null,Nu=0,Ir=[],Br=0,bo=null,ua=1,la="";function za(i,s){cs[fs++]=Nu,cs[fs++]=Dc,Dc=i,Nu=s}function Rb(i,s,f){Ir[Br++]=ua,Ir[Br++]=la,Ir[Br++]=bo,bo=i;var p=ua;i=la;var y=32-Ln(p)-1;p&=~(1<<y),f+=1;var w=32-Ln(s)+y;if(30<w){var k=y-y%5;w=(p&(1<<k)-1).toString(32),p>>=k,y-=k,ua=1<<32-Ln(s)+y|f<<y|p,la=w+i}else ua=1<<w|f<<y|p,la=i}function Zh(i){i.return!==null&&(za(i,1),Rb(i,1,0))}function Jh(i){for(;i===Dc;)Dc=cs[--fs],cs[fs]=null,Nu=cs[--fs],cs[fs]=null;for(;i===bo;)bo=Ir[--Br],Ir[Br]=null,la=Ir[--Br],Ir[Br]=null,ua=Ir[--Br],Ir[Br]=null}function _b(i,s){Ir[Br++]=ua,Ir[Br++]=la,Ir[Br++]=bo,ua=s.id,la=s.overflow,bo=i}var Tn=null,Mt=null,ot=!1,xo=null,Fr=!1,ep=Error(r(519));function wo(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mu(Or(s,i)),ep}function Tb(i){var s=i.stateNode,f=i.type,p=i.memoizedProps;switch(s[_n]=i,s[Qn]=p,f){case"dialog":tt("cancel",s),tt("close",s);break;case"iframe":case"object":case"embed":tt("load",s);break;case"video":case"audio":for(f=0;f<el.length;f++)tt(el[f],s);break;case"source":tt("error",s);break;case"img":case"image":case"link":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"input":tt("invalid",s),U0(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":tt("invalid",s);break;case"textarea":tt("invalid",s),H0(s,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||p.suppressHydrationWarning===!0||Vx(s.textContent,f)?(p.popover!=null&&(tt("beforetoggle",s),tt("toggle",s)),p.onScroll!=null&&tt("scroll",s),p.onScrollEnd!=null&&tt("scrollend",s),p.onClick!=null&&(s.onclick=Fa),s=!0):s=!1,s||wo(i,!0)}function Ab(i){for(Tn=i.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:Tn=Tn.return}}function ds(i){if(i!==Tn)return!1;if(!ot)return Ab(i),ot=!0,!1;var s=i.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||yv(i.type,i.memoizedProps)),f=!f),f&&Mt&&wo(i),Ab(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Mt=Jx(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Mt=Jx(i)}else s===27?(s=Mt,Bo(i.type)?(i=Cv,Cv=null,Mt=i):Mt=s):Mt=Tn?Pr(i.stateNode.nextSibling):null;return!0}function ci(){Mt=Tn=null,ot=!1}function tp(){var i=xo;return i!==null&&(nr===null?nr=i:nr.push.apply(nr,i),xo=null),i}function Mu(i){xo===null?xo=[i]:xo.push(i)}var np=M(null),fi=null,Ua=null;function So(i,s,f){Z(np,s._currentValue),s._currentValue=f}function Wa(i){i._currentValue=np.current,K(np)}function rp(i,s,f){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===f)break;i=i.return}}function ap(i,s,f,p){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var w=y.dependencies;if(w!==null){var k=y.child;w=w.firstContext;e:for(;w!==null;){var F=w;w=y;for(var X=0;X<s.length;X++)if(F.context===s[X]){w.lanes|=f,F=w.alternate,F!==null&&(F.lanes|=f),rp(w.return,f,i),p||(k=null);break e}w=F.next}}else if(y.tag===18){if(k=y.return,k===null)throw Error(r(341));k.lanes|=f,w=k.alternate,w!==null&&(w.lanes|=f),rp(k,f,i),k=null}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===i){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}}function hs(i,s,f,p){i=null;for(var y=s,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var k=y.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var F=y.type;hr(y.pendingProps.value,k.value)||(i!==null?i.push(F):i=[F])}}else if(y===xe.current){if(k=y.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(ol):i=[ol])}y=y.return}i!==null&&ap(s,i,f,p),s.flags|=262144}function Nc(i){for(i=i.firstContext;i!==null;){if(!hr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function di(i){fi=i,Ua=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function An(i){return kb(fi,i)}function Mc(i,s){return fi===null&&di(i),kb(i,s)}function kb(i,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},Ua===null){if(i===null)throw Error(r(308));Ua=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ua=Ua.next=s;return f}var JT=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(f,p){i.push(p)}};this.abort=function(){s.aborted=!0,i.forEach(function(f){return f()})}},eA=t.unstable_scheduleCallback,tA=t.unstable_NormalPriority,an={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function op(){return{controller:new JT,data:new Map,refCount:0}}function Ou(i){i.refCount--,i.refCount===0&&eA(tA,function(){i.controller.abort()})}var Iu=null,ip=0,ps=0,vs=null;function nA(i,s){if(Iu===null){var f=Iu=[];ip=0,ps=lv(),vs={status:"pending",value:void 0,then:function(p){f.push(p)}}}return ip++,s.then(Db,Db),s}function Db(){if(--ip===0&&Iu!==null){vs!==null&&(vs.status="fulfilled");var i=Iu;Iu=null,ps=0,vs=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function rA(i,s){var f=[],p={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return i.then(function(){p.status="fulfilled",p.value=s;for(var y=0;y<f.length;y++)(0,f[y])(s)},function(y){for(p.status="rejected",p.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),p}var Nb=P.S;P.S=function(i,s){px=Ye(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&nA(i,s),Nb!==null&&Nb(i,s)};var hi=M(null);function sp(){var i=hi.current;return i!==null?i:kt.pooledCache}function Oc(i,s){s===null?Z(hi,hi.current):Z(hi,s.pool)}function Mb(){var i=sp();return i===null?null:{parent:an._currentValue,pool:i}}var ms=Error(r(460)),up=Error(r(474)),Ic=Error(r(542)),Bc={then:function(){}};function Ob(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ib(i,s,f){switch(f=i[f],f===void 0?i.push(s):f!==s&&(s.then(Fa,Fa),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Fb(i),i;default:if(typeof s.status=="string")s.then(Fa,Fa);else{if(i=kt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(p){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=p}},function(p){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Fb(i),i}throw vi=s,ms}}function pi(i){try{var s=i._init;return s(i._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(vi=f,ms):f}}var vi=null;function Bb(){if(vi===null)throw Error(r(459));var i=vi;return vi=null,i}function Fb(i){if(i===ms||i===Ic)throw Error(r(483))}var gs=null,Bu=0;function Fc(i){var s=Bu;return Bu+=1,gs===null&&(gs=[]),Ib(gs,i,s)}function Fu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Lc(i,s){throw s.$$typeof===m?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Lb(i){function s(te,J){if(i){var ne=te.deletions;ne===null?(te.deletions=[J],te.flags|=16):ne.push(J)}}function f(te,J){if(!i)return null;for(;J!==null;)s(te,J),J=J.sibling;return null}function p(te){for(var J=new Map;te!==null;)te.key!==null?J.set(te.key,te):J.set(te.index,te),te=te.sibling;return J}function y(te,J){return te=Pa(te,J),te.index=0,te.sibling=null,te}function w(te,J,ne){return te.index=ne,i?(ne=te.alternate,ne!==null?(ne=ne.index,ne<J?(te.flags|=67108866,J):ne):(te.flags|=67108866,J)):(te.flags|=1048576,J)}function k(te){return i&&te.alternate===null&&(te.flags|=67108866),te}function F(te,J,ne,ve){return J===null||J.tag!==6?(J=Yh(ne,te.mode,ve),J.return=te,J):(J=y(J,ne),J.return=te,J)}function X(te,J,ne,ve){var ze=ne.type;return ze===x?ce(te,J,ne.props.children,ve,ne.key):J!==null&&(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&pi(ze)===J.type)?(J=y(J,ne.props),Fu(J,ne),J.return=te,J):(J=kc(ne.type,ne.key,ne.props,null,te.mode,ve),Fu(J,ne),J.return=te,J)}function ae(te,J,ne,ve){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=Qh(ne,te.mode,ve),J.return=te,J):(J=y(J,ne.children||[]),J.return=te,J)}function ce(te,J,ne,ve,ze){return J===null||J.tag!==7?(J=li(ne,te.mode,ve,ze),J.return=te,J):(J=y(J,ne),J.return=te,J)}function me(te,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Yh(""+J,te.mode,ne),J.return=te,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case g:return ne=kc(J.type,J.key,J.props,null,te.mode,ne),Fu(ne,J),ne.return=te,ne;case b:return J=Qh(J,te.mode,ne),J.return=te,J;case O:return J=pi(J),me(te,J,ne)}if(V(J)||A(J))return J=li(J,te.mode,ne,null),J.return=te,J;if(typeof J.then=="function")return me(te,Fc(J),ne);if(J.$$typeof===R)return me(te,Mc(te,J),ne);Lc(te,J)}return null}function oe(te,J,ne,ve){var ze=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ze!==null?null:F(te,J,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case g:return ne.key===ze?X(te,J,ne,ve):null;case b:return ne.key===ze?ae(te,J,ne,ve):null;case O:return ne=pi(ne),oe(te,J,ne,ve)}if(V(ne)||A(ne))return ze!==null?null:ce(te,J,ne,ve,null);if(typeof ne.then=="function")return oe(te,J,Fc(ne),ve);if(ne.$$typeof===R)return oe(te,J,Mc(te,ne),ve);Lc(te,ne)}return null}function ue(te,J,ne,ve,ze){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return te=te.get(ne)||null,F(J,te,""+ve,ze);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case g:return te=te.get(ve.key===null?ne:ve.key)||null,X(J,te,ve,ze);case b:return te=te.get(ve.key===null?ne:ve.key)||null,ae(J,te,ve,ze);case O:return ve=pi(ve),ue(te,J,ne,ve,ze)}if(V(ve)||A(ve))return te=te.get(ne)||null,ce(J,te,ve,ze,null);if(typeof ve.then=="function")return ue(te,J,ne,Fc(ve),ze);if(ve.$$typeof===R)return ue(te,J,ne,Mc(J,ve),ze);Lc(J,ve)}return null}function Te(te,J,ne,ve){for(var ze=null,lt=null,De=J,Ke=J=0,at=null;De!==null&&Ke<ne.length;Ke++){De.index>Ke?(at=De,De=null):at=De.sibling;var ct=oe(te,De,ne[Ke],ve);if(ct===null){De===null&&(De=at);break}i&&De&&ct.alternate===null&&s(te,De),J=w(ct,J,Ke),lt===null?ze=ct:lt.sibling=ct,lt=ct,De=at}if(Ke===ne.length)return f(te,De),ot&&za(te,Ke),ze;if(De===null){for(;Ke<ne.length;Ke++)De=me(te,ne[Ke],ve),De!==null&&(J=w(De,J,Ke),lt===null?ze=De:lt.sibling=De,lt=De);return ot&&za(te,Ke),ze}for(De=p(De);Ke<ne.length;Ke++)at=ue(De,te,Ke,ne[Ke],ve),at!==null&&(i&&at.alternate!==null&&De.delete(at.key===null?Ke:at.key),J=w(at,J,Ke),lt===null?ze=at:lt.sibling=at,lt=at);return i&&De.forEach(function(Uo){return s(te,Uo)}),ot&&za(te,Ke),ze}function We(te,J,ne,ve){if(ne==null)throw Error(r(151));for(var ze=null,lt=null,De=J,Ke=J=0,at=null,ct=ne.next();De!==null&&!ct.done;Ke++,ct=ne.next()){De.index>Ke?(at=De,De=null):at=De.sibling;var Uo=oe(te,De,ct.value,ve);if(Uo===null){De===null&&(De=at);break}i&&De&&Uo.alternate===null&&s(te,De),J=w(Uo,J,Ke),lt===null?ze=Uo:lt.sibling=Uo,lt=Uo,De=at}if(ct.done)return f(te,De),ot&&za(te,Ke),ze;if(De===null){for(;!ct.done;Ke++,ct=ne.next())ct=me(te,ct.value,ve),ct!==null&&(J=w(ct,J,Ke),lt===null?ze=ct:lt.sibling=ct,lt=ct);return ot&&za(te,Ke),ze}for(De=p(De);!ct.done;Ke++,ct=ne.next())ct=ue(De,te,Ke,ct.value,ve),ct!==null&&(i&&ct.alternate!==null&&De.delete(ct.key===null?Ke:ct.key),J=w(ct,J,Ke),lt===null?ze=ct:lt.sibling=ct,lt=ct);return i&&De.forEach(function(pk){return s(te,pk)}),ot&&za(te,Ke),ze}function Rt(te,J,ne,ve){if(typeof ne=="object"&&ne!==null&&ne.type===x&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case g:e:{for(var ze=ne.key;J!==null;){if(J.key===ze){if(ze=ne.type,ze===x){if(J.tag===7){f(te,J.sibling),ve=y(J,ne.props.children),ve.return=te,te=ve;break e}}else if(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===O&&pi(ze)===J.type){f(te,J.sibling),ve=y(J,ne.props),Fu(ve,ne),ve.return=te,te=ve;break e}f(te,J);break}else s(te,J);J=J.sibling}ne.type===x?(ve=li(ne.props.children,te.mode,ve,ne.key),ve.return=te,te=ve):(ve=kc(ne.type,ne.key,ne.props,null,te.mode,ve),Fu(ve,ne),ve.return=te,te=ve)}return k(te);case b:e:{for(ze=ne.key;J!==null;){if(J.key===ze)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){f(te,J.sibling),ve=y(J,ne.children||[]),ve.return=te,te=ve;break e}else{f(te,J);break}else s(te,J);J=J.sibling}ve=Qh(ne,te.mode,ve),ve.return=te,te=ve}return k(te);case O:return ne=pi(ne),Rt(te,J,ne,ve)}if(V(ne))return Te(te,J,ne,ve);if(A(ne)){if(ze=A(ne),typeof ze!="function")throw Error(r(150));return ne=ze.call(ne),We(te,J,ne,ve)}if(typeof ne.then=="function")return Rt(te,J,Fc(ne),ve);if(ne.$$typeof===R)return Rt(te,J,Mc(te,ne),ve);Lc(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,J!==null&&J.tag===6?(f(te,J.sibling),ve=y(J,ne),ve.return=te,te=ve):(f(te,J),ve=Yh(ne,te.mode,ve),ve.return=te,te=ve),k(te)):f(te,J)}return function(te,J,ne,ve){try{Bu=0;var ze=Rt(te,J,ne,ve);return gs=null,ze}catch(De){if(De===ms||De===Ic)throw De;var lt=pr(29,De,null,te.mode);return lt.lanes=ve,lt.return=te,lt}}}var mi=Lb(!0),Pb=Lb(!1),Co=!1;function lp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Eo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ro(i,s,f){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(dt&2)!==0){var y=p.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),p.pending=s,s=Ac(i),wb(i,null,f),s}return Tc(i,p,s,f),Ac(i)}function Lu(i,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var p=s.lanes;p&=i.pendingLanes,f|=p,s.lanes=f,k0(i,f)}}function fp(i,s){var f=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var y=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var k={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?y=w=k:w=w.next=k,f=f.next}while(f!==null);w===null?y=w=s:w=w.next=s}else y=w=s;f={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=s:i.next=s,f.lastBaseUpdate=s}var dp=!1;function Pu(){if(dp){var i=vs;if(i!==null)throw i}}function zu(i,s,f,p){dp=!1;var y=i.updateQueue;Co=!1;var w=y.firstBaseUpdate,k=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var X=F,ae=X.next;X.next=null,k===null?w=ae:k.next=ae,k=X;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,F=ce.lastBaseUpdate,F!==k&&(F===null?ce.firstBaseUpdate=ae:F.next=ae,ce.lastBaseUpdate=X))}if(w!==null){var me=y.baseState;k=0,ce=ae=X=null,F=w;do{var oe=F.lane&-536870913,ue=oe!==F.lane;if(ue?(rt&oe)===oe:(p&oe)===oe){oe!==0&&oe===ps&&(dp=!0),ce!==null&&(ce=ce.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Te=i,We=F;oe=s;var Rt=f;switch(We.tag){case 1:if(Te=We.payload,typeof Te=="function"){me=Te.call(Rt,me,oe);break e}me=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=We.payload,oe=typeof Te=="function"?Te.call(Rt,me,oe):Te,oe==null)break e;me=v({},me,oe);break e;case 2:Co=!0}}oe=F.callback,oe!==null&&(i.flags|=64,ue&&(i.flags|=8192),ue=y.callbacks,ue===null?y.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ce===null?(ae=ce=ue,X=me):ce=ce.next=ue,k|=oe;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;ue=F,F=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);ce===null&&(X=me),y.baseState=X,y.firstBaseUpdate=ae,y.lastBaseUpdate=ce,w===null&&(y.shared.lanes=0),Do|=k,i.lanes=k,i.memoizedState=me}}function zb(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Ub(i,s){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)zb(f[i],s)}var ys=M(null),Pc=M(0);function Wb(i,s){i=Ya,Z(Pc,i),Z(ys,s),Ya=i|s.baseLanes}function hp(){Z(Pc,Ya),Z(ys,ys.current)}function pp(){Ya=Pc.current,K(ys),K(Pc)}var vr=M(null),Lr=null;function _o(i){var s=i.alternate;Z(Qt,Qt.current&1),Z(vr,i),Lr===null&&(s===null||ys.current!==null||s.memoizedState!==null)&&(Lr=i)}function vp(i){Z(Qt,Qt.current),Z(vr,i),Lr===null&&(Lr=i)}function Hb(i){i.tag===22?(Z(Qt,Qt.current),Z(vr,i),Lr===null&&(Lr=i)):To()}function To(){Z(Qt,Qt.current),Z(vr,vr.current)}function mr(i){K(vr),Lr===i&&(Lr=null),K(Qt)}var Qt=M(0);function zc(i){for(var s=i;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||wv(f)||Sv(f)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ha=0,$e=null,Ct=null,on=null,Uc=!1,bs=!1,gi=!1,Wc=0,Uu=0,xs=null,aA=0;function Gt(){throw Error(r(321))}function mp(i,s){if(s===null)return!1;for(var f=0;f<s.length&&f<i.length;f++)if(!hr(i[f],s[f]))return!1;return!0}function gp(i,s,f,p,y,w){return Ha=w,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=i===null||i.memoizedState===null?R1:Mp,gi=!1,w=f(p,y),gi=!1,bs&&(w=Vb(s,f,p,y)),jb(i),w}function jb(i){P.H=ju;var s=Ct!==null&&Ct.next!==null;if(Ha=0,on=Ct=$e=null,Uc=!1,Uu=0,xs=null,s)throw Error(r(300));i===null||sn||(i=i.dependencies,i!==null&&Nc(i)&&(sn=!0))}function Vb(i,s,f,p){$e=i;var y=0;do{if(bs&&(xs=null),Uu=0,bs=!1,25<=y)throw Error(r(301));if(y+=1,on=Ct=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}P.H=_1,w=s(f,p)}while(bs);return w}function oA(){var i=P.H,s=i.useState()[0];return s=typeof s.then=="function"?Wu(s):s,i=i.useState()[0],(Ct!==null?Ct.memoizedState:null)!==i&&($e.flags|=1024),s}function yp(){var i=Wc!==0;return Wc=0,i}function bp(i,s,f){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f}function xp(i){if(Uc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Uc=!1}Ha=0,on=Ct=$e=null,bs=!1,Uu=Wc=0,xs=null}function Xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?$e.memoizedState=on=i:on=on.next=i,on}function Zt(){if(Ct===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var s=on===null?$e.memoizedState:on.next;if(s!==null)on=s,Ct=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},on===null?$e.memoizedState=on=i:on=on.next=i}return on}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(i){var s=Uu;return Uu+=1,xs===null&&(xs=[]),i=Ib(xs,i,s),s=$e,(on===null?s.memoizedState:on.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?R1:Mp),i}function jc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wu(i);if(i.$$typeof===R)return An(i)}throw Error(r(438,String(i)))}function wp(i){var s=null,f=$e.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var p=$e.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=Hc(),$e.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(i),p=0;p<i;p++)f[p]=B;return s.index++,f}function ja(i,s){return typeof s=="function"?s(i):s}function Vc(i){var s=Zt();return Sp(s,Ct,i)}function Sp(i,s,f){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var y=i.baseQueue,w=p.pending;if(w!==null){if(y!==null){var k=y.next;y.next=w.next,w.next=k}s.baseQueue=y=w,p.pending=null}if(w=i.baseState,y===null)i.memoizedState=w;else{s=y.next;var F=k=null,X=null,ae=s,ce=!1;do{var me=ae.lane&-536870913;if(me!==ae.lane?(rt&me)===me:(Ha&me)===me){var oe=ae.revertLane;if(oe===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),me===ps&&(ce=!0);else if((Ha&oe)===oe){ae=ae.next,oe===ps&&(ce=!0);continue}else me={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},X===null?(F=X=me,k=w):X=X.next=me,$e.lanes|=oe,Do|=oe;me=ae.action,gi&&f(w,me),w=ae.hasEagerState?ae.eagerState:f(w,me)}else oe={lane:me,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},X===null?(F=X=oe,k=w):X=X.next=oe,$e.lanes|=me,Do|=me;ae=ae.next}while(ae!==null&&ae!==s);if(X===null?k=w:X.next=F,!hr(w,i.memoizedState)&&(sn=!0,ce&&(f=vs,f!==null)))throw f;i.memoizedState=w,i.baseState=k,i.baseQueue=X,p.lastRenderedState=w}return y===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Cp(i){var s=Zt(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var p=f.dispatch,y=f.pending,w=s.memoizedState;if(y!==null){f.pending=null;var k=y=y.next;do w=i(w,k.action),k=k.next;while(k!==y);hr(w,s.memoizedState)||(sn=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),f.lastRenderedState=w}return[w,p]}function Gb(i,s,f){var p=$e,y=Zt(),w=ot;if(w){if(f===void 0)throw Error(r(407));f=f()}else f=s();var k=!hr((Ct||y).memoizedState,f);if(k&&(y.memoizedState=f,sn=!0),y=y.queue,_p(Kb.bind(null,p,y,i),[i]),y.getSnapshot!==s||k||on!==null&&on.memoizedState.tag&1){if(p.flags|=2048,ws(9,{destroy:void 0},$b.bind(null,p,y,f,s),null),kt===null)throw Error(r(349));w||(Ha&127)!==0||qb(p,s,f)}return f}function qb(i,s,f){i.flags|=16384,i={getSnapshot:s,value:f},s=$e.updateQueue,s===null?(s=Hc(),$e.updateQueue=s,s.stores=[i]):(f=s.stores,f===null?s.stores=[i]:f.push(i))}function $b(i,s,f,p){s.value=f,s.getSnapshot=p,Xb(s)&&Yb(i)}function Kb(i,s,f){return f(function(){Xb(s)&&Yb(i)})}function Xb(i){var s=i.getSnapshot;i=i.value;try{var f=s();return!hr(i,f)}catch{return!0}}function Yb(i){var s=ui(i,2);s!==null&&rr(s,i,2)}function Ep(i){var s=Xn();if(typeof i=="function"){var f=i;if(i=f(),gi){Yn(!0);try{f()}finally{Yn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:i},s}function Qb(i,s,f,p){return i.baseState=f,Sp(i,Ct,typeof p=="function"?p:ja)}function iA(i,s,f,p,y){if($c(i))throw Error(r(485));if(i=s.action,i!==null){var w={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){w.listeners.push(k)}};P.T!==null?f(!0):w.isTransition=!1,p(w),f=s.pending,f===null?(w.next=s.pending=w,Zb(s,w)):(w.next=f.next,s.pending=f.next=w)}}function Zb(i,s){var f=s.action,p=s.payload,y=i.state;if(s.isTransition){var w=P.T,k={};P.T=k;try{var F=f(y,p),X=P.S;X!==null&&X(k,F),Jb(i,s,F)}catch(ae){Rp(i,s,ae)}finally{w!==null&&k.types!==null&&(w.types=k.types),P.T=w}}else try{w=f(y,p),Jb(i,s,w)}catch(ae){Rp(i,s,ae)}}function Jb(i,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){e1(i,s,p)},function(p){return Rp(i,s,p)}):e1(i,s,f)}function e1(i,s,f){s.status="fulfilled",s.value=f,t1(s),i.state=f,s=i.pending,s!==null&&(f=s.next,f===s?i.pending=null:(f=f.next,s.next=f,Zb(i,f)))}function Rp(i,s,f){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=f,t1(s),s=s.next;while(s!==p)}i.action=null}function t1(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function n1(i,s){return s}function r1(i,s){if(ot){var f=kt.formState;if(f!==null){e:{var p=$e;if(ot){if(Mt){t:{for(var y=Mt,w=Fr;y.nodeType!==8;){if(!w){y=null;break t}if(y=Pr(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Mt=Pr(y.nextSibling),p=y.data==="F!";break e}}wo(p)}p=!1}p&&(s=f[0])}}return f=Xn(),f.memoizedState=f.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n1,lastRenderedState:s},f.queue=p,f=S1.bind(null,$e,p),p.dispatch=f,p=Ep(!1),w=Np.bind(null,$e,!1,p.queue),p=Xn(),y={state:s,dispatch:null,action:i,pending:null},p.queue=y,f=iA.bind(null,$e,y,w,f),y.dispatch=f,p.memoizedState=i,[s,f,!1]}function a1(i){var s=Zt();return o1(s,Ct,i)}function o1(i,s,f){if(s=Sp(i,s,n1)[0],i=Vc(ja)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Wu(s)}catch(k){throw k===ms?Ic:k}else p=s;s=Zt();var y=s.queue,w=y.dispatch;return f!==s.memoizedState&&($e.flags|=2048,ws(9,{destroy:void 0},sA.bind(null,y,f),null)),[p,w,i]}function sA(i,s){i.action=s}function i1(i){var s=Zt(),f=Ct;if(f!==null)return o1(s,f,i);Zt(),s=s.memoizedState,f=Zt();var p=f.queue.dispatch;return f.memoizedState=i,[s,p,!1]}function ws(i,s,f,p){return i={tag:i,create:f,deps:p,inst:s,next:null},s=$e.updateQueue,s===null&&(s=Hc(),$e.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=i.next=i:(p=f.next,f.next=i,i.next=p,s.lastEffect=i),i}function s1(){return Zt().memoizedState}function Gc(i,s,f,p){var y=Xn();$e.flags|=i,y.memoizedState=ws(1|s,{destroy:void 0},f,p===void 0?null:p)}function qc(i,s,f,p){var y=Zt();p=p===void 0?null:p;var w=y.memoizedState.inst;Ct!==null&&p!==null&&mp(p,Ct.memoizedState.deps)?y.memoizedState=ws(s,w,f,p):($e.flags|=i,y.memoizedState=ws(1|s,w,f,p))}function u1(i,s){Gc(8390656,8,i,s)}function _p(i,s){qc(2048,8,i,s)}function uA(i){$e.flags|=4;var s=$e.updateQueue;if(s===null)s=Hc(),$e.updateQueue=s,s.events=[i];else{var f=s.events;f===null?s.events=[i]:f.push(i)}}function l1(i){var s=Zt().memoizedState;return uA({ref:s,nextImpl:i}),function(){if((dt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function c1(i,s){return qc(4,2,i,s)}function f1(i,s){return qc(4,4,i,s)}function d1(i,s){if(typeof s=="function"){i=i();var f=s(i);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function h1(i,s,f){f=f!=null?f.concat([i]):null,qc(4,4,d1.bind(null,s,i),f)}function Tp(){}function p1(i,s){var f=Zt();s=s===void 0?null:s;var p=f.memoizedState;return s!==null&&mp(s,p[1])?p[0]:(f.memoizedState=[i,s],i)}function v1(i,s){var f=Zt();s=s===void 0?null:s;var p=f.memoizedState;if(s!==null&&mp(s,p[1]))return p[0];if(p=i(),gi){Yn(!0);try{i()}finally{Yn(!1)}}return f.memoizedState=[p,s],p}function Ap(i,s,f){return f===void 0||(Ha&1073741824)!==0&&(rt&261930)===0?i.memoizedState=s:(i.memoizedState=f,i=mx(),$e.lanes|=i,Do|=i,f)}function m1(i,s,f,p){return hr(f,s)?f:ys.current!==null?(i=Ap(i,f,p),hr(i,s)||(sn=!0),i):(Ha&42)===0||(Ha&1073741824)!==0&&(rt&261930)===0?(sn=!0,i.memoizedState=f):(i=mx(),$e.lanes|=i,Do|=i,s)}function g1(i,s,f,p,y){var w=$.p;$.p=w!==0&&8>w?w:8;var k=P.T,F={};P.T=F,Np(i,!1,s,f);try{var X=y(),ae=P.S;if(ae!==null&&ae(F,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ce=rA(X,p);Hu(i,s,ce,br(i))}else Hu(i,s,p,br(i))}catch(me){Hu(i,s,{then:function(){},status:"rejected",reason:me},br())}finally{$.p=w,k!==null&&F.types!==null&&(k.types=F.types),P.T=k}}function lA(){}function kp(i,s,f,p){if(i.tag!==5)throw Error(r(476));var y=y1(i).queue;g1(i,y,s,Q,f===null?lA:function(){return b1(i),f(p)})}function y1(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:Q},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:f},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function b1(i){var s=y1(i);s.next===null&&(s=i.alternate.memoizedState),Hu(i,s.next.queue,{},br())}function Dp(){return An(ol)}function x1(){return Zt().memoizedState}function w1(){return Zt().memoizedState}function cA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var f=br();i=Eo(f);var p=Ro(s,i,f);p!==null&&(rr(p,s,f),Lu(p,s,f)),s={cache:op()},i.payload=s;return}s=s.return}}function fA(i,s,f){var p=br();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},$c(i)?C1(s,f):(f=Kh(i,s,f,p),f!==null&&(rr(f,i,p),E1(f,s,p)))}function S1(i,s,f){var p=br();Hu(i,s,f,p)}function Hu(i,s,f,p){var y={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if($c(i))C1(s,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var k=s.lastRenderedState,F=w(k,f);if(y.hasEagerState=!0,y.eagerState=F,hr(F,k))return Tc(i,s,y,0),kt===null&&_c(),!1}catch{}if(f=Kh(i,s,y,p),f!==null)return rr(f,i,p),E1(f,s,p),!0}return!1}function Np(i,s,f,p){if(p={lane:2,revertLane:lv(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},$c(i)){if(s)throw Error(r(479))}else s=Kh(i,f,p,2),s!==null&&rr(s,i,2)}function $c(i){var s=i.alternate;return i===$e||s!==null&&s===$e}function C1(i,s){bs=Uc=!0;var f=i.pending;f===null?s.next=s:(s.next=f.next,f.next=s),i.pending=s}function E1(i,s,f){if((f&4194048)!==0){var p=s.lanes;p&=i.pendingLanes,f|=p,s.lanes=f,k0(i,f)}}var ju={readContext:An,use:jc,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt};ju.useEffectEvent=Gt;var R1={readContext:An,use:jc,useCallback:function(i,s){return Xn().memoizedState=[i,s===void 0?null:s],i},useContext:An,useEffect:u1,useImperativeHandle:function(i,s,f){f=f!=null?f.concat([i]):null,Gc(4194308,4,d1.bind(null,s,i),f)},useLayoutEffect:function(i,s){return Gc(4194308,4,i,s)},useInsertionEffect:function(i,s){Gc(4,2,i,s)},useMemo:function(i,s){var f=Xn();s=s===void 0?null:s;var p=i();if(gi){Yn(!0);try{i()}finally{Yn(!1)}}return f.memoizedState=[p,s],p},useReducer:function(i,s,f){var p=Xn();if(f!==void 0){var y=f(s);if(gi){Yn(!0);try{f(s)}finally{Yn(!1)}}}else y=s;return p.memoizedState=p.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},p.queue=i,i=i.dispatch=fA.bind(null,$e,i),[p.memoizedState,i]},useRef:function(i){var s=Xn();return i={current:i},s.memoizedState=i},useState:function(i){i=Ep(i);var s=i.queue,f=S1.bind(null,$e,s);return s.dispatch=f,[i.memoizedState,f]},useDebugValue:Tp,useDeferredValue:function(i,s){var f=Xn();return Ap(f,i,s)},useTransition:function(){var i=Ep(!1);return i=g1.bind(null,$e,i.queue,!0,!1),Xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,f){var p=$e,y=Xn();if(ot){if(f===void 0)throw Error(r(407));f=f()}else{if(f=s(),kt===null)throw Error(r(349));(rt&127)!==0||qb(p,s,f)}y.memoizedState=f;var w={value:f,getSnapshot:s};return y.queue=w,u1(Kb.bind(null,p,w,i),[i]),p.flags|=2048,ws(9,{destroy:void 0},$b.bind(null,p,w,f,s),null),f},useId:function(){var i=Xn(),s=kt.identifierPrefix;if(ot){var f=la,p=ua;f=(p&~(1<<32-Ln(p)-1)).toString(32)+f,s="_"+s+"R_"+f,f=Wc++,0<f&&(s+="H"+f.toString(32)),s+="_"}else f=aA++,s="_"+s+"r_"+f.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Dp,useFormState:r1,useActionState:r1,useOptimistic:function(i){var s=Xn();s.memoizedState=s.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=Np.bind(null,$e,!0,f),f.dispatch=s,[i,s]},useMemoCache:wp,useCacheRefresh:function(){return Xn().memoizedState=cA.bind(null,$e)},useEffectEvent:function(i){var s=Xn(),f={impl:i};return s.memoizedState=f,function(){if((dt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Mp={readContext:An,use:jc,useCallback:p1,useContext:An,useEffect:_p,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:f1,useMemo:v1,useReducer:Vc,useRef:s1,useState:function(){return Vc(ja)},useDebugValue:Tp,useDeferredValue:function(i,s){var f=Zt();return m1(f,Ct.memoizedState,i,s)},useTransition:function(){var i=Vc(ja)[0],s=Zt().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:Gb,useId:x1,useHostTransitionStatus:Dp,useFormState:a1,useActionState:a1,useOptimistic:function(i,s){var f=Zt();return Qb(f,Ct,i,s)},useMemoCache:wp,useCacheRefresh:w1};Mp.useEffectEvent=l1;var _1={readContext:An,use:jc,useCallback:p1,useContext:An,useEffect:_p,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:f1,useMemo:v1,useReducer:Cp,useRef:s1,useState:function(){return Cp(ja)},useDebugValue:Tp,useDeferredValue:function(i,s){var f=Zt();return Ct===null?Ap(f,i,s):m1(f,Ct.memoizedState,i,s)},useTransition:function(){var i=Cp(ja)[0],s=Zt().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:Gb,useId:x1,useHostTransitionStatus:Dp,useFormState:i1,useActionState:i1,useOptimistic:function(i,s){var f=Zt();return Ct!==null?Qb(f,Ct,i,s):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:wp,useCacheRefresh:w1};_1.useEffectEvent=l1;function Op(i,s,f,p){s=i.memoizedState,f=f(p,s),f=f==null?s:v({},s,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Ip={enqueueSetState:function(i,s,f){i=i._reactInternals;var p=br(),y=Eo(p);y.payload=s,f!=null&&(y.callback=f),s=Ro(i,y,p),s!==null&&(rr(s,i,p),Lu(s,i,p))},enqueueReplaceState:function(i,s,f){i=i._reactInternals;var p=br(),y=Eo(p);y.tag=1,y.payload=s,f!=null&&(y.callback=f),s=Ro(i,y,p),s!==null&&(rr(s,i,p),Lu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var f=br(),p=Eo(f);p.tag=2,s!=null&&(p.callback=s),s=Ro(i,p,f),s!==null&&(rr(s,i,f),Lu(s,i,f))}};function T1(i,s,f,p,y,w,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,k):s.prototype&&s.prototype.isPureReactComponent?!ku(f,p)||!ku(y,w):!0}function A1(i,s,f,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,p),s.state!==i&&Ip.enqueueReplaceState(s,s.state,null)}function yi(i,s){var f=s;if("ref"in s){f={};for(var p in s)p!=="ref"&&(f[p]=s[p])}if(i=i.defaultProps){f===s&&(f=v({},f));for(var y in i)f[y]===void 0&&(f[y]=i[y])}return f}function k1(i){Rc(i)}function D1(i){console.error(i)}function N1(i){Rc(i)}function Kc(i,s){try{var f=i.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function M1(i,s,f){try{var p=i.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Bp(i,s,f){return f=Eo(f),f.tag=3,f.payload={element:null},f.callback=function(){Kc(i,s)},f}function O1(i){return i=Eo(i),i.tag=3,i}function I1(i,s,f,p){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var w=p.value;i.payload=function(){return y(w)},i.callback=function(){M1(s,f,p)}}var k=f.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){M1(s,f,p),typeof y!="function"&&(No===null?No=new Set([this]):No.add(this));var F=p.stack;this.componentDidCatch(p.value,{componentStack:F!==null?F:""})})}function dA(i,s,f,p,y){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=f.alternate,s!==null&&hs(s,f,y,!0),f=vr.current,f!==null){switch(f.tag){case 31:case 13:return Lr===null?sf():f.alternate===null&&qt===0&&(qt=3),f.flags&=-257,f.flags|=65536,f.lanes=y,p===Bc?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([p]):s.add(p),iv(i,p,y)),!1;case 22:return f.flags|=65536,p===Bc?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([p]):f.add(p)),iv(i,p,y)),!1}throw Error(r(435,f.tag))}return iv(i,p,y),sf(),!1}if(ot)return s=vr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,p!==ep&&(i=Error(r(422),{cause:p}),Mu(Or(i,f)))):(p!==ep&&(s=Error(r(423),{cause:p}),Mu(Or(s,f))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,p=Or(p,f),y=Bp(i.stateNode,p,y),fp(i,y),qt!==4&&(qt=2)),!1;var w=Error(r(520),{cause:p});if(w=Or(w,f),Qu===null?Qu=[w]:Qu.push(w),qt!==4&&(qt=2),s===null)return!0;p=Or(p,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,i=y&-y,f.lanes|=i,i=Bp(f.stateNode,p,i),fp(f,i),!1;case 1:if(s=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(No===null||!No.has(w))))return f.flags|=65536,y&=-y,f.lanes|=y,y=O1(y),I1(y,i,f,p),fp(f,y),!1}f=f.return}while(f!==null);return!1}var Fp=Error(r(461)),sn=!1;function kn(i,s,f,p){s.child=i===null?Pb(s,null,f,p):mi(s,i.child,f,p)}function B1(i,s,f,p,y){f=f.render;var w=s.ref;if("ref"in p){var k={};for(var F in p)F!=="ref"&&(k[F]=p[F])}else k=p;return di(s),p=gp(i,s,f,k,w,y),F=yp(),i!==null&&!sn?(bp(i,s,y),Va(i,s,y)):(ot&&F&&Zh(s),s.flags|=1,kn(i,s,p,y),s.child)}function F1(i,s,f,p,y){if(i===null){var w=f.type;return typeof w=="function"&&!Xh(w)&&w.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=w,L1(i,s,w,p,y)):(i=kc(f.type,null,p,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(w=i.child,!Vp(i,y)){var k=w.memoizedProps;if(f=f.compare,f=f!==null?f:ku,f(k,p)&&i.ref===s.ref)return Va(i,s,y)}return s.flags|=1,i=Pa(w,p),i.ref=s.ref,i.return=s,s.child=i}function L1(i,s,f,p,y){if(i!==null){var w=i.memoizedProps;if(ku(w,p)&&i.ref===s.ref)if(sn=!1,s.pendingProps=p=w,Vp(i,y))(i.flags&131072)!==0&&(sn=!0);else return s.lanes=i.lanes,Va(i,s,y)}return Lp(i,s,f,p,y)}function P1(i,s,f,p){var y=p.children,w=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|f:f,i!==null){for(p=s.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;p=y&~w}else p=0,s.child=null;return z1(i,s,w,f,p)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Oc(s,w!==null?w.cachePool:null),w!==null?Wb(s,w):hp(),Hb(s);else return p=s.lanes=536870912,z1(i,s,w!==null?w.baseLanes|f:f,f,p)}else w!==null?(Oc(s,w.cachePool),Wb(s,w),To(),s.memoizedState=null):(i!==null&&Oc(s,null),hp(),To());return kn(i,s,y,f),s.child}function Vu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function z1(i,s,f,p,y){var w=sp();return w=w===null?null:{parent:an._currentValue,pool:w},s.memoizedState={baseLanes:f,cachePool:w},i!==null&&Oc(s,null),hp(),Hb(s),i!==null&&hs(i,s,p,!0),s.childLanes=y,null}function Xc(i,s){return s=Qc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function U1(i,s,f){return mi(s,i.child,null,f),i=Xc(s,s.pendingProps),i.flags|=2,mr(s),s.memoizedState=null,i}function hA(i,s,f){var p=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ot){if(p.mode==="hidden")return i=Xc(s,p),s.lanes=536870912,Vu(null,i);if(vp(s),(i=Mt)?(i=Zx(i,Fr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:bo!==null?{id:ua,overflow:la}:null,retryLane:536870912,hydrationErrors:null},f=Cb(i),f.return=s,s.child=f,Tn=s,Mt=null)):i=null,i===null)throw wo(s);return s.lanes=536870912,null}return Xc(s,p)}var w=i.memoizedState;if(w!==null){var k=w.dehydrated;if(vp(s),y)if(s.flags&256)s.flags&=-257,s=U1(i,s,f);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(sn||hs(i,s,f,!1),y=(f&i.childLanes)!==0,sn||y){if(p=kt,p!==null&&(k=D0(p,f),k!==0&&k!==w.retryLane))throw w.retryLane=k,ui(i,k),rr(p,i,k),Fp;sf(),s=U1(i,s,f)}else i=w.treeContext,Mt=Pr(k.nextSibling),Tn=s,ot=!0,xo=null,Fr=!1,i!==null&&_b(s,i),s=Xc(s,p),s.flags|=4096;return s}return i=Pa(i.child,{mode:p.mode,children:p.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Yc(i,s){var f=s.ref;if(f===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(i===null||i.ref!==f)&&(s.flags|=4194816)}}function Lp(i,s,f,p,y){return di(s),f=gp(i,s,f,p,void 0,y),p=yp(),i!==null&&!sn?(bp(i,s,y),Va(i,s,y)):(ot&&p&&Zh(s),s.flags|=1,kn(i,s,f,y),s.child)}function W1(i,s,f,p,y,w){return di(s),s.updateQueue=null,f=Vb(s,p,f,y),jb(i),p=yp(),i!==null&&!sn?(bp(i,s,w),Va(i,s,w)):(ot&&p&&Zh(s),s.flags|=1,kn(i,s,f,w),s.child)}function H1(i,s,f,p,y){if(di(s),s.stateNode===null){var w=ls,k=f.contextType;typeof k=="object"&&k!==null&&(w=An(k)),w=new f(p,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ip,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=p,w.state=s.memoizedState,w.refs={},lp(s),k=f.contextType,w.context=typeof k=="object"&&k!==null?An(k):ls,w.state=s.memoizedState,k=f.getDerivedStateFromProps,typeof k=="function"&&(Op(s,f,k,p),w.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(k=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),k!==w.state&&Ip.enqueueReplaceState(w,w.state,null),zu(s,p,w,y),Pu(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(i===null){w=s.stateNode;var F=s.memoizedProps,X=yi(f,F);w.props=X;var ae=w.context,ce=f.contextType;k=ls,typeof ce=="object"&&ce!==null&&(k=An(ce));var me=f.getDerivedStateFromProps;ce=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function",F=s.pendingProps!==F,ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(F||ae!==k)&&A1(s,w,p,k),Co=!1;var oe=s.memoizedState;w.state=oe,zu(s,p,w,y),Pu(),ae=s.memoizedState,F||oe!==ae||Co?(typeof me=="function"&&(Op(s,f,me,p),ae=s.memoizedState),(X=Co||T1(s,f,X,p,oe,ae,k))?(ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ae),w.props=p,w.state=ae,w.context=k,p=X):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{w=s.stateNode,cp(i,s),k=s.memoizedProps,ce=yi(f,k),w.props=ce,me=s.pendingProps,oe=w.context,ae=f.contextType,X=ls,typeof ae=="object"&&ae!==null&&(X=An(ae)),F=f.getDerivedStateFromProps,(ae=typeof F=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==me||oe!==X)&&A1(s,w,p,X),Co=!1,oe=s.memoizedState,w.state=oe,zu(s,p,w,y),Pu();var ue=s.memoizedState;k!==me||oe!==ue||Co||i!==null&&i.dependencies!==null&&Nc(i.dependencies)?(typeof F=="function"&&(Op(s,f,F,p),ue=s.memoizedState),(ce=Co||T1(s,f,ce,p,oe,ue,X)||i!==null&&i.dependencies!==null&&Nc(i.dependencies))?(ae||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,ue,X),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,ue,X)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===i.memoizedProps&&oe===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&oe===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ue),w.props=p,w.state=ue,w.context=X,p=ce):(typeof w.componentDidUpdate!="function"||k===i.memoizedProps&&oe===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&oe===i.memoizedState||(s.flags|=1024),p=!1)}return w=p,Yc(i,s),p=(s.flags&128)!==0,w||p?(w=s.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,i!==null&&p?(s.child=mi(s,i.child,null,y),s.child=mi(s,null,f,y)):kn(i,s,f,y),s.memoizedState=w.state,i=s.child):i=Va(i,s,y),i}function j1(i,s,f,p){return ci(),s.flags|=256,kn(i,s,f,p),s.child}var Pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zp(i){return{baseLanes:i,cachePool:Mb()}}function Up(i,s,f){return i=i!==null?i.childLanes&~f:0,s&&(i|=yr),i}function V1(i,s,f){var p=s.pendingProps,y=!1,w=(s.flags&128)!==0,k;if((k=w)||(k=i!==null&&i.memoizedState===null?!1:(Qt.current&2)!==0),k&&(y=!0,s.flags&=-129),k=(s.flags&32)!==0,s.flags&=-33,i===null){if(ot){if(y?_o(s):To(),(i=Mt)?(i=Zx(i,Fr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:bo!==null?{id:ua,overflow:la}:null,retryLane:536870912,hydrationErrors:null},f=Cb(i),f.return=s,s.child=f,Tn=s,Mt=null)):i=null,i===null)throw wo(s);return Sv(i)?s.lanes=32:s.lanes=536870912,null}var F=p.children;return p=p.fallback,y?(To(),y=s.mode,F=Qc({mode:"hidden",children:F},y),p=li(p,y,f,null),F.return=s,p.return=s,F.sibling=p,s.child=F,p=s.child,p.memoizedState=zp(f),p.childLanes=Up(i,k,f),s.memoizedState=Pp,Vu(null,p)):(_o(s),Wp(s,F))}var X=i.memoizedState;if(X!==null&&(F=X.dehydrated,F!==null)){if(w)s.flags&256?(_o(s),s.flags&=-257,s=Hp(i,s,f)):s.memoizedState!==null?(To(),s.child=i.child,s.flags|=128,s=null):(To(),F=p.fallback,y=s.mode,p=Qc({mode:"visible",children:p.children},y),F=li(F,y,f,null),F.flags|=2,p.return=s,F.return=s,p.sibling=F,s.child=p,mi(s,i.child,null,f),p=s.child,p.memoizedState=zp(f),p.childLanes=Up(i,k,f),s.memoizedState=Pp,s=Vu(null,p));else if(_o(s),Sv(F)){if(k=F.nextSibling&&F.nextSibling.dataset,k)var ae=k.dgst;k=ae,p=Error(r(419)),p.stack="",p.digest=k,Mu({value:p,source:null,stack:null}),s=Hp(i,s,f)}else if(sn||hs(i,s,f,!1),k=(f&i.childLanes)!==0,sn||k){if(k=kt,k!==null&&(p=D0(k,f),p!==0&&p!==X.retryLane))throw X.retryLane=p,ui(i,p),rr(k,i,p),Fp;wv(F)||sf(),s=Hp(i,s,f)}else wv(F)?(s.flags|=192,s.child=i.child,s=null):(i=X.treeContext,Mt=Pr(F.nextSibling),Tn=s,ot=!0,xo=null,Fr=!1,i!==null&&_b(s,i),s=Wp(s,p.children),s.flags|=4096);return s}return y?(To(),F=p.fallback,y=s.mode,X=i.child,ae=X.sibling,p=Pa(X,{mode:"hidden",children:p.children}),p.subtreeFlags=X.subtreeFlags&65011712,ae!==null?F=Pa(ae,F):(F=li(F,y,f,null),F.flags|=2),F.return=s,p.return=s,p.sibling=F,s.child=p,Vu(null,p),p=s.child,F=i.child.memoizedState,F===null?F=zp(f):(y=F.cachePool,y!==null?(X=an._currentValue,y=y.parent!==X?{parent:X,pool:X}:y):y=Mb(),F={baseLanes:F.baseLanes|f,cachePool:y}),p.memoizedState=F,p.childLanes=Up(i,k,f),s.memoizedState=Pp,Vu(i.child,p)):(_o(s),f=i.child,i=f.sibling,f=Pa(f,{mode:"visible",children:p.children}),f.return=s,f.sibling=null,i!==null&&(k=s.deletions,k===null?(s.deletions=[i],s.flags|=16):k.push(i)),s.child=f,s.memoizedState=null,f)}function Wp(i,s){return s=Qc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Qc(i,s){return i=pr(22,i,null,s),i.lanes=0,i}function Hp(i,s,f){return mi(s,i.child,null,f),i=Wp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function G1(i,s,f){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),rp(i.return,s,f)}function jp(i,s,f,p,y,w){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:y,treeForkCount:w}:(k.isBackwards=s,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=f,k.tailMode=y,k.treeForkCount=w)}function q1(i,s,f){var p=s.pendingProps,y=p.revealOrder,w=p.tail;p=p.children;var k=Qt.current,F=(k&2)!==0;if(F?(k=k&1|2,s.flags|=128):k&=1,Z(Qt,k),kn(i,s,p,f),p=ot?Nu:0,!F&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&G1(i,f,s);else if(i.tag===19)G1(i,f,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(f=s.child,y=null;f!==null;)i=f.alternate,i!==null&&zc(i)===null&&(y=f),f=f.sibling;f=y,f===null?(y=s.child,s.child=null):(y=f.sibling,f.sibling=null),jp(s,!1,y,f,w,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&zc(i)===null){s.child=y;break}i=y.sibling,y.sibling=f,f=y,y=i}jp(s,!0,f,null,w,p);break;case"together":jp(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Va(i,s,f){if(i!==null&&(s.dependencies=i.dependencies),Do|=s.lanes,(f&s.childLanes)===0)if(i!==null){if(hs(i,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,f=Pa(i,i.pendingProps),s.child=f,f.return=s;i.sibling!==null;)i=i.sibling,f=f.sibling=Pa(i,i.pendingProps),f.return=s;f.sibling=null}return s.child}function Vp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Nc(i)))}function pA(i,s,f){switch(s.tag){case 3:Ce(s,s.stateNode.containerInfo),So(s,an,i.memoizedState.cache),ci();break;case 27:case 5:be(s);break;case 4:Ce(s,s.stateNode.containerInfo);break;case 10:So(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,vp(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(_o(s),s.flags|=128,null):(f&s.child.childLanes)!==0?V1(i,s,f):(_o(s),i=Va(i,s,f),i!==null?i.sibling:null);_o(s);break;case 19:var y=(i.flags&128)!==0;if(p=(f&s.childLanes)!==0,p||(hs(i,s,f,!1),p=(f&s.childLanes)!==0),y){if(p)return q1(i,s,f);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Z(Qt,Qt.current),p)break;return null;case 22:return s.lanes=0,P1(i,s,f,s.pendingProps);case 24:So(s,an,i.memoizedState.cache)}return Va(i,s,f)}function $1(i,s,f){if(i!==null)if(i.memoizedProps!==s.pendingProps)sn=!0;else{if(!Vp(i,f)&&(s.flags&128)===0)return sn=!1,pA(i,s,f);sn=(i.flags&131072)!==0}else sn=!1,ot&&(s.flags&1048576)!==0&&Rb(s,Nu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(i=pi(s.elementType),s.type=i,typeof i=="function")Xh(i)?(p=yi(i,p),s.tag=1,s=H1(null,s,i,p,f)):(s.tag=0,s=Lp(null,s,i,p,f));else{if(i!=null){var y=i.$$typeof;if(y===E){s.tag=11,s=B1(null,s,i,p,f);break e}else if(y===N){s.tag=14,s=F1(null,s,i,p,f);break e}}throw s=j(i)||i,Error(r(306,s,""))}}return s;case 0:return Lp(i,s,s.type,s.pendingProps,f);case 1:return p=s.type,y=yi(p,s.pendingProps),H1(i,s,p,y,f);case 3:e:{if(Ce(s,s.stateNode.containerInfo),i===null)throw Error(r(387));p=s.pendingProps;var w=s.memoizedState;y=w.element,cp(i,s),zu(s,p,null,f);var k=s.memoizedState;if(p=k.cache,So(s,an,p),p!==w.cache&&ap(s,[an],f,!0),Pu(),p=k.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:k.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=j1(i,s,p,f);break e}else if(p!==y){y=Or(Error(r(424)),s),Mu(y),s=j1(i,s,p,f);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Mt=Pr(i.firstChild),Tn=s,ot=!0,xo=null,Fr=!0,f=Pb(s,null,p,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ci(),p===y){s=Va(i,s,f);break e}kn(i,s,p,f)}s=s.child}return s;case 26:return Yc(i,s),i===null?(f=a2(s.type,null,s.pendingProps,null))?s.memoizedState=f:ot||(f=s.type,i=s.pendingProps,p=pf(ge.current).createElement(f),p[_n]=s,p[Qn]=i,Dn(p,f,i),xn(p),s.stateNode=p):s.memoizedState=a2(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return be(s),i===null&&ot&&(p=s.stateNode=t2(s.type,s.pendingProps,ge.current),Tn=s,Fr=!0,y=Mt,Bo(s.type)?(Cv=y,Mt=Pr(p.firstChild)):Mt=y),kn(i,s,s.pendingProps.children,f),Yc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ot&&((y=p=Mt)&&(p=VA(p,s.type,s.pendingProps,Fr),p!==null?(s.stateNode=p,Tn=s,Mt=Pr(p.firstChild),Fr=!1,y=!0):y=!1),y||wo(s)),be(s),y=s.type,w=s.pendingProps,k=i!==null?i.memoizedProps:null,p=w.children,yv(y,w)?p=null:k!==null&&yv(y,k)&&(s.flags|=32),s.memoizedState!==null&&(y=gp(i,s,oA,null,null,f),ol._currentValue=y),Yc(i,s),kn(i,s,p,f),s.child;case 6:return i===null&&ot&&((i=f=Mt)&&(f=GA(f,s.pendingProps,Fr),f!==null?(s.stateNode=f,Tn=s,Mt=null,i=!0):i=!1),i||wo(s)),null;case 13:return V1(i,s,f);case 4:return Ce(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=mi(s,null,p,f):kn(i,s,p,f),s.child;case 11:return B1(i,s,s.type,s.pendingProps,f);case 7:return kn(i,s,s.pendingProps,f),s.child;case 8:return kn(i,s,s.pendingProps.children,f),s.child;case 12:return kn(i,s,s.pendingProps.children,f),s.child;case 10:return p=s.pendingProps,So(s,s.type,p.value),kn(i,s,p.children,f),s.child;case 9:return y=s.type._context,p=s.pendingProps.children,di(s),y=An(y),p=p(y),s.flags|=1,kn(i,s,p,f),s.child;case 14:return F1(i,s,s.type,s.pendingProps,f);case 15:return L1(i,s,s.type,s.pendingProps,f);case 19:return q1(i,s,f);case 31:return hA(i,s,f);case 22:return P1(i,s,f,s.pendingProps);case 24:return di(s),p=An(an),i===null?(y=sp(),y===null&&(y=kt,w=op(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=f),y=w),s.memoizedState={parent:p,cache:y},lp(s),So(s,an,y)):((i.lanes&f)!==0&&(cp(i,s),zu(s,null,null,f),Pu()),y=i.memoizedState,w=s.memoizedState,y.parent!==p?(y={parent:p,cache:p},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),So(s,an,p)):(p=w.cache,So(s,an,p),p!==y.cache&&ap(s,[an],f,!0))),kn(i,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ga(i){i.flags|=4}function Gp(i,s,f,p,y){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(xx())i.flags|=8192;else throw vi=Bc,up}else i.flags&=-16777217}function K1(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!l2(s))if(xx())i.flags|=8192;else throw vi=Bc,up}function Zc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?T0():536870912,i.lanes|=s,Rs|=s)}function Gu(i,s){if(!ot)switch(i.tailMode){case"hidden":s=i.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Ot(i){var s=i.alternate!==null&&i.alternate.child===i.child,f=0,p=0;if(s)for(var y=i.child;y!==null;)f|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)f|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=f,s}function vA(i,s,f){var p=s.pendingProps;switch(Jh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(s),null;case 1:return Ot(s),null;case 3:return f=s.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Wa(an),he(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(ds(s)?Ga(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tp())),Ot(s),null;case 26:var y=s.type,w=s.memoizedState;return i===null?(Ga(s),w!==null?(Ot(s),K1(s,w)):(Ot(s),Gp(s,y,null,p,f))):w?w!==i.memoizedState?(Ga(s),Ot(s),K1(s,w)):(Ot(s),s.flags&=-16777217):(i=i.memoizedProps,i!==p&&Ga(s),Ot(s),Gp(s,y,i,p,f)),null;case 27:if(we(s),f=ge.current,y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==p&&Ga(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return Ot(s),null}i=ie.current,ds(s)?Tb(s):(i=t2(y,p,f),s.stateNode=i,Ga(s))}return Ot(s),null;case 5:if(we(s),y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==p&&Ga(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return Ot(s),null}if(w=ie.current,ds(s))Tb(s);else{var k=pf(ge.current);switch(w){case 1:w=k.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=k.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=k.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?k.createElement(y,{is:p.is}):k.createElement(y)}}w[_n]=s,w[Qn]=p;e:for(k=s.child;k!==null;){if(k.tag===5||k.tag===6)w.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===s)break e;for(;k.sibling===null;){if(k.return===null||k.return===s)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}s.stateNode=w;e:switch(Dn(w,y,p),y){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ga(s)}}return Ot(s),Gp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,f),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==p&&Ga(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,ds(s)){if(i=s.stateNode,f=s.memoizedProps,p=null,y=Tn,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}i[_n]=s,i=!!(i.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||Vx(i.nodeValue,f)),i||wo(s,!0)}else i=pf(i).createTextNode(p),i[_n]=s,s.stateNode=i}return Ot(s),null;case 31:if(f=s.memoizedState,i===null||i.memoizedState!==null){if(p=ds(s),f!==null){if(i===null){if(!p)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[_n]=s}else ci(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),i=!1}else f=tp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),i=!0;if(!i)return s.flags&256?(mr(s),s):(mr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Ot(s),null;case 13:if(p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=ds(s),p!==null&&p.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[_n]=s}else ci(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),y=!1}else y=tp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(mr(s),s):(mr(s),null)}return mr(s),(s.flags&128)!==0?(s.lanes=f,s):(f=p!==null,i=i!==null&&i.memoizedState!==null,f&&(p=s.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==y&&(p.flags|=2048)),f!==i&&f&&(s.child.flags|=8192),Zc(s,s.updateQueue),Ot(s),null);case 4:return he(),i===null&&hv(s.stateNode.containerInfo),Ot(s),null;case 10:return Wa(s.type),Ot(s),null;case 19:if(K(Qt),p=s.memoizedState,p===null)return Ot(s),null;if(y=(s.flags&128)!==0,w=p.rendering,w===null)if(y)Gu(p,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(w=zc(i),w!==null){for(s.flags|=128,Gu(p,!1),i=w.updateQueue,s.updateQueue=i,Zc(s,i),s.subtreeFlags=0,i=f,f=s.child;f!==null;)Sb(f,i),f=f.sibling;return Z(Qt,Qt.current&1|2),ot&&za(s,p.treeForkCount),s.child}i=i.sibling}p.tail!==null&&Ye()>rf&&(s.flags|=128,y=!0,Gu(p,!1),s.lanes=4194304)}else{if(!y)if(i=zc(w),i!==null){if(s.flags|=128,y=!0,i=i.updateQueue,s.updateQueue=i,Zc(s,i),Gu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!ot)return Ot(s),null}else 2*Ye()-p.renderingStartTime>rf&&f!==536870912&&(s.flags|=128,y=!0,Gu(p,!1),s.lanes=4194304);p.isBackwards?(w.sibling=s.child,s.child=w):(i=p.last,i!==null?i.sibling=w:s.child=w,p.last=w)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ye(),i.sibling=null,f=Qt.current,Z(Qt,y?f&1|2:f&1),ot&&za(s,p.treeForkCount),i):(Ot(s),null);case 22:case 23:return mr(s),pp(),p=s.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(f&536870912)!==0&&(s.flags&128)===0&&(Ot(s),s.subtreeFlags&6&&(s.flags|=8192)):Ot(s),f=s.updateQueue,f!==null&&Zc(s,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048),i!==null&&K(hi),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Wa(an),Ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function mA(i,s){switch(Jh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Wa(an),he(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return we(s),null;case 31:if(s.memoizedState!==null){if(mr(s),s.alternate===null)throw Error(r(340));ci()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(mr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ci()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return K(Qt),null;case 4:return he(),null;case 10:return Wa(s.type),null;case 22:case 23:return mr(s),pp(),i!==null&&K(hi),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Wa(an),null;case 25:return null;default:return null}}function X1(i,s){switch(Jh(s),s.tag){case 3:Wa(an),he();break;case 26:case 27:case 5:we(s);break;case 4:he();break;case 31:s.memoizedState!==null&&mr(s);break;case 13:mr(s);break;case 19:K(Qt);break;case 10:Wa(s.type);break;case 22:case 23:mr(s),pp(),i!==null&&K(hi);break;case 24:Wa(an)}}function qu(i,s){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&i)===i){p=void 0;var w=f.create,k=f.inst;p=w(),k.destroy=p}f=f.next}while(f!==y)}}catch(F){xt(s,s.return,F)}}function Ao(i,s,f){try{var p=s.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var w=y.next;p=w;do{if((p.tag&i)===i){var k=p.inst,F=k.destroy;if(F!==void 0){k.destroy=void 0,y=s;var X=f,ae=F;try{ae()}catch(ce){xt(y,X,ce)}}}p=p.next}while(p!==w)}}catch(ce){xt(s,s.return,ce)}}function Y1(i){var s=i.updateQueue;if(s!==null){var f=i.stateNode;try{Ub(s,f)}catch(p){xt(i,i.return,p)}}}function Q1(i,s,f){f.props=yi(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(p){xt(i,s,p)}}function $u(i,s){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof f=="function"?i.refCleanup=f(p):f.current=p}}catch(y){xt(i,s,y)}}function ca(i,s){var f=i.ref,p=i.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(y){xt(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){xt(i,s,y)}else f.current=null}function Z1(i){var s=i.type,f=i.memoizedProps,p=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(y){xt(i,i.return,y)}}function qp(i,s,f){try{var p=i.stateNode;PA(p,i.type,f,s),p[Qn]=s}catch(y){xt(i,i.return,y)}}function J1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Bo(i.type)||i.tag===4}function $p(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||J1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Bo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Kp(i,s,f){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(i),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=Fa));else if(p!==4&&(p===27&&Bo(i.type)&&(f=i.stateNode,s=null),i=i.child,i!==null))for(Kp(i,s,f),i=i.sibling;i!==null;)Kp(i,s,f),i=i.sibling}function Jc(i,s,f){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?f.insertBefore(i,s):f.appendChild(i);else if(p!==4&&(p===27&&Bo(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(Jc(i,s,f),i=i.sibling;i!==null;)Jc(i,s,f),i=i.sibling}function ex(i){var s=i.stateNode,f=i.memoizedProps;try{for(var p=i.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Dn(s,p,f),s[_n]=i,s[Qn]=f}catch(w){xt(i,i.return,w)}}var qa=!1,un=!1,Xp=!1,tx=typeof WeakSet=="function"?WeakSet:Set,wn=null;function gA(i,s){if(i=i.containerInfo,mv=wf,i=hb(i),Hh(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var k=0,F=-1,X=-1,ae=0,ce=0,me=i,oe=null;t:for(;;){for(var ue;me!==f||y!==0&&me.nodeType!==3||(F=k+y),me!==w||p!==0&&me.nodeType!==3||(X=k+p),me.nodeType===3&&(k+=me.nodeValue.length),(ue=me.firstChild)!==null;)oe=me,me=ue;for(;;){if(me===i)break t;if(oe===f&&++ae===y&&(F=k),oe===w&&++ce===p&&(X=k),(ue=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=ue}f=F===-1||X===-1?null:{start:F,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(gv={focusedElem:i,selectionRange:f},wf=!1,wn=s;wn!==null;)if(s=wn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,wn=i;else for(;wn!==null;){switch(s=wn,w=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(f=0;f<i.length;f++)y=i[f],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,f=s,y=w.memoizedProps,w=w.memoizedState,p=f.stateNode;try{var Te=yi(f.type,y);i=p.getSnapshotBeforeUpdate(Te,w),p.__reactInternalSnapshotBeforeUpdate=i}catch(We){xt(f,f.return,We)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,f=i.nodeType,f===9)xv(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":xv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,wn=i;break}wn=s.return}}function nx(i,s,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Ka(i,f),p&4&&qu(5,f);break;case 1:if(Ka(i,f),p&4)if(i=f.stateNode,s===null)try{i.componentDidMount()}catch(k){xt(f,f.return,k)}else{var y=yi(f.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(k){xt(f,f.return,k)}}p&64&&Y1(f),p&512&&$u(f,f.return);break;case 3:if(Ka(i,f),p&64&&(i=f.updateQueue,i!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{Ub(i,s)}catch(k){xt(f,f.return,k)}}break;case 27:s===null&&p&4&&ex(f);case 26:case 5:Ka(i,f),s===null&&p&4&&Z1(f),p&512&&$u(f,f.return);break;case 12:Ka(i,f);break;case 31:Ka(i,f),p&4&&ox(i,f);break;case 13:Ka(i,f),p&4&&ix(i,f),p&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=_A.bind(null,f),qA(i,f))));break;case 22:if(p=f.memoizedState!==null||qa,!p){s=s!==null&&s.memoizedState!==null||un,y=qa;var w=un;qa=p,(un=s)&&!w?Xa(i,f,(f.subtreeFlags&8772)!==0):Ka(i,f),qa=y,un=w}break;case 30:break;default:Ka(i,f)}}function rx(i){var s=i.alternate;s!==null&&(i.alternate=null,rx(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Rh(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Lt=null,Jn=!1;function $a(i,s,f){for(f=f.child;f!==null;)ax(i,s,f),f=f.sibling}function ax(i,s,f){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Fn,f)}catch{}switch(f.tag){case 26:un||ca(f,s),$a(i,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:un||ca(f,s);var p=Lt,y=Jn;Bo(f.type)&&(Lt=f.stateNode,Jn=!1),$a(i,s,f),nl(f.stateNode),Lt=p,Jn=y;break;case 5:un||ca(f,s);case 6:if(p=Lt,y=Jn,Lt=null,$a(i,s,f),Lt=p,Jn=y,Lt!==null)if(Jn)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(f.stateNode)}catch(w){xt(f,s,w)}else try{Lt.removeChild(f.stateNode)}catch(w){xt(f,s,w)}break;case 18:Lt!==null&&(Jn?(i=Lt,Yx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),Os(i)):Yx(Lt,f.stateNode));break;case 4:p=Lt,y=Jn,Lt=f.stateNode.containerInfo,Jn=!0,$a(i,s,f),Lt=p,Jn=y;break;case 0:case 11:case 14:case 15:Ao(2,f,s),un||Ao(4,f,s),$a(i,s,f);break;case 1:un||(ca(f,s),p=f.stateNode,typeof p.componentWillUnmount=="function"&&Q1(f,s,p)),$a(i,s,f);break;case 21:$a(i,s,f);break;case 22:un=(p=un)||f.memoizedState!==null,$a(i,s,f),un=p;break;default:$a(i,s,f)}}function ox(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Os(i)}catch(f){xt(s,s.return,f)}}}function ix(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Os(i)}catch(f){xt(s,s.return,f)}}function yA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new tx),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new tx),s;default:throw Error(r(435,i.tag))}}function ef(i,s){var f=yA(i);s.forEach(function(p){if(!f.has(p)){f.add(p);var y=TA.bind(null,i,p);p.then(y,y)}})}function er(i,s){var f=s.deletions;if(f!==null)for(var p=0;p<f.length;p++){var y=f[p],w=i,k=s,F=k;e:for(;F!==null;){switch(F.tag){case 27:if(Bo(F.type)){Lt=F.stateNode,Jn=!1;break e}break;case 5:Lt=F.stateNode,Jn=!1;break e;case 3:case 4:Lt=F.stateNode.containerInfo,Jn=!0;break e}F=F.return}if(Lt===null)throw Error(r(160));ax(w,k,y),Lt=null,Jn=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)sx(s,i),s=s.sibling}var Zr=null;function sx(i,s){var f=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:er(s,i),tr(i),p&4&&(Ao(3,i,i.return),qu(3,i),Ao(5,i,i.return));break;case 1:er(s,i),tr(i),p&512&&(un||f===null||ca(f,f.return)),p&64&&qa&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var y=Zr;if(er(s,i),tr(i),p&512&&(un||f===null||ca(f,f.return)),p&4){var w=f!==null?f.memoizedState:null;if(p=i.memoizedState,f===null)if(p===null)if(i.stateNode===null){e:{p=i.type,f=i.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":w=y.getElementsByTagName("title")[0],(!w||w[xu]||w[_n]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(p),y.head.insertBefore(w,y.querySelector("head > title"))),Dn(w,p,f),w[_n]=i,xn(w),p=w;break e;case"link":var k=s2("link","href",y).get(p+(f.href||""));if(k){for(var F=0;F<k.length;F++)if(w=k[F],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){k.splice(F,1);break t}}w=y.createElement(p),Dn(w,p,f),y.head.appendChild(w);break;case"meta":if(k=s2("meta","content",y).get(p+(f.content||""))){for(F=0;F<k.length;F++)if(w=k[F],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){k.splice(F,1);break t}}w=y.createElement(p),Dn(w,p,f),y.head.appendChild(w);break;default:throw Error(r(468,p))}w[_n]=i,xn(w),p=w}i.stateNode=p}else u2(y,i.type,i.stateNode);else i.stateNode=i2(y,p,i.memoizedProps);else w!==p?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,p===null?u2(y,i.type,i.stateNode):i2(y,p,i.memoizedProps)):p===null&&i.stateNode!==null&&qp(i,i.memoizedProps,f.memoizedProps)}break;case 27:er(s,i),tr(i),p&512&&(un||f===null||ca(f,f.return)),f!==null&&p&4&&qp(i,i.memoizedProps,f.memoizedProps);break;case 5:if(er(s,i),tr(i),p&512&&(un||f===null||ca(f,f.return)),i.flags&32){y=i.stateNode;try{ns(y,"")}catch(Te){xt(i,i.return,Te)}}p&4&&i.stateNode!=null&&(y=i.memoizedProps,qp(i,y,f!==null?f.memoizedProps:y)),p&1024&&(Xp=!0);break;case 6:if(er(s,i),tr(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,f=i.stateNode;try{f.nodeValue=p}catch(Te){xt(i,i.return,Te)}}break;case 3:if(gf=null,y=Zr,Zr=vf(s.containerInfo),er(s,i),Zr=y,tr(i),p&4&&f!==null&&f.memoizedState.isDehydrated)try{Os(s.containerInfo)}catch(Te){xt(i,i.return,Te)}Xp&&(Xp=!1,ux(i));break;case 4:p=Zr,Zr=vf(i.stateNode.containerInfo),er(s,i),tr(i),Zr=p;break;case 12:er(s,i),tr(i);break;case 31:er(s,i),tr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,ef(i,p)));break;case 13:er(s,i),tr(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(nf=Ye()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,ef(i,p)));break;case 22:y=i.memoizedState!==null;var X=f!==null&&f.memoizedState!==null,ae=qa,ce=un;if(qa=ae||y,un=ce||X,er(s,i),un=ce,qa=ae,tr(i),p&8192)e:for(s=i.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(f===null||X||qa||un||bi(i)),f=null,s=i;;){if(s.tag===5||s.tag===26){if(f===null){X=f=s;try{if(w=X.stateNode,y)k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{F=X.stateNode;var me=X.memoizedProps.style,oe=me!=null&&me.hasOwnProperty("display")?me.display:null;F.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Te){xt(X,X.return,Te)}}}else if(s.tag===6){if(f===null){X=s;try{X.stateNode.nodeValue=y?"":X.memoizedProps}catch(Te){xt(X,X.return,Te)}}}else if(s.tag===18){if(f===null){X=s;try{var ue=X.stateNode;y?Qx(ue,!0):Qx(X.stateNode,!1)}catch(Te){xt(X,X.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=i.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,ef(i,f))));break;case 19:er(s,i),tr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,ef(i,p)));break;case 30:break;case 21:break;default:er(s,i),tr(i)}}function tr(i){var s=i.flags;if(s&2){try{for(var f,p=i.return;p!==null;){if(J1(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var y=f.stateNode,w=$p(i);Jc(i,w,y);break;case 5:var k=f.stateNode;f.flags&32&&(ns(k,""),f.flags&=-33);var F=$p(i);Jc(i,F,k);break;case 3:case 4:var X=f.stateNode.containerInfo,ae=$p(i);Kp(i,ae,X);break;default:throw Error(r(161))}}catch(ce){xt(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ux(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ux(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ka(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nx(i,s.alternate,s),s=s.sibling}function bi(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ao(4,s,s.return),bi(s);break;case 1:ca(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&Q1(s,s.return,f),bi(s);break;case 27:nl(s.stateNode);case 26:case 5:ca(s,s.return),bi(s);break;case 22:s.memoizedState===null&&bi(s);break;case 30:bi(s);break;default:bi(s)}i=i.sibling}}function Xa(i,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,y=i,w=s,k=w.flags;switch(w.tag){case 0:case 11:case 15:Xa(y,w,f),qu(4,w);break;case 1:if(Xa(y,w,f),p=w,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){xt(p,p.return,ae)}if(p=w,y=p.updateQueue,y!==null){var F=p.stateNode;try{var X=y.shared.hiddenCallbacks;if(X!==null)for(y.shared.hiddenCallbacks=null,y=0;y<X.length;y++)zb(X[y],F)}catch(ae){xt(p,p.return,ae)}}f&&k&64&&Y1(w),$u(w,w.return);break;case 27:ex(w);case 26:case 5:Xa(y,w,f),f&&p===null&&k&4&&Z1(w),$u(w,w.return);break;case 12:Xa(y,w,f);break;case 31:Xa(y,w,f),f&&k&4&&ox(y,w);break;case 13:Xa(y,w,f),f&&k&4&&ix(y,w);break;case 22:w.memoizedState===null&&Xa(y,w,f),$u(w,w.return);break;case 30:break;default:Xa(y,w,f)}s=s.sibling}}function Yp(i,s){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&Ou(f))}function Qp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ou(i))}function Jr(i,s,f,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lx(i,s,f,p),s=s.sibling}function lx(i,s,f,p){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Jr(i,s,f,p),y&2048&&qu(9,s);break;case 1:Jr(i,s,f,p);break;case 3:Jr(i,s,f,p),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ou(i)));break;case 12:if(y&2048){Jr(i,s,f,p),i=s.stateNode;try{var w=s.memoizedProps,k=w.id,F=w.onPostCommit;typeof F=="function"&&F(k,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){xt(s,s.return,X)}}else Jr(i,s,f,p);break;case 31:Jr(i,s,f,p);break;case 13:Jr(i,s,f,p);break;case 23:break;case 22:w=s.stateNode,k=s.alternate,s.memoizedState!==null?w._visibility&2?Jr(i,s,f,p):Ku(i,s):w._visibility&2?Jr(i,s,f,p):(w._visibility|=2,Ss(i,s,f,p,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Yp(k,s);break;case 24:Jr(i,s,f,p),y&2048&&Qp(s.alternate,s);break;default:Jr(i,s,f,p)}}function Ss(i,s,f,p,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=i,k=s,F=f,X=p,ae=k.flags;switch(k.tag){case 0:case 11:case 15:Ss(w,k,F,X,y),qu(8,k);break;case 23:break;case 22:var ce=k.stateNode;k.memoizedState!==null?ce._visibility&2?Ss(w,k,F,X,y):Ku(w,k):(ce._visibility|=2,Ss(w,k,F,X,y)),y&&ae&2048&&Yp(k.alternate,k);break;case 24:Ss(w,k,F,X,y),y&&ae&2048&&Qp(k.alternate,k);break;default:Ss(w,k,F,X,y)}s=s.sibling}}function Ku(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=i,p=s,y=p.flags;switch(p.tag){case 22:Ku(f,p),y&2048&&Yp(p.alternate,p);break;case 24:Ku(f,p),y&2048&&Qp(p.alternate,p);break;default:Ku(f,p)}s=s.sibling}}var Xu=8192;function Cs(i,s,f){if(i.subtreeFlags&Xu)for(i=i.child;i!==null;)cx(i,s,f),i=i.sibling}function cx(i,s,f){switch(i.tag){case 26:Cs(i,s,f),i.flags&Xu&&i.memoizedState!==null&&ak(f,Zr,i.memoizedState,i.memoizedProps);break;case 5:Cs(i,s,f);break;case 3:case 4:var p=Zr;Zr=vf(i.stateNode.containerInfo),Cs(i,s,f),Zr=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Xu,Xu=16777216,Cs(i,s,f),Xu=p):Cs(i,s,f));break;default:Cs(i,s,f)}}function fx(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Yu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];wn=p,hx(p,i)}fx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dx(i),i=i.sibling}function dx(i){switch(i.tag){case 0:case 11:case 15:Yu(i),i.flags&2048&&Ao(9,i,i.return);break;case 3:Yu(i);break;case 12:Yu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,tf(i)):Yu(i);break;default:Yu(i)}}function tf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];wn=p,hx(p,i)}fx(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ao(8,s,s.return),tf(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,tf(s));break;default:tf(s)}i=i.sibling}}function hx(i,s){for(;wn!==null;){var f=wn;switch(f.tag){case 0:case 11:case 15:Ao(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Ou(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,wn=p;else e:for(f=i;wn!==null;){p=wn;var y=p.sibling,w=p.return;if(rx(p),p===f){wn=null;break e}if(y!==null){y.return=w,wn=y;break e}wn=w}}}var bA={getCacheForType:function(i){var s=An(an),f=s.data.get(i);return f===void 0&&(f=i(),s.data.set(i,f)),f},cacheSignal:function(){return An(an).controller.signal}},xA=typeof WeakMap=="function"?WeakMap:Map,dt=0,kt=null,et=null,rt=0,bt=0,gr=null,ko=!1,Es=!1,Zp=!1,Ya=0,qt=0,Do=0,xi=0,Jp=0,yr=0,Rs=0,Qu=null,nr=null,ev=!1,nf=0,px=0,rf=1/0,af=null,No=null,hn=0,Mo=null,_s=null,Qa=0,tv=0,nv=null,vx=null,Zu=0,rv=null;function br(){return(dt&2)!==0&&rt!==0?rt&-rt:P.T!==null?lv():N0()}function mx(){if(yr===0)if((rt&536870912)===0||ot){var i=ni;ni<<=1,(ni&3932160)===0&&(ni=262144),yr=i}else yr=536870912;return i=vr.current,i!==null&&(i.flags|=32),yr}function rr(i,s,f){(i===kt&&(bt===2||bt===9)||i.cancelPendingCommit!==null)&&(Ts(i,0),Oo(i,rt,yr,!1)),bu(i,f),((dt&2)===0||i!==kt)&&(i===kt&&((dt&2)===0&&(xi|=f),qt===4&&Oo(i,rt,yr,!1)),fa(i))}function gx(i,s,f){if((dt&6)!==0)throw Error(r(327));var p=!f&&(s&127)===0&&(s&i.expiredLanes)===0||yu(i,s),y=p?CA(i,s):ov(i,s,!0),w=p;do{if(y===0){Es&&!p&&Oo(i,s,0,!1);break}else{if(f=i.current.alternate,w&&!wA(f)){y=ov(i,s,!1),w=!1;continue}if(y===2){if(w=s,i.errorRecoveryDisabledLanes&w)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){s=k;e:{var F=i;y=Qu;var X=F.current.memoizedState.isDehydrated;if(X&&(Ts(F,k).flags|=256),k=ov(F,k,!1),k!==2){if(Zp&&!X){F.errorRecoveryDisabledLanes|=w,xi|=w,y=4;break e}w=nr,nr=y,w!==null&&(nr===null?nr=w:nr.push.apply(nr,w))}y=k}if(w=!1,y!==2)continue}}if(y===1){Ts(i,0),Oo(i,s,0,!0);break}e:{switch(p=i,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Oo(p,s,yr,!ko);break e;case 2:nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=nf+300-Ye(),10<y)){if(Oo(p,s,yr,!ko),pc(p,0,!0)!==0)break e;Qa=s,p.timeoutHandle=Kx(yx.bind(null,p,f,nr,af,ev,s,yr,xi,Rs,ko,w,"Throttled",-0,0),y);break e}yx(p,f,nr,af,ev,s,yr,xi,Rs,ko,w,null,-0,0)}}break}while(!0);fa(i)}function yx(i,s,f,p,y,w,k,F,X,ae,ce,me,oe,ue){if(i.timeoutHandle=-1,me=s.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fa},cx(s,w,me);var Te=(w&62914560)===w?nf-Ye():(w&4194048)===w?px-Ye():0;if(Te=ok(me,Te),Te!==null){Qa=w,i.cancelPendingCommit=Te(_x.bind(null,i,s,w,f,p,y,k,F,X,ce,me,null,oe,ue)),Oo(i,w,k,!ae);return}}_x(i,s,w,f,p,y,k,F,X)}function wA(i){for(var s=i;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var y=f[p],w=y.getSnapshot;y=y.value;try{if(!hr(w(),y))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Oo(i,s,f,p){s&=~Jp,s&=~xi,i.suspendedLanes|=s,i.pingedLanes&=~s,p&&(i.warmLanes|=s),p=i.expirationTimes;for(var y=s;0<y;){var w=31-Ln(y),k=1<<w;p[w]=-1,y&=~k}f!==0&&A0(i,f,s)}function of(){return(dt&6)===0?(Ju(0),!1):!0}function av(){if(et!==null){if(bt===0)var i=et.return;else i=et,Ua=fi=null,xp(i),gs=null,Bu=0,i=et;for(;i!==null;)X1(i.alternate,i),i=i.return;et=null}}function Ts(i,s){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,WA(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),Qa=0,av(),kt=i,et=f=Pa(i.current,null),rt=s,bt=0,gr=null,ko=!1,Es=yu(i,s),Zp=!1,Rs=yr=Jp=xi=Do=qt=0,nr=Qu=null,ev=!1,(s&8)!==0&&(s|=s&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=s;0<p;){var y=31-Ln(p),w=1<<y;s|=i[y],p&=~w}return Ya=s,_c(),f}function bx(i,s){$e=null,P.H=ju,s===ms||s===Ic?(s=Bb(),bt=3):s===up?(s=Bb(),bt=4):bt=s===Fp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gr=s,et===null&&(qt=1,Kc(i,Or(s,i.current)))}function xx(){var i=vr.current;return i===null?!0:(rt&4194048)===rt?Lr===null:(rt&62914560)===rt||(rt&536870912)!==0?i===Lr:!1}function wx(){var i=P.H;return P.H=ju,i===null?ju:i}function Sx(){var i=P.A;return P.A=bA,i}function sf(){qt=4,ko||(rt&4194048)!==rt&&vr.current!==null||(Es=!0),(Do&134217727)===0&&(xi&134217727)===0||kt===null||Oo(kt,rt,yr,!1)}function ov(i,s,f){var p=dt;dt|=2;var y=wx(),w=Sx();(kt!==i||rt!==s)&&(af=null,Ts(i,s)),s=!1;var k=qt;e:do try{if(bt!==0&&et!==null){var F=et,X=gr;switch(bt){case 8:av(),k=6;break e;case 3:case 2:case 9:case 6:vr.current===null&&(s=!0);var ae=bt;if(bt=0,gr=null,As(i,F,X,ae),f&&Es){k=0;break e}break;default:ae=bt,bt=0,gr=null,As(i,F,X,ae)}}SA(),k=qt;break}catch(ce){bx(i,ce)}while(!0);return s&&i.shellSuspendCounter++,Ua=fi=null,dt=p,P.H=y,P.A=w,et===null&&(kt=null,rt=0,_c()),k}function SA(){for(;et!==null;)Cx(et)}function CA(i,s){var f=dt;dt|=2;var p=wx(),y=Sx();kt!==i||rt!==s?(af=null,rf=Ye()+500,Ts(i,s)):Es=yu(i,s);e:do try{if(bt!==0&&et!==null){s=et;var w=gr;t:switch(bt){case 1:bt=0,gr=null,As(i,s,w,1);break;case 2:case 9:if(Ob(w)){bt=0,gr=null,Ex(s);break}s=function(){bt!==2&&bt!==9||kt!==i||(bt=7),fa(i)},w.then(s,s);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:Ob(w)?(bt=0,gr=null,Ex(s)):(bt=0,gr=null,As(i,s,w,7));break;case 5:var k=null;switch(et.tag){case 26:k=et.memoizedState;case 5:case 27:var F=et;if(k?l2(k):F.stateNode.complete){bt=0,gr=null;var X=F.sibling;if(X!==null)et=X;else{var ae=F.return;ae!==null?(et=ae,uf(ae)):et=null}break t}}bt=0,gr=null,As(i,s,w,5);break;case 6:bt=0,gr=null,As(i,s,w,6);break;case 8:av(),qt=6;break e;default:throw Error(r(462))}}EA();break}catch(ce){bx(i,ce)}while(!0);return Ua=fi=null,P.H=p,P.A=y,dt=f,et!==null?0:(kt=null,rt=0,_c(),qt)}function EA(){for(;et!==null&&!Le();)Cx(et)}function Cx(i){var s=$1(i.alternate,i,Ya);i.memoizedProps=i.pendingProps,s===null?uf(i):et=s}function Ex(i){var s=i,f=s.alternate;switch(s.tag){case 15:case 0:s=W1(f,s,s.pendingProps,s.type,void 0,rt);break;case 11:s=W1(f,s,s.pendingProps,s.type.render,s.ref,rt);break;case 5:xp(s);default:X1(f,s),s=et=Sb(s,Ya),s=$1(f,s,Ya)}i.memoizedProps=i.pendingProps,s===null?uf(i):et=s}function As(i,s,f,p){Ua=fi=null,xp(s),gs=null,Bu=0;var y=s.return;try{if(dA(i,y,s,f,rt)){qt=1,Kc(i,Or(f,i.current)),et=null;return}}catch(w){if(y!==null)throw et=y,w;qt=1,Kc(i,Or(f,i.current)),et=null;return}s.flags&32768?(ot||p===1?i=!0:Es||(rt&536870912)!==0?i=!1:(ko=i=!0,(p===2||p===9||p===3||p===6)&&(p=vr.current,p!==null&&p.tag===13&&(p.flags|=16384))),Rx(s,i)):uf(s)}function uf(i){var s=i;do{if((s.flags&32768)!==0){Rx(s,ko);return}i=s.return;var f=vA(s.alternate,s,Ya);if(f!==null){et=f;return}if(s=s.sibling,s!==null){et=s;return}et=s=i}while(s!==null);qt===0&&(qt=5)}function Rx(i,s){do{var f=mA(i.alternate,i);if(f!==null){f.flags&=32767,et=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(i=i.sibling,i!==null)){et=i;return}et=i=f}while(i!==null);qt=6,et=null}function _x(i,s,f,p,y,w,k,F,X){i.cancelPendingCommit=null;do lf();while(hn!==0);if((dt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(w=s.lanes|s.childLanes,w|=$h,rT(i,f,w,k,F,X),i===kt&&(et=kt=null,rt=0),_s=s,Mo=i,Qa=f,tv=w,nv=y,vx=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,AA(rn,function(){return Nx(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=P.T,P.T=null,y=$.p,$.p=2,k=dt,dt|=4;try{gA(i,s,f)}finally{dt=k,$.p=y,P.T=p}}hn=1,Tx(),Ax(),kx()}}function Tx(){if(hn===1){hn=0;var i=Mo,s=_s,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=P.T,P.T=null;var p=$.p;$.p=2;var y=dt;dt|=4;try{sx(s,i);var w=gv,k=hb(i.containerInfo),F=w.focusedElem,X=w.selectionRange;if(k!==F&&F&&F.ownerDocument&&db(F.ownerDocument.documentElement,F)){if(X!==null&&Hh(F)){var ae=X.start,ce=X.end;if(ce===void 0&&(ce=ae),"selectionStart"in F)F.selectionStart=ae,F.selectionEnd=Math.min(ce,F.value.length);else{var me=F.ownerDocument||document,oe=me&&me.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),Te=F.textContent.length,We=Math.min(X.start,Te),Rt=X.end===void 0?We:Math.min(X.end,Te);!ue.extend&&We>Rt&&(k=Rt,Rt=We,We=k);var te=fb(F,We),J=fb(F,Rt);if(te&&J&&(ue.rangeCount!==1||ue.anchorNode!==te.node||ue.anchorOffset!==te.offset||ue.focusNode!==J.node||ue.focusOffset!==J.offset)){var ne=me.createRange();ne.setStart(te.node,te.offset),ue.removeAllRanges(),We>Rt?(ue.addRange(ne),ue.extend(J.node,J.offset)):(ne.setEnd(J.node,J.offset),ue.addRange(ne))}}}}for(me=[],ue=F;ue=ue.parentNode;)ue.nodeType===1&&me.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<me.length;F++){var ve=me[F];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}wf=!!mv,gv=mv=null}finally{dt=y,$.p=p,P.T=f}}i.current=s,hn=2}}function Ax(){if(hn===2){hn=0;var i=Mo,s=_s,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=P.T,P.T=null;var p=$.p;$.p=2;var y=dt;dt|=4;try{nx(i,s.alternate,s)}finally{dt=y,$.p=p,P.T=f}}hn=3}}function kx(){if(hn===4||hn===3){hn=0,fn();var i=Mo,s=_s,f=Qa,p=vx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?hn=5:(hn=0,_s=Mo=null,Dx(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(No=null),Ch(f),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Fn,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=P.T,y=$.p,$.p=2,P.T=null;try{for(var w=i.onRecoverableError,k=0;k<p.length;k++){var F=p[k];w(F.value,{componentStack:F.stack})}}finally{P.T=s,$.p=y}}(Qa&3)!==0&&lf(),fa(i),y=i.pendingLanes,(f&261930)!==0&&(y&42)!==0?i===rv?Zu++:(Zu=0,rv=i):Zu=0,Ju(0)}}function Dx(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ou(s)))}function lf(){return Tx(),Ax(),kx(),Nx()}function Nx(){if(hn!==5)return!1;var i=Mo,s=tv;tv=0;var f=Ch(Qa),p=P.T,y=$.p;try{$.p=32>f?32:f,P.T=null,f=nv,nv=null;var w=Mo,k=Qa;if(hn=0,_s=Mo=null,Qa=0,(dt&6)!==0)throw Error(r(331));var F=dt;if(dt|=4,dx(w.current),lx(w,w.current,k,f),dt=F,Ju(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Fn,w)}catch{}return!0}finally{$.p=y,P.T=p,Dx(i,s)}}function Mx(i,s,f){s=Or(f,s),s=Bp(i.stateNode,s,2),i=Ro(i,s,2),i!==null&&(bu(i,2),fa(i))}function xt(i,s,f){if(i.tag===3)Mx(i,i,f);else for(;s!==null;){if(s.tag===3){Mx(s,i,f);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(No===null||!No.has(p))){i=Or(f,i),f=O1(2),p=Ro(s,f,2),p!==null&&(I1(f,p,s,i),bu(p,2),fa(p));break}}s=s.return}}function iv(i,s,f){var p=i.pingCache;if(p===null){p=i.pingCache=new xA;var y=new Set;p.set(s,y)}else y=p.get(s),y===void 0&&(y=new Set,p.set(s,y));y.has(f)||(Zp=!0,y.add(f),i=RA.bind(null,i,s,f),s.then(i,i))}function RA(i,s,f){var p=i.pingCache;p!==null&&p.delete(s),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,kt===i&&(rt&f)===f&&(qt===4||qt===3&&(rt&62914560)===rt&&300>Ye()-nf?(dt&2)===0&&Ts(i,0):Jp|=f,Rs===rt&&(Rs=0)),fa(i)}function Ox(i,s){s===0&&(s=T0()),i=ui(i,s),i!==null&&(bu(i,s),fa(i))}function _A(i){var s=i.memoizedState,f=0;s!==null&&(f=s.retryLane),Ox(i,f)}function TA(i,s){var f=0;switch(i.tag){case 31:case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(f=y.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),Ox(i,f)}function AA(i,s){return Vt(i,s)}var cf=null,ks=null,sv=!1,ff=!1,uv=!1,Io=0;function fa(i){i!==ks&&i.next===null&&(ks===null?cf=ks=i:ks=ks.next=i),ff=!0,sv||(sv=!0,DA())}function Ju(i,s){if(!uv&&ff){uv=!0;do for(var f=!1,p=cf;p!==null;){if(i!==0){var y=p.pendingLanes;if(y===0)var w=0;else{var k=p.suspendedLanes,F=p.pingedLanes;w=(1<<31-Ln(42|i)+1)-1,w&=y&~(k&~F),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,Lx(p,w))}else w=rt,w=pc(p,p===kt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||yu(p,w)||(f=!0,Lx(p,w));p=p.next}while(f);uv=!1}}function kA(){Ix()}function Ix(){ff=sv=!1;var i=0;Io!==0&&UA()&&(i=Io);for(var s=Ye(),f=null,p=cf;p!==null;){var y=p.next,w=Bx(p,s);w===0?(p.next=null,f===null?cf=y:f.next=y,y===null&&(ks=f)):(f=p,(i!==0||(w&3)!==0)&&(ff=!0)),p=y}hn!==0&&hn!==5||Ju(i),Io!==0&&(Io=0)}function Bx(i,s){for(var f=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var k=31-Ln(w),F=1<<k,X=y[k];X===-1?((F&f)===0||(F&p)!==0)&&(y[k]=nT(F,s)):X<=s&&(i.expiredLanes|=F),w&=~F}if(s=kt,f=rt,f=pc(i,i===s?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,f===0||i===s&&(bt===2||bt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&st(p),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||yu(i,f)){if(s=f&-f,s===i.callbackPriority)return s;switch(p!==null&&st(p),Ch(f)){case 2:case 8:f=Rn;break;case 32:f=rn;break;case 268435456:f=Xr;break;default:f=rn}return p=Fx.bind(null,i),f=Vt(f,p),i.callbackPriority=s,i.callbackNode=f,s}return p!==null&&p!==null&&st(p),i.callbackPriority=2,i.callbackNode=null,2}function Fx(i,s){if(hn!==0&&hn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(lf()&&i.callbackNode!==f)return null;var p=rt;return p=pc(i,i===kt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(gx(i,p,s),Bx(i,Ye()),i.callbackNode!=null&&i.callbackNode===f?Fx.bind(null,i):null)}function Lx(i,s){if(lf())return null;gx(i,s,!0)}function DA(){HA(function(){(dt&6)!==0?Vt(Kn,kA):Ix()})}function lv(){if(Io===0){var i=ps;i===0&&(i=Yr,Yr<<=1,(Yr&261888)===0&&(Yr=256)),Io=i}return Io}function Px(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:yc(""+i)}function zx(i,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,i.id&&f.setAttribute("form",i.id),s.parentNode.insertBefore(f,s),i=new FormData(i),f.parentNode.removeChild(f),i}function NA(i,s,f,p,y){if(s==="submit"&&f&&f.stateNode===y){var w=Px((y[Qn]||null).action),k=p.submitter;k&&(s=(s=k[Qn]||null)?Px(s.formAction):k.getAttribute("formAction"),s!==null&&(w=s,k=null));var F=new Sc("action","action",null,p,y);i.push({event:F,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Io!==0){var X=k?zx(y,k):new FormData(y);kp(f,{pending:!0,data:X,method:y.method,action:w},null,X)}}else typeof w=="function"&&(F.preventDefault(),X=k?zx(y,k):new FormData(y),kp(f,{pending:!0,data:X,method:y.method,action:w},w,X))},currentTarget:y}]})}}for(var cv=0;cv<qh.length;cv++){var fv=qh[cv],MA=fv.toLowerCase(),OA=fv[0].toUpperCase()+fv.slice(1);Qr(MA,"on"+OA)}Qr(mb,"onAnimationEnd"),Qr(gb,"onAnimationIteration"),Qr(yb,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(XT,"onTransitionRun"),Qr(YT,"onTransitionStart"),Qr(QT,"onTransitionCancel"),Qr(bb,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Ux(i,s){s=(s&4)!==0;for(var f=0;f<i.length;f++){var p=i[f],y=p.event;p=p.listeners;e:{var w=void 0;if(s)for(var k=p.length-1;0<=k;k--){var F=p[k],X=F.instance,ae=F.currentTarget;if(F=F.listener,X!==w&&y.isPropagationStopped())break e;w=F,y.currentTarget=ae;try{w(y)}catch(ce){Rc(ce)}y.currentTarget=null,w=X}else for(k=0;k<p.length;k++){if(F=p[k],X=F.instance,ae=F.currentTarget,F=F.listener,X!==w&&y.isPropagationStopped())break e;w=F,y.currentTarget=ae;try{w(y)}catch(ce){Rc(ce)}y.currentTarget=null,w=X}}}}function tt(i,s){var f=s[Eh];f===void 0&&(f=s[Eh]=new Set);var p=i+"__bubble";f.has(p)||(Wx(s,i,2,!1),f.add(p))}function dv(i,s,f){var p=0;s&&(p|=4),Wx(f,i,p,s)}var df="_reactListening"+Math.random().toString(36).slice(2);function hv(i){if(!i[df]){i[df]=!0,I0.forEach(function(f){f!=="selectionchange"&&(IA.has(f)||dv(f,!1,i),dv(f,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[df]||(s[df]=!0,dv("selectionchange",!1,s))}}function Wx(i,s,f,p){switch(m2(s)){case 2:var y=uk;break;case 8:y=lk;break;default:y=Av}f=y.bind(null,s,f,i),y=void 0,!Oh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(s,f,{capture:!0,passive:y}):i.addEventListener(s,f,!0):y!==void 0?i.addEventListener(s,f,{passive:y}):i.addEventListener(s,f,!1)}function pv(i,s,f,p,y){var w=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var F=p.stateNode.containerInfo;if(F===y)break;if(k===4)for(k=p.return;k!==null;){var X=k.tag;if((X===3||X===4)&&k.stateNode.containerInfo===y)return;k=k.return}for(;F!==null;){if(k=Qi(F),k===null)return;if(X=k.tag,X===5||X===6||X===26||X===27){p=w=k;continue e}F=F.parentNode}}p=p.return}q0(function(){var ae=w,ce=Nh(f),me=[];e:{var oe=xb.get(i);if(oe!==void 0){var ue=Sc,Te=i;switch(i){case"keypress":if(xc(f)===0)break e;case"keydown":case"keyup":ue=TT;break;case"focusin":Te="focus",ue=Lh;break;case"focusout":Te="blur",ue=Lh;break;case"beforeblur":case"afterblur":ue=Lh;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=X0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=vT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=DT;break;case mb:case gb:case yb:ue=yT;break;case bb:ue=MT;break;case"scroll":case"scrollend":ue=hT;break;case"wheel":ue=IT;break;case"copy":case"cut":case"paste":ue=xT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Q0;break;case"toggle":case"beforetoggle":ue=FT}var We=(s&4)!==0,Rt=!We&&(i==="scroll"||i==="scrollend"),te=We?oe!==null?oe+"Capture":null:oe;We=[];for(var J=ae,ne;J!==null;){var ve=J;if(ne=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ne===null||te===null||(ve=Su(J,te),ve!=null&&We.push(tl(J,ve,ne))),Rt)break;J=J.return}0<We.length&&(oe=new ue(oe,Te,null,f,ce),me.push({event:oe,listeners:We}))}}if((s&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",oe&&f!==Dh&&(Te=f.relatedTarget||f.fromElement)&&(Qi(Te)||Te[Yi]))break e;if((ue||oe)&&(oe=ce.window===ce?ce:(oe=ce.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(Te=f.relatedTarget||f.toElement,ue=ae,Te=Te?Qi(Te):null,Te!==null&&(Rt=o(Te),We=Te.tag,Te!==Rt||We!==5&&We!==27&&We!==6)&&(Te=null)):(ue=null,Te=ae),ue!==Te)){if(We=X0,ve="onMouseLeave",te="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(We=Q0,ve="onPointerLeave",te="onPointerEnter",J="pointer"),Rt=ue==null?oe:wu(ue),ne=Te==null?oe:wu(Te),oe=new We(ve,J+"leave",ue,f,ce),oe.target=Rt,oe.relatedTarget=ne,ve=null,Qi(ce)===ae&&(We=new We(te,J+"enter",Te,f,ce),We.target=ne,We.relatedTarget=Rt,ve=We),Rt=ve,ue&&Te)t:{for(We=BA,te=ue,J=Te,ne=0,ve=te;ve;ve=We(ve))ne++;ve=0;for(var ze=J;ze;ze=We(ze))ve++;for(;0<ne-ve;)te=We(te),ne--;for(;0<ve-ne;)J=We(J),ve--;for(;ne--;){if(te===J||J!==null&&te===J.alternate){We=te;break t}te=We(te),J=We(J)}We=null}else We=null;ue!==null&&Hx(me,oe,ue,We,!1),Te!==null&&Rt!==null&&Hx(me,Rt,Te,We,!0)}}e:{if(oe=ae?wu(ae):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var lt=ob;else if(rb(oe))if(ib)lt=qT;else{lt=VT;var De=jT}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&kh(ae.elementType)&&(lt=ob):lt=GT;if(lt&&(lt=lt(i,ae))){ab(me,lt,f,ce);break e}De&&De(i,oe,ae),i==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&Ah(oe,"number",oe.value)}switch(De=ae?wu(ae):window,i){case"focusin":(rb(De)||De.contentEditable==="true")&&(is=De,jh=ae,Du=null);break;case"focusout":Du=jh=is=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,pb(me,f,ce);break;case"selectionchange":if(KT)break;case"keydown":case"keyup":pb(me,f,ce)}var Ke;if(zh)e:{switch(i){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else os?tb(i,f)&&(at="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(at="onCompositionStart");at&&(Z0&&f.locale!=="ko"&&(os||at!=="onCompositionStart"?at==="onCompositionEnd"&&os&&(Ke=$0()):(yo=ce,Ih="value"in yo?yo.value:yo.textContent,os=!0)),De=hf(ae,at),0<De.length&&(at=new Y0(at,i,null,f,ce),me.push({event:at,listeners:De}),Ke?at.data=Ke:(Ke=nb(f),Ke!==null&&(at.data=Ke)))),(Ke=PT?zT(i,f):UT(i,f))&&(at=hf(ae,"onBeforeInput"),0<at.length&&(De=new Y0("onBeforeInput","beforeinput",null,f,ce),me.push({event:De,listeners:at}),De.data=Ke)),NA(me,i,ae,f,ce)}Ux(me,s)})}function tl(i,s,f){return{instance:i,listener:s,currentTarget:f}}function hf(i,s){for(var f=s+"Capture",p=[];i!==null;){var y=i,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Su(i,f),y!=null&&p.unshift(tl(i,y,w)),y=Su(i,s),y!=null&&p.push(tl(i,y,w))),i.tag===3)return p;i=i.return}return[]}function BA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Hx(i,s,f,p,y){for(var w=s._reactName,k=[];f!==null&&f!==p;){var F=f,X=F.alternate,ae=F.stateNode;if(F=F.tag,X!==null&&X===p)break;F!==5&&F!==26&&F!==27||ae===null||(X=ae,y?(ae=Su(f,w),ae!=null&&k.unshift(tl(f,ae,X))):y||(ae=Su(f,w),ae!=null&&k.push(tl(f,ae,X)))),f=f.return}k.length!==0&&i.push({event:s,listeners:k})}var FA=/\r\n?/g,LA=/\u0000|\uFFFD/g;function jx(i){return(typeof i=="string"?i:""+i).replace(FA,`
`).replace(LA,"")}function Vx(i,s){return s=jx(s),jx(i)===s}function Et(i,s,f,p,y,w){switch(f){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||ns(i,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&ns(i,""+p);break;case"className":mc(i,"class",p);break;case"tabIndex":mc(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":mc(i,f,p);break;case"style":V0(i,p,w);break;case"data":if(s!=="object"){mc(i,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||f!=="href")){i.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(f);break}p=yc(""+p),i.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(s!=="input"&&Et(i,s,"name",y.name,y,null),Et(i,s,"formEncType",y.formEncType,y,null),Et(i,s,"formMethod",y.formMethod,y,null),Et(i,s,"formTarget",y.formTarget,y,null)):(Et(i,s,"encType",y.encType,y,null),Et(i,s,"method",y.method,y,null),Et(i,s,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(f);break}p=yc(""+p),i.setAttribute(f,p);break;case"onClick":p!=null&&(i.onclick=Fa);break;case"onScroll":p!=null&&tt("scroll",i);break;case"onScrollEnd":p!=null&&tt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}f=yc(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(f,""+p):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":p===!0?i.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(f,p):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(f,p):i.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(f):i.setAttribute(f,p);break;case"popover":tt("beforetoggle",i),tt("toggle",i),vc(i,"popover",p);break;case"xlinkActuate":Ba(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ba(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ba(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ba(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ba(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ba(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ba(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ba(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ba(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":vc(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=fT.get(f)||f,vc(i,f,p))}}function vv(i,s,f,p,y,w){switch(f){case"style":V0(i,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"children":typeof p=="string"?ns(i,p):(typeof p=="number"||typeof p=="bigint")&&ns(i,""+p);break;case"onScroll":p!=null&&tt("scroll",i);break;case"onScrollEnd":p!=null&&tt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!B0.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),s=f.slice(2,y?f.length-7:void 0),w=i[Qn]||null,w=w!=null?w[f]:null,typeof w=="function"&&i.removeEventListener(s,w,y),typeof p=="function")){typeof w!="function"&&w!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(s,p,y);break e}f in i?i[f]=p:p===!0?i.setAttribute(f,""):vc(i,f,p)}}}function Dn(i,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",i),tt("load",i);var p=!1,y=!1,w;for(w in f)if(f.hasOwnProperty(w)){var k=f[w];if(k!=null)switch(w){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Et(i,s,w,k,f,null)}}y&&Et(i,s,"srcSet",f.srcSet,f,null),p&&Et(i,s,"src",f.src,f,null);return;case"input":tt("invalid",i);var F=w=k=y=null,X=null,ae=null;for(p in f)if(f.hasOwnProperty(p)){var ce=f[p];if(ce!=null)switch(p){case"name":y=ce;break;case"type":k=ce;break;case"checked":X=ce;break;case"defaultChecked":ae=ce;break;case"value":w=ce;break;case"defaultValue":F=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Et(i,s,p,ce,f,null)}}U0(i,w,F,X,ae,k,y,!1);return;case"select":tt("invalid",i),p=k=w=null;for(y in f)if(f.hasOwnProperty(y)&&(F=f[y],F!=null))switch(y){case"value":w=F;break;case"defaultValue":k=F;break;case"multiple":p=F;default:Et(i,s,y,F,f,null)}s=w,f=k,i.multiple=!!p,s!=null?ts(i,!!p,s,!1):f!=null&&ts(i,!!p,f,!0);return;case"textarea":tt("invalid",i),w=y=p=null;for(k in f)if(f.hasOwnProperty(k)&&(F=f[k],F!=null))switch(k){case"value":p=F;break;case"defaultValue":y=F;break;case"children":w=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Et(i,s,k,F,f,null)}H0(i,p,y,w);return;case"option":for(X in f)f.hasOwnProperty(X)&&(p=f[X],p!=null)&&(X==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":Et(i,s,X,p,f,null));return;case"dialog":tt("beforetoggle",i),tt("toggle",i),tt("cancel",i),tt("close",i);break;case"iframe":case"object":tt("load",i);break;case"video":case"audio":for(p=0;p<el.length;p++)tt(el[p],i);break;case"image":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"embed":case"source":case"link":tt("error",i),tt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in f)if(f.hasOwnProperty(ae)&&(p=f[ae],p!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Et(i,s,ae,p,f,null)}return;default:if(kh(s)){for(ce in f)f.hasOwnProperty(ce)&&(p=f[ce],p!==void 0&&vv(i,s,ce,p,f,void 0));return}}for(F in f)f.hasOwnProperty(F)&&(p=f[F],p!=null&&Et(i,s,F,p,f,null))}function PA(i,s,f,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,k=null,F=null,X=null,ae=null,ce=null;for(ue in f){var me=f[ue];if(f.hasOwnProperty(ue)&&me!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":X=me;default:p.hasOwnProperty(ue)||Et(i,s,ue,null,p,me)}}for(var oe in p){var ue=p[oe];if(me=f[oe],p.hasOwnProperty(oe)&&(ue!=null||me!=null))switch(oe){case"type":w=ue;break;case"name":y=ue;break;case"checked":ae=ue;break;case"defaultChecked":ce=ue;break;case"value":k=ue;break;case"defaultValue":F=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:ue!==me&&Et(i,s,oe,ue,p,me)}}Th(i,k,F,X,ae,ce,w,y);return;case"select":ue=k=F=oe=null;for(w in f)if(X=f[w],f.hasOwnProperty(w)&&X!=null)switch(w){case"value":break;case"multiple":ue=X;default:p.hasOwnProperty(w)||Et(i,s,w,null,p,X)}for(y in p)if(w=p[y],X=f[y],p.hasOwnProperty(y)&&(w!=null||X!=null))switch(y){case"value":oe=w;break;case"defaultValue":F=w;break;case"multiple":k=w;default:w!==X&&Et(i,s,y,w,p,X)}s=F,f=k,p=ue,oe!=null?ts(i,!!f,oe,!1):!!p!=!!f&&(s!=null?ts(i,!!f,s,!0):ts(i,!!f,f?[]:"",!1));return;case"textarea":ue=oe=null;for(F in f)if(y=f[F],f.hasOwnProperty(F)&&y!=null&&!p.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Et(i,s,F,null,p,y)}for(k in p)if(y=p[k],w=f[k],p.hasOwnProperty(k)&&(y!=null||w!=null))switch(k){case"value":oe=y;break;case"defaultValue":ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&Et(i,s,k,y,p,w)}W0(i,oe,ue);return;case"option":for(var Te in f)oe=f[Te],f.hasOwnProperty(Te)&&oe!=null&&!p.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:Et(i,s,Te,null,p,oe));for(X in p)oe=p[X],ue=f[X],p.hasOwnProperty(X)&&oe!==ue&&(oe!=null||ue!=null)&&(X==="selected"?i.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":Et(i,s,X,oe,p,ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in f)oe=f[We],f.hasOwnProperty(We)&&oe!=null&&!p.hasOwnProperty(We)&&Et(i,s,We,null,p,oe);for(ae in p)if(oe=p[ae],ue=f[ae],p.hasOwnProperty(ae)&&oe!==ue&&(oe!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:Et(i,s,ae,oe,p,ue)}return;default:if(kh(s)){for(var Rt in f)oe=f[Rt],f.hasOwnProperty(Rt)&&oe!==void 0&&!p.hasOwnProperty(Rt)&&vv(i,s,Rt,void 0,p,oe);for(ce in p)oe=p[ce],ue=f[ce],!p.hasOwnProperty(ce)||oe===ue||oe===void 0&&ue===void 0||vv(i,s,ce,oe,p,ue);return}}for(var te in f)oe=f[te],f.hasOwnProperty(te)&&oe!=null&&!p.hasOwnProperty(te)&&Et(i,s,te,null,p,oe);for(me in p)oe=p[me],ue=f[me],!p.hasOwnProperty(me)||oe===ue||oe==null&&ue==null||Et(i,s,me,oe,p,ue)}function Gx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var y=f[p],w=y.transferSize,k=y.initiatorType,F=y.duration;if(w&&F&&Gx(k)){for(k=0,F=y.responseEnd,p+=1;p<f.length;p++){var X=f[p],ae=X.startTime;if(ae>F)break;var ce=X.transferSize,me=X.initiatorType;ce&&Gx(me)&&(X=X.responseEnd,k+=ce*(X<F?1:(F-ae)/(X-ae)))}if(--p,s+=8*(w+k)/(y.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var mv=null,gv=null;function pf(i){return i.nodeType===9?i:i.ownerDocument}function qx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $x(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function yv(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bv=null;function UA(){var i=window.event;return i&&i.type==="popstate"?i===bv?!1:(bv=i,!0):(bv=null,!1)}var Kx=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,HA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(i){return Xx.resolve(null).then(i).catch(jA)}:Kx;function jA(i){setTimeout(function(){throw i})}function Bo(i){return i==="head"}function Yx(i,s){var f=s,p=0;do{var y=f.nextSibling;if(i.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"||f==="/&"){if(p===0){i.removeChild(y),Os(s);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")nl(i.ownerDocument.documentElement);else if(f==="head"){f=i.ownerDocument.head,nl(f);for(var w=f.firstChild;w;){var k=w.nextSibling,F=w.nodeName;w[xu]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=k}}else f==="body"&&nl(i.ownerDocument.body);f=y}while(f);Os(s)}function Qx(i,s){var f=i;i=0;do{var p=f.nextSibling;if(f.nodeType===1?s?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(s?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(i===0)break;i--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||i++;f=p}while(f)}function xv(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":xv(f),Rh(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function VA(i,s,f,p){for(;i.nodeType===1;){var y=f;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[xu])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=Pr(i.nextSibling),i===null)break}return null}function GA(i,s,f){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=Pr(i.nextSibling),i===null))return null;return i}function Zx(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Pr(i.nextSibling),i===null))return null;return i}function wv(i){return i.data==="$?"||i.data==="$~"}function Sv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function qA(i,s){var f=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||f.readyState!=="loading")s();else{var p=function(){s(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Pr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Cv=null;function Jx(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"||f==="/&"){if(s===0)return Pr(i.nextSibling);s--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||s++}i=i.nextSibling}return null}function e2(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(s===0)return i;s--}else f!=="/$"&&f!=="/&"||s++}i=i.previousSibling}return null}function t2(i,s,f){switch(s=pf(f),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function nl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Rh(i)}var zr=new Map,n2=new Set;function vf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Za=$.d;$.d={f:$A,r:KA,D:XA,C:YA,L:QA,m:ZA,X:ek,S:JA,M:tk};function $A(){var i=Za.f(),s=of();return i||s}function KA(i){var s=Zi(i);s!==null&&s.tag===5&&s.type==="form"?b1(s):Za.r(i)}var Ds=typeof document>"u"?null:document;function r2(i,s,f){var p=Ds;if(p&&typeof s=="string"&&s){var y=Nr(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),n2.has(y)||(n2.add(y),i={rel:i,crossOrigin:f,href:s},p.querySelector(y)===null&&(s=p.createElement("link"),Dn(s,"link",i),xn(s),p.head.appendChild(s)))}}function XA(i){Za.D(i),r2("dns-prefetch",i,null)}function YA(i,s){Za.C(i,s),r2("preconnect",i,s)}function QA(i,s,f){Za.L(i,s,f);var p=Ds;if(p&&i&&s){var y='link[rel="preload"][as="'+Nr(s)+'"]';s==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+Nr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+Nr(f.imageSizes)+'"]')):y+='[href="'+Nr(i)+'"]';var w=y;switch(s){case"style":w=Ns(i);break;case"script":w=Ms(i)}zr.has(w)||(i=v({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:i,as:s},f),zr.set(w,i),p.querySelector(y)!==null||s==="style"&&p.querySelector(rl(w))||s==="script"&&p.querySelector(al(w))||(s=p.createElement("link"),Dn(s,"link",i),xn(s),p.head.appendChild(s)))}}function ZA(i,s){Za.m(i,s);var f=Ds;if(f&&i){var p=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Nr(p)+'"][href="'+Nr(i)+'"]',w=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ms(i)}if(!zr.has(w)&&(i=v({rel:"modulepreload",href:i},s),zr.set(w,i),f.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(al(w)))return}p=f.createElement("link"),Dn(p,"link",i),xn(p),f.head.appendChild(p)}}}function JA(i,s,f){Za.S(i,s,f);var p=Ds;if(p&&i){var y=Ji(p).hoistableStyles,w=Ns(i);s=s||"default";var k=y.get(w);if(!k){var F={loading:0,preload:null};if(k=p.querySelector(rl(w)))F.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},f),(f=zr.get(w))&&Ev(i,f);var X=k=p.createElement("link");xn(X),Dn(X,"link",i),X._p=new Promise(function(ae,ce){X.onload=ae,X.onerror=ce}),X.addEventListener("load",function(){F.loading|=1}),X.addEventListener("error",function(){F.loading|=2}),F.loading|=4,mf(k,s,p)}k={type:"stylesheet",instance:k,count:1,state:F},y.set(w,k)}}}function ek(i,s){Za.X(i,s);var f=Ds;if(f&&i){var p=Ji(f).hoistableScripts,y=Ms(i),w=p.get(y);w||(w=f.querySelector(al(y)),w||(i=v({src:i,async:!0},s),(s=zr.get(y))&&Rv(i,s),w=f.createElement("script"),xn(w),Dn(w,"link",i),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(y,w))}}function tk(i,s){Za.M(i,s);var f=Ds;if(f&&i){var p=Ji(f).hoistableScripts,y=Ms(i),w=p.get(y);w||(w=f.querySelector(al(y)),w||(i=v({src:i,async:!0,type:"module"},s),(s=zr.get(y))&&Rv(i,s),w=f.createElement("script"),xn(w),Dn(w,"link",i),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(y,w))}}function a2(i,s,f,p){var y=(y=ge.current)?vf(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=Ns(f.href),f=Ji(y).hoistableStyles,p=f.get(s),p||(p={type:"style",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=Ns(f.href);var w=Ji(y).hoistableStyles,k=w.get(i);if(k||(y=y.ownerDocument||y,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,k),(w=y.querySelector(rl(i)))&&!w._p&&(k.instance=w,k.state.loading=5),zr.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},zr.set(i,f),w||nk(y,i,f,k.state))),s&&p===null)throw Error(r(528,""));return k}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ms(f),f=Ji(y).hoistableScripts,p=f.get(s),p||(p={type:"script",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ns(i){return'href="'+Nr(i)+'"'}function rl(i){return'link[rel="stylesheet"]['+i+"]"}function o2(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function nk(i,s,f,p){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=i.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),Dn(s,"link",f),xn(s),i.head.appendChild(s))}function Ms(i){return'[src="'+Nr(i)+'"]'}function al(i){return"script[async]"+i}function i2(i,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var p=i.querySelector('style[data-href~="'+Nr(f.href)+'"]');if(p)return s.instance=p,xn(p),p;var y=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),xn(p),Dn(p,"style",y),mf(p,f.precedence,i),s.instance=p;case"stylesheet":y=Ns(f.href);var w=i.querySelector(rl(y));if(w)return s.state.loading|=4,s.instance=w,xn(w),w;p=o2(f),(y=zr.get(y))&&Ev(p,y),w=(i.ownerDocument||i).createElement("link"),xn(w);var k=w;return k._p=new Promise(function(F,X){k.onload=F,k.onerror=X}),Dn(w,"link",p),s.state.loading|=4,mf(w,f.precedence,i),s.instance=w;case"script":return w=Ms(f.src),(y=i.querySelector(al(w)))?(s.instance=y,xn(y),y):(p=f,(y=zr.get(w))&&(p=v({},f),Rv(p,y)),i=i.ownerDocument||i,y=i.createElement("script"),xn(y),Dn(y,"link",p),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,mf(p,f.precedence,i));return s.instance}function mf(i,s,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,w=y,k=0;k<p.length;k++){var F=p[k];if(F.dataset.precedence===s)w=F;else if(w!==y)break}w?w.parentNode.insertBefore(i,w.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(i,s.firstChild))}function Ev(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Rv(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var gf=null;function s2(i,s,f){if(gf===null){var p=new Map,y=gf=new Map;y.set(f,p)}else y=gf,p=y.get(f),p||(p=new Map,y.set(f,p));if(p.has(i))return p;for(p.set(i,null),f=f.getElementsByTagName(i),y=0;y<f.length;y++){var w=f[y];if(!(w[xu]||w[_n]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var k=w.getAttribute(s)||"";k=i+k;var F=p.get(k);F?F.push(w):p.set(k,[w])}}return p}function u2(i,s,f){i=i.ownerDocument||i,i.head.insertBefore(f,s==="title"?i.querySelector("head > title"):null)}function rk(i,s,f){if(f===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function l2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ak(i,s,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var y=Ns(p.href),w=s.querySelector(rl(y));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=yf.bind(i),s.then(i,i)),f.state.loading|=4,f.instance=w,xn(w);return}w=s.ownerDocument||s,p=o2(p),(y=zr.get(y))&&Ev(p,y),w=w.createElement("link"),xn(w);var k=w;k._p=new Promise(function(F,X){k.onload=F,k.onerror=X}),Dn(w,"link",p),f.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(f,s),(s=f.state.preload)&&(f.state.loading&3)===0&&(i.count++,f=yf.bind(i),s.addEventListener("load",f),s.addEventListener("error",f))}}var _v=0;function ok(i,s){return i.stylesheets&&i.count===0&&xf(i,i.stylesheets),0<i.count||0<i.imgCount?function(f){var p=setTimeout(function(){if(i.stylesheets&&xf(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+s);0<i.imgBytes&&_v===0&&(_v=62500*zA());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&xf(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>_v?50:800)+s);return i.unsuspend=f,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(y)}}:null}function yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bf=null;function xf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bf=new Map,s.forEach(ik,i),bf=null,yf.call(i))}function ik(i,s){if(!(s.state.loading&4)){var f=bf.get(i);if(f)var p=f.get(null);else{f=new Map,bf.set(i,f);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var k=y[w];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(f.set(k.dataset.precedence,k),p=k)}p&&f.set(null,p)}y=s.instance,k=y.getAttribute("data-precedence"),w=f.get(k)||p,w===p&&f.set(null,y),f.set(k,y),this.count++,p=yf.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),w?w.parentNode.insertBefore(y,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var ol={$$typeof:R,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function sk(i,s,f,p,y,w,k,F,X){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.hiddenUpdates=wh(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function c2(i,s,f,p,y,w,k,F,X,ae,ce,me){return i=new sk(i,s,f,k,X,ae,ce,me,F),s=1,w===!0&&(s|=24),w=pr(3,null,null,s),i.current=w,w.stateNode=i,s=op(),s.refCount++,i.pooledCache=s,s.refCount++,w.memoizedState={element:p,isDehydrated:f,cache:s},lp(w),i}function f2(i){return i?(i=ls,i):ls}function d2(i,s,f,p,y,w){y=f2(y),p.context===null?p.context=y:p.pendingContext=y,p=Eo(s),p.payload={element:f},w=w===void 0?null:w,w!==null&&(p.callback=w),f=Ro(i,p,s),f!==null&&(rr(f,i,s),Lu(f,i,s))}function h2(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<s?f:s}}function Tv(i,s){h2(i,s),(i=i.alternate)&&h2(i,s)}function p2(i){if(i.tag===13||i.tag===31){var s=ui(i,67108864);s!==null&&rr(s,i,67108864),Tv(i,67108864)}}function v2(i){if(i.tag===13||i.tag===31){var s=br();s=Sh(s);var f=ui(i,s);f!==null&&rr(f,i,s),Tv(i,s)}}var wf=!0;function uk(i,s,f,p){var y=P.T;P.T=null;var w=$.p;try{$.p=2,Av(i,s,f,p)}finally{$.p=w,P.T=y}}function lk(i,s,f,p){var y=P.T;P.T=null;var w=$.p;try{$.p=8,Av(i,s,f,p)}finally{$.p=w,P.T=y}}function Av(i,s,f,p){if(wf){var y=kv(p);if(y===null)pv(i,s,p,Sf,f),g2(i,p);else if(fk(y,i,s,f,p))p.stopPropagation();else if(g2(i,p),s&4&&-1<ck.indexOf(i)){for(;y!==null;){var w=Zi(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var k=ri(w.pendingLanes);if(k!==0){var F=w;for(F.pendingLanes|=2,F.entangledLanes|=2;k;){var X=1<<31-Ln(k);F.entanglements[1]|=X,k&=~X}fa(w),(dt&6)===0&&(rf=Ye()+500,Ju(0))}}break;case 31:case 13:F=ui(w,2),F!==null&&rr(F,w,2),of(),Tv(w,2)}if(w=kv(p),w===null&&pv(i,s,p,Sf,f),w===y)break;y=w}y!==null&&p.stopPropagation()}else pv(i,s,p,null,f)}}function kv(i){return i=Nh(i),Dv(i)}var Sf=null;function Dv(i){if(Sf=null,i=Qi(i),i!==null){var s=o(i);if(s===null)i=null;else{var f=s.tag;if(f===13){if(i=u(s),i!==null)return i;i=null}else if(f===31){if(i=l(s),i!==null)return i;i=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Sf=i,null}function m2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case Kn:return 2;case Rn:return 8;case rn:case kr:return 32;case Xr:return 268435456;default:return 32}default:return 32}}var Nv=!1,Fo=null,Lo=null,Po=null,il=new Map,sl=new Map,zo=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g2(i,s){switch(i){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":il.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(s.pointerId)}}function ul(i,s,f,p,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:s,domEventName:f,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},s!==null&&(s=Zi(s),s!==null&&p2(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function fk(i,s,f,p,y){switch(s){case"focusin":return Fo=ul(Fo,i,s,f,p,y),!0;case"dragenter":return Lo=ul(Lo,i,s,f,p,y),!0;case"mouseover":return Po=ul(Po,i,s,f,p,y),!0;case"pointerover":var w=y.pointerId;return il.set(w,ul(il.get(w)||null,i,s,f,p,y)),!0;case"gotpointercapture":return w=y.pointerId,sl.set(w,ul(sl.get(w)||null,i,s,f,p,y)),!0}return!1}function y2(i){var s=Qi(i.target);if(s!==null){var f=o(s);if(f!==null){if(s=f.tag,s===13){if(s=u(f),s!==null){i.blockedOn=s,M0(i.priority,function(){v2(f)});return}}else if(s===31){if(s=l(f),s!==null){i.blockedOn=s,M0(i.priority,function(){v2(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var f=kv(i.nativeEvent);if(f===null){f=i.nativeEvent;var p=new f.constructor(f.type,f);Dh=p,f.target.dispatchEvent(p),Dh=null}else return s=Zi(f),s!==null&&p2(s),i.blockedOn=f,!1;s.shift()}return!0}function b2(i,s,f){Cf(i)&&f.delete(s)}function dk(){Nv=!1,Fo!==null&&Cf(Fo)&&(Fo=null),Lo!==null&&Cf(Lo)&&(Lo=null),Po!==null&&Cf(Po)&&(Po=null),il.forEach(b2),sl.forEach(b2)}function Ef(i,s){i.blockedOn===s&&(i.blockedOn=null,Nv||(Nv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dk)))}var Rf=null;function x2(i){Rf!==i&&(Rf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rf===i&&(Rf=null);for(var s=0;s<i.length;s+=3){var f=i[s],p=i[s+1],y=i[s+2];if(typeof p!="function"){if(Dv(p||f)===null)continue;break}var w=Zi(f);w!==null&&(i.splice(s,3),s-=3,kp(w,{pending:!0,data:y,method:f.method,action:p},p,y))}}))}function Os(i){function s(X){return Ef(X,i)}Fo!==null&&Ef(Fo,i),Lo!==null&&Ef(Lo,i),Po!==null&&Ef(Po,i),il.forEach(s),sl.forEach(s);for(var f=0;f<zo.length;f++){var p=zo[f];p.blockedOn===i&&(p.blockedOn=null)}for(;0<zo.length&&(f=zo[0],f.blockedOn===null);)y2(f),f.blockedOn===null&&zo.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var y=f[p],w=f[p+1],k=y[Qn]||null;if(typeof w=="function")k||x2(f);else if(k){var F=null;if(w&&w.hasAttribute("formAction")){if(y=w,k=w[Qn]||null)F=k.formAction;else if(Dv(y)!==null)continue}else F=k.action;typeof F=="function"?f[p+1]=F:(f.splice(p,3),p-=3),x2(f)}}}function w2(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(k){return y=k})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function Mv(i){this._internalRoot=i}_f.prototype.render=Mv.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var f=s.current,p=br();d2(f,p,i,s,null,null)},_f.prototype.unmount=Mv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;d2(i.current,2,null,i,null,null),of(),s[Yi]=null}};function _f(i){this._internalRoot=i}_f.prototype.unstable_scheduleHydration=function(i){if(i){var s=N0();i={blockedOn:null,target:i,priority:s};for(var f=0;f<zo.length&&s!==0&&s<zo[f].priority;f++);zo.splice(f,0,i),f===0&&y2(i)}};var S2=n.version;if(S2!=="19.2.3")throw Error(r(527,S2,"19.2.3"));$.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var hk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{Fn=Tf.inject(hk),Yt=Tf}catch{}}return cl.createRoot=function(i,s){if(!a(i))throw Error(r(299));var f=!1,p="",y=k1,w=D1,k=N1;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(k=s.onRecoverableError)),s=c2(i,1,!1,null,null,f,p,null,y,w,k,w2),i[Yi]=s.current,hv(i),new Mv(s)},cl.hydrateRoot=function(i,s,f){if(!a(i))throw Error(r(299));var p=!1,y="",w=k1,k=D1,F=N1,X=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(k=f.onCaughtError),f.onRecoverableError!==void 0&&(F=f.onRecoverableError),f.formState!==void 0&&(X=f.formState)),s=c2(i,1,!0,s,f??null,p,y,X,w,k,F,w2),s.context=f2(null),f=s.current,p=br(),p=Sh(p),y=Eo(p),y.callback=null,Ro(f,y,p),f=p,s.current.lanes=f,bu(s,f),fa(s),i[Yi]=s.current,hv(i),new _f(s)},cl.version="19.2.3",cl}var M2;function Ek(){if(M2)return Bv.exports;M2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Bv.exports=Ck(),Bv.exports}var Rk=Ek();var O2="popstate";function _k(t={}){function n(a,o){let{pathname:u="/",search:l="",hash:c=""}=Hi(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Xm("",{pathname:u,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(a,o){let u=a.document.querySelector("base"),l="";if(u&&u.getAttribute("href")){let c=a.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof o=="string"?o:Ol(o))}function r(a,o){Gr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Ak(n,e,r,t)}function Ht(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Gr(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Tk(){return Math.random().toString(36).substring(2,10)}function I2(t,n){return{usr:t.state,key:t.key,idx:n}}function Xm(t,n,e=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Hi(n):n,state:e,key:n&&n.key||r||Tk()}}function Ol({pathname:t="/",search:n="",hash:e=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),e&&e!=="#"&&(t+=e.charAt(0)==="#"?e:"#"+e),t}function Hi(t){let n={};if(t){let e=t.indexOf("#");e>=0&&(n.hash=t.substring(e),t=t.substring(0,e));let r=t.indexOf("?");r>=0&&(n.search=t.substring(r),t=t.substring(0,r)),t&&(n.pathname=t)}return n}function Ak(t,n,e,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,l="POP",c=null,d=h();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function h(){return(u.state||{idx:null}).idx}function v(){l="POP";let S=h(),C=S==null?null:S-d;d=S,c&&c({action:l,location:x.location,delta:C})}function m(S,C){l="PUSH";let _=Xm(x.location,S,C);e&&e(_,S),d=h()+1;let R=I2(_,d),E=x.createHref(_);try{u.pushState(R,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(E)}o&&c&&c({action:l,location:x.location,delta:1})}function g(S,C){l="REPLACE";let _=Xm(x.location,S,C);e&&e(_,S),d=h();let R=I2(_,d),E=x.createHref(_);u.replaceState(R,"",E),o&&c&&c({action:l,location:x.location,delta:0})}function b(S){return kk(S)}let x={get action(){return l},get location(){return t(a,u)},listen(S){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(O2,v),c=S,()=>{a.removeEventListener(O2,v),c=null}},createHref(S){return n(a,S)},createURL:b,encodeLocation(S){let C=b(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:g,go(S){return u.go(S)}};return x}function kk(t,n=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(e,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ol(t);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function hC(t,n,e="/"){return Dk(t,n,e,!1)}function Dk(t,n,e,r){let a=typeof n=="string"?Hi(n):n,o=oo(a.pathname||"/",e);if(o==null)return null;let u=pC(t);Nk(u);let l=null;for(let c=0;l==null&&c<u.length;++c){let d=Hk(o);l=Uk(u[c],d,r)}return l}function pC(t,n=[],e=[],r="",a=!1){let o=(u,l,c=a,d)=>{let h={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:l,route:u};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;Ht(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let v=ao([r,h.relativePath]),m=e.concat(h);u.children&&u.children.length>0&&(Ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),pC(u.children,n,m,v,c)),!(u.path==null&&!u.index)&&n.push({path:v,score:Pk(v,u.index),routesMeta:m})};return t.forEach((u,l)=>{if(u.path===""||!u.path?.includes("?"))o(u,l);else for(let c of vC(u.path))o(u,l,!0,c)}),n}function vC(t){let n=t.split("/");if(n.length===0)return[];let[e,...r]=n,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=vC(r.join("/")),l=[];return l.push(...u.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...u),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Nk(t){t.sort((n,e)=>n.score!==e.score?e.score-n.score:zk(n.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var Mk=/^:[\w-]+$/,Ok=3,Ik=2,Bk=1,Fk=10,Lk=-2,B2=t=>t==="*";function Pk(t,n){let e=t.split("/"),r=e.length;return e.some(B2)&&(r+=Lk),n&&(r+=Ik),e.filter(a=>!B2(a)).reduce((a,o)=>a+(Mk.test(o)?Ok:o===""?Bk:Fk),r)}function zk(t,n){return t.length===n.length&&t.slice(0,-1).every((r,a)=>r===n[a])?t[t.length-1]-n[n.length-1]:0}function Uk(t,n,e=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=o==="/"?n:n.slice(o.length)||"/",v=od({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!v&&d&&e&&!r[r.length-1].route.index&&(v=od({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:ao([o,v.pathname]),pathnameBase:qk(ao([o,v.pathnameBase])),route:m}),v.pathnameBase!=="/"&&(o=ao([o,v.pathnameBase]))}return u}function od(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[e,r]=Wk(t.path,t.caseSensitive,t.end),a=n.match(e);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:v},m)=>{if(h==="*"){let b=l[m]||"";u=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[m];return v&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:t}}function Wk(t,n=!1,e=!0){Gr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),r]}function Hk(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Gr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function oo(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let e=n.endsWith("/")?n.length-1:n.length,r=t.charAt(e);return r&&r!=="/"?null:t.slice(e)||"/"}var mC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jk=t=>mC.test(t);function Vk(t,n="/"){let{pathname:e,search:r="",hash:a=""}=typeof t=="string"?Hi(t):t,o;if(e)if(jk(e))o=e;else{if(e.includes("//")){let u=e;e=e.replace(/\/\/+/g,"/"),Gr(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${e}`)}e.startsWith("/")?o=F2(e.substring(1),"/"):o=F2(e,n)}else o=n;return{pathname:o,search:$k(r),hash:Kk(a)}}function F2(t,n){let e=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function zv(t,n,e,r){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gk(t){return t.filter((n,e)=>e===0||n.route.path&&n.route.path.length>0)}function gC(t){let n=Gk(t);return n.map((e,r)=>r===n.length-1?e.pathname:e.pathnameBase)}function yC(t,n,e,r=!1){let a;typeof t=="string"?a=Hi(t):(a={...t},Ht(!a.pathname||!a.pathname.includes("?"),zv("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),zv("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),zv("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,l;if(u==null)l=e;else{let v=n.length-1;if(!r&&u.startsWith("..")){let m=u.split("/");for(;m[0]==="..";)m.shift(),v-=1;a.pathname=m.join("/")}l=v>=0?n[v]:"/"}let c=Vk(a,l),d=u&&u!=="/"&&u.endsWith("/"),h=(o||u===".")&&e.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var ao=t=>t.join("/").replace(/\/\/+/g,"/"),qk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$k=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Xk=class{constructor(t,n,e,r=!1){this.status=t,this.statusText=n||"",this.internal=r,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function Yk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Qk(t){return t.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xC(t,n){let e=t;if(typeof e!="string"||!mC.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let r=e,a=!1;if(bC)try{let o=new URL(window.location.href),u=e.startsWith("//")?new URL(o.protocol+e):new URL(e),l=oo(u.pathname,n);u.origin===o.origin&&l!=null?e=l+u.search+u.hash:a=!0}catch{Gr(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wC=["POST","PUT","PATCH","DELETE"];new Set(wC);var Zk=["GET",...wC];new Set(Zk);var du=L.createContext(null);du.displayName="DataRouter";var Pd=L.createContext(null);Pd.displayName="DataRouterState";var Jk=L.createContext(!1),SC=L.createContext({isTransitioning:!1});SC.displayName="ViewTransition";var e3=L.createContext(new Map);e3.displayName="Fetchers";var t3=L.createContext(null);t3.displayName="Await";var qr=L.createContext(null);qr.displayName="Navigation";var $l=L.createContext(null);$l.displayName="Location";var lo=L.createContext({outlet:null,matches:[],isDataRoute:!1});lo.displayName="Route";var Pg=L.createContext(null);Pg.displayName="RouteError";var CC="REACT_ROUTER_ERROR",n3="REDIRECT",r3="ROUTE_ERROR_RESPONSE";function a3(t){if(t.startsWith(`${CC}:${n3}:{`))try{let n=JSON.parse(t.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function o3(t){if(t.startsWith(`${CC}:${r3}:{`))try{let n=JSON.parse(t.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new Xk(n.status,n.statusText,n.data)}catch{}}function i3(t,{relative:n}={}){Ht(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=L.useContext(qr),{hash:a,pathname:o,search:u}=Xl(t,{relative:n}),l=o;return e!=="/"&&(l=o==="/"?e:ao([e,o])),r.createHref({pathname:l,search:u,hash:a})}function Kl(){return L.useContext($l)!=null}function ji(){return Ht(Kl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext($l).location}var EC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RC(t){L.useContext(qr).static||L.useLayoutEffect(t)}function s3(){let{isDataRoute:t}=L.useContext(lo);return t?x3():u3()}function u3(){Ht(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(du),{basename:n,navigator:e}=L.useContext(qr),{matches:r}=L.useContext(lo),{pathname:a}=ji(),o=JSON.stringify(gC(r)),u=L.useRef(!1);return RC(()=>{u.current=!0}),L.useCallback((c,d={})=>{if(Gr(u.current,EC),!u.current)return;if(typeof c=="number"){e.go(c);return}let h=yC(c,JSON.parse(o),a,d.relative==="path");t==null&&n!=="/"&&(h.pathname=h.pathname==="/"?n:ao([n,h.pathname])),(d.replace?e.replace:e.push)(h,d.state,d)},[n,e,o,a,t])}L.createContext(null);function Xl(t,{relative:n}={}){let{matches:e}=L.useContext(lo),{pathname:r}=ji(),a=JSON.stringify(gC(e));return L.useMemo(()=>yC(t,JSON.parse(a),r,n==="path"),[t,a,r,n])}function l3(t,n){return _C(t,n)}function _C(t,n,e,r,a){Ht(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(qr),{matches:u}=L.useContext(lo),l=u[u.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",v=l&&l.route;{let _=v&&v.path||"";AC(d,!v||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=ji(),g;if(n){let _=typeof n=="string"?Hi(n):n;Ht(h==="/"||_.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=m;let b=g.pathname||"/",x=b;if(h!=="/"){let _=h.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=hC(t,{pathname:x});Gr(v||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Gr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=p3(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:ao([h,o.encodeLocation?o.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:ao([h,o.encodeLocation?o.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),u,e,r,a);return n&&C?L.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},C):C}function c3(){let t=b3(),n=Yk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),e=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},n),e?L.createElement("pre",{style:a},e):null,u)}var f3=L.createElement(c3,null),TC=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const e=o3(t.digest);e&&(t=e)}let n=t!==void 0?L.createElement(lo.Provider,{value:this.props.routeContext},L.createElement(Pg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?L.createElement(d3,{error:t},n):n}};TC.contextType=Jk;var Uv=new WeakMap;function d3({children:t,error:n}){let{basename:e}=L.useContext(qr);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let r=a3(n.digest);if(r){let a=Uv.get(n);if(a)throw a;let o=xC(r.location,e);if(bC&&!Uv.get(n))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Uv.set(n,u),u}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function h3({routeContext:t,match:n,children:e}){let r=L.useContext(du);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(lo.Provider,{value:t},e)}function p3(t,n=[],e=null,r=null,a=null){if(t==null){if(!e)return null;if(e.errors)t=e.matches;else if(n.length===0&&!e.initialized&&e.matches.length>0)t=e.matches;else return null}let o=t,u=e?.errors;if(u!=null){let h=o.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(e)for(let h=0;h<o.length;h++){let v=o[h];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(c=h),v.route.id){let{loaderData:m,errors:g}=e,b=v.route.loader&&!m.hasOwnProperty(v.route.id)&&(!g||g[v.route.id]===void 0);if(v.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let d=e&&r?(h,v)=>{r(h,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:Qk(e.matches),errorInfo:v})}:void 0;return o.reduceRight((h,v,m)=>{let g,b=!1,x=null,S=null;e&&(g=u&&v.route.id?u[v.route.id]:void 0,x=v.route.errorElement||f3,l&&(c<0&&m===0?(AC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):c===m&&(b=!0,S=v.route.hydrateFallbackElement||null)));let C=n.concat(o.slice(0,m+1)),_=()=>{let R;return g?R=x:b?R=S:v.route.Component?R=L.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=h,L.createElement(h3,{match:v,routeContext:{outlet:h,matches:C,isDataRoute:e!=null},children:R})};return e&&(v.route.ErrorBoundary||v.route.errorElement||m===0)?L.createElement(TC,{location:e.location,revalidation:e.revalidation,component:x,error:g,children:_(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:d}):_()},null)}function zg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v3(t){let n=L.useContext(du);return Ht(n,zg(t)),n}function m3(t){let n=L.useContext(Pd);return Ht(n,zg(t)),n}function g3(t){let n=L.useContext(lo);return Ht(n,zg(t)),n}function Ug(t){let n=g3(t),e=n.matches[n.matches.length-1];return Ht(e.route.id,`${t} can only be used on routes that contain a unique "id"`),e.route.id}function y3(){return Ug("useRouteId")}function b3(){let t=L.useContext(Pg),n=m3("useRouteError"),e=Ug("useRouteError");return t!==void 0?t:n.errors?.[e]}function x3(){let{router:t}=v3("useNavigate"),n=Ug("useNavigate"),e=L.useRef(!1);return RC(()=>{e.current=!0}),L.useCallback(async(a,o={})=>{Gr(e.current,EC),e.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:n,...o}))},[t,n])}var L2={};function AC(t,n,e){!n&&!L2[t]&&(L2[t]=!0,Gr(!1,e))}L.memo(w3);function w3({routes:t,future:n,state:e,onError:r}){return _C(t,void 0,e,r,n)}function Sl(t){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S3({basename:t="/",children:n=null,location:e,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Ht(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[l,a,o,u]);typeof e=="string"&&(e=Hi(e));let{pathname:d="/",search:h="",hash:v="",state:m=null,key:g="default"}=e,b=L.useMemo(()=>{let x=oo(d,l);return x==null?null:{location:{pathname:x,search:h,hash:v,state:m,key:g},navigationType:r}},[l,d,h,v,m,g,r]);return Gr(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:L.createElement(qr.Provider,{value:c},L.createElement($l.Provider,{children:n,value:b}))}function C3({children:t,location:n}){return l3(Ym(t),n)}function Ym(t,n=[]){let e=[];return L.Children.forEach(t,(r,a)=>{if(!L.isValidElement(r))return;let o=[...n,a];if(r.type===L.Fragment){e.push.apply(e,Ym(r.props.children,o));return}Ht(r.type===Sl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ym(r.props.children,o)),e.push(u)}),e}var Zf="get",Jf="application/x-www-form-urlencoded";function zd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function E3(t){return zd(t)&&t.tagName.toLowerCase()==="button"}function R3(t){return zd(t)&&t.tagName.toLowerCase()==="form"}function _3(t){return zd(t)&&t.tagName.toLowerCase()==="input"}function T3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A3(t,n){return t.button===0&&(!n||n==="_self")&&!T3(t)}var Af=null;function k3(){if(Af===null)try{new FormData(document.createElement("form"),0),Af=!1}catch{Af=!0}return Af}var D3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wv(t){return t!=null&&!D3.has(t)?(Gr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jf}"`),null):t}function N3(t,n){let e,r,a,o,u;if(R3(t)){let l=t.getAttribute("action");r=l?oo(l,n):null,e=t.getAttribute("method")||Zf,a=Wv(t.getAttribute("enctype"))||Jf,o=new FormData(t)}else if(E3(t)||_3(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?oo(c,n):null,e=t.getAttribute("formmethod")||l.getAttribute("method")||Zf,a=Wv(t.getAttribute("formenctype"))||Wv(l.getAttribute("enctype"))||Jf,o=new FormData(l,t),!k3()){let{name:d,type:h,value:v}=t;if(h==="image"){let m=d?`${d}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else d&&o.append(d,v)}}else{if(zd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Zf,r=null,a=Jf,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:e.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wg(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function M3(t,n,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:n&&oo(a.pathname,n)==="/"?a.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function O3(t,n){if(t.id in n)return n[t.id];try{let e=await import(t.module);return n[t.id]=e,e}catch(e){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function B3(t,n,e){let r=await Promise.all(t.map(async a=>{let o=n.routes[a.route.id];if(o){let u=await O3(o,e);return u.links?u.links():[]}return[]}));return z3(r.flat(1).filter(I3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function P2(t,n,e,r,a,o){let u=(c,d)=>e[d]?c.route.id!==e[d].route.id:!0,l=(c,d)=>e[d].pathname!==c.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==c.params["*"];return o==="assets"?n.filter((c,d)=>u(c,d)||l(c,d)):o==="data"?n.filter((c,d)=>{let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(u(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function F3(t,n,{includeHydrateFallback:e}={}){return L3(t.map(r=>{let a=n.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function L3(t){return[...new Set(t)]}function P3(t){let n={},e=Object.keys(t).sort();for(let r of e)n[r]=t[r];return n}function z3(t,n){let e=new Set;return new Set(n),t.reduce((r,a)=>{let o=JSON.stringify(P3(a));return e.has(o)||(e.add(o),r.push({key:o,link:a})),r},[])}function kC(){let t=L.useContext(du);return Wg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function U3(){let t=L.useContext(Pd);return Wg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hg=L.createContext(void 0);Hg.displayName="FrameworkContext";function DC(){let t=L.useContext(Hg);return Wg(t,"You must render this element inside a <HydratedRouter> element"),t}function W3(t,n){let e=L.useContext(Hg),[r,a]=L.useState(!1),[o,u]=L.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:v}=n,m=L.useRef(null);L.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let x=C=>{C.forEach(_=>{u(_.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[t]),L.useEffect(()=>{if(r){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{a(!0)},b=()=>{a(!1),u(!1)};return e?t!=="intent"?[o,m,{}]:[o,m,{onFocus:fl(l,g),onBlur:fl(c,b),onMouseEnter:fl(d,g),onMouseLeave:fl(h,b),onTouchStart:fl(v,g)}]:[!1,m,{}]}function fl(t,n){return e=>{t&&t(e),e.defaultPrevented||n(e)}}function H3({page:t,...n}){let{router:e}=kC(),r=L.useMemo(()=>hC(e.routes,t,e.basename),[e.routes,t,e.basename]);return r?L.createElement(V3,{page:t,matches:r,...n}):null}function j3(t){let{manifest:n,routeModules:e}=DC(),[r,a]=L.useState([]);return L.useEffect(()=>{let o=!1;return B3(t,n,e).then(u=>{o||a(u)}),()=>{o=!0}},[t,n,e]),r}function V3({page:t,matches:n,...e}){let r=ji(),{future:a,manifest:o,routeModules:u}=DC(),{basename:l}=kC(),{loaderData:c,matches:d}=U3(),h=L.useMemo(()=>P2(t,n,d,o,r,"data"),[t,n,d,o,r]),v=L.useMemo(()=>P2(t,n,d,o,r,"assets"),[t,n,d,o,r]),m=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,S=!1;if(n.forEach(_=>{let R=o.routes[_.route.id];!R||!R.hasLoader||(!h.some(E=>E.route.id===_.route.id)&&_.route.id in c&&u[_.route.id]?.shouldRevalidate||R.hasClientLoader?S=!0:x.add(_.route.id))}),x.size===0)return[];let C=M3(t,l,a.unstable_trailingSlashAwareDataRequests,"data");return S&&x.size>0&&C.searchParams.set("_routes",n.filter(_=>x.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[l,a.unstable_trailingSlashAwareDataRequests,c,r,o,h,n,t,u]),g=L.useMemo(()=>F3(v,o),[v,o]),b=j3(v);return L.createElement(L.Fragment,null,m.map(x=>L.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),g.map(x=>L.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),b.map(({key:x,link:S})=>L.createElement("link",{key:x,nonce:e.nonce,...S})))}function G3(...t){return n=>{t.forEach(e=>{typeof e=="function"?e(n):e!=null&&(e.current=n)})}}var q3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q3&&(window.__reactRouterVersion="7.12.0")}catch{}function $3({basename:t,children:n,unstable_useTransitions:e,window:r}){let a=L.useRef();a.current==null&&(a.current=_k({window:r,v5Compat:!0}));let o=a.current,[u,l]=L.useState({action:o.action,location:o.location}),c=L.useCallback(d=>{e===!1?l(d):L.startTransition(()=>l(d))},[e]);return L.useLayoutEffect(()=>o.listen(c),[o,c]),L.createElement(S3,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:e})}var NC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MC=L.forwardRef(function({onClick:n,discover:e="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:l,target:c,to:d,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:m,...g},b){let{basename:x,unstable_useTransitions:S}=L.useContext(qr),C=typeof d=="string"&&NC.test(d),_=xC(d,x);d=_.to;let R=i3(d,{relative:a}),[E,T,D]=W3(r,g),N=Q3(d,{replace:u,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:m,unstable_useTransitions:S});function O(B){n&&n(B),B.defaultPrevented||N(B)}let I=L.createElement("a",{...g,...D,href:_.absoluteURL||R,onClick:_.isExternal||o?n:O,ref:G3(b,T),target:c,"data-discover":!C&&e==="render"?"true":void 0});return E&&!C?L.createElement(L.Fragment,null,I,L.createElement(H3,{page:R})):I});MC.displayName="Link";var K3=L.forwardRef(function({"aria-current":n="page",caseSensitive:e=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:l,children:c,...d},h){let v=Xl(u,{relative:d.relative}),m=ji(),g=L.useContext(Pd),{navigator:b,basename:x}=L.useContext(qr),S=g!=null&&nD(v)&&l===!0,C=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,_=m.pathname,R=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;e||(_=_.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&x&&(R=oo(R,x)||R);const E=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=_===C||!a&&_.startsWith(C)&&_.charAt(E)==="/",D=R!=null&&(R===C||!a&&R.startsWith(C)&&R.charAt(C.length)==="/"),N={isActive:T,isPending:D,isTransitioning:S},O=T?n:void 0,I;typeof r=="function"?I=r(N):I=[r,T?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(N):o;return L.createElement(MC,{...d,"aria-current":O,className:I,ref:h,style:B,to:u,viewTransition:l},typeof c=="function"?c(N):c)});K3.displayName="NavLink";var X3=L.forwardRef(({discover:t="render",fetcherKey:n,navigate:e,reloadDocument:r,replace:a,state:o,method:u=Zf,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:m,...g},b)=>{let{unstable_useTransitions:x}=L.useContext(qr),S=eD(),C=tD(l,{relative:d}),_=u.toLowerCase()==="get"?"get":"post",R=typeof l=="string"&&NC.test(l),E=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,N=D?.getAttribute("formmethod")||u,O=()=>S(D||T.currentTarget,{fetcherKey:n,method:N,navigate:e,replace:a,state:o,relative:d,preventScrollReset:h,viewTransition:v,unstable_defaultShouldRevalidate:m});x&&e!==!1?L.startTransition(()=>O()):O()};return L.createElement("form",{ref:b,method:_,action:C,onSubmit:r?c:E,...g,"data-discover":!R&&t==="render"?"true":void 0})});X3.displayName="Form";function Y3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OC(t){let n=L.useContext(du);return Ht(n,Y3(t)),n}function Q3(t,{target:n,replace:e,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let d=s3(),h=ji(),v=Xl(t,{relative:o});return L.useCallback(m=>{if(A3(m,n)){m.preventDefault();let g=e!==void 0?e:Ol(h)===Ol(v),b=()=>d(t,{replace:g,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:l});c?L.startTransition(()=>b()):b()}},[h,d,v,e,r,n,t,a,o,u,l,c])}var Z3=0,J3=()=>`__${String(++Z3)}__`;function eD(){let{router:t}=OC("useSubmit"),{basename:n}=L.useContext(qr),e=y3(),r=t.fetch,a=t.navigate;return L.useCallback(async(o,u={})=>{let{action:l,method:c,encType:d,formData:h,body:v}=N3(o,n);if(u.navigate===!1){let m=u.fetcherKey||J3();await r(m,e,u.action||l,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:h,body:v,formMethod:u.method||c,formEncType:u.encType||d,flushSync:u.flushSync})}else await a(u.action||l,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:h,body:v,formMethod:u.method||c,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:e,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,n,e])}function tD(t,{relative:n}={}){let{basename:e}=L.useContext(qr),r=L.useContext(lo);Ht(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Xl(t||".",{relative:n})},u=ji();if(t==null){o.search=u.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(v=>v).forEach(v=>l.append("index",v));let h=l.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ao([e,o.pathname])),Ol(o)}function nD(t,{relative:n}={}){let e=L.useContext(SC);Ht(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=OC("useViewTransitionState"),a=Xl(t,{relative:n});if(!e.isTransitioning)return!1;let o=oo(e.currentLocation.pathname,r)||e.currentLocation.pathname,u=oo(e.nextLocation.pathname,r)||e.nextLocation.pathname;return od(a.pathname,u)!=null||od(a.pathname,o)!=null}var IC=dC();const kf=Fg(IC);function rD(){return re.jsxs(re.Fragment,{children:[re.jsx("h2",{children:"Navigation Menu"}),re.jsxs("ul",{children:[re.jsx("li",{children:re.jsx("a",{href:"#/assignment_1",children:"Image Text Recognition "})}),re.jsx("li",{children:re.jsx("a",{href:"#/assignment_2",children:" Face Recognition "})}),re.jsx("li",{children:re.jsx("a",{href:"#/assignment_3",children:" Face Spectacles "})})]})]})}const Il={black:"#000",white:"#fff"},Is={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Bs={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Fs={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ls={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ps={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},dl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},aD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function io(t,...n){const e=new URL(`https://mui.com/production-error/?code=${t}`);return n.forEach(r=>e.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${e} for the full message.`}const Ud="$$material";function id(){return id=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},id.apply(null,arguments)}function oD(t){if(t.sheet)return t.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===t)return document.styleSheets[n]}function iD(t){var n=document.createElement("style");return n.setAttribute("data-emotion",t.key),t.nonce!==void 0&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var sD=(function(){function t(e){var r=this;this._insertTag=function(a){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,o),r.tags.push(a)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var n=t.prototype;return n.hydrate=function(r){r.forEach(this._insertTag)},n.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(iD(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=oD(a);try{o.insertRule(r,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},n.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t})(),zn="-ms-",sd="-moz-",ht="-webkit-",BC="comm",jg="rule",Vg="decl",uD="@import",FC="@keyframes",lD="@layer",cD=Math.abs,Wd=String.fromCharCode,fD=Object.assign;function dD(t,n){return On(t,0)^45?(((n<<2^On(t,0))<<2^On(t,1))<<2^On(t,2))<<2^On(t,3):0}function LC(t){return t.trim()}function hD(t,n){return(t=n.exec(t))?t[0]:t}function pt(t,n,e){return t.replace(n,e)}function Qm(t,n){return t.indexOf(n)}function On(t,n){return t.charCodeAt(n)|0}function Bl(t,n,e){return t.slice(n,e)}function ma(t){return t.length}function Gg(t){return t.length}function Df(t,n){return n.push(t),t}function pD(t,n){return t.map(n).join("")}var Hd=1,ou=1,PC=0,ur=0,ln=0,hu="";function jd(t,n,e,r,a,o,u){return{value:t,root:n,parent:e,type:r,props:a,children:o,line:Hd,column:ou,length:u,return:""}}function hl(t,n){return fD(jd("",null,null,"",null,null,0),t,{length:-t.length},n)}function vD(){return ln}function mD(){return ln=ur>0?On(hu,--ur):0,ou--,ln===10&&(ou=1,Hd--),ln}function _r(){return ln=ur<PC?On(hu,ur++):0,ou++,ln===10&&(ou=1,Hd++),ln}function Ea(){return On(hu,ur)}function ed(){return ur}function Yl(t,n){return Bl(hu,t,n)}function Fl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zC(t){return Hd=ou=1,PC=ma(hu=t),ur=0,[]}function UC(t){return hu="",t}function td(t){return LC(Yl(ur-1,Zm(t===91?t+2:t===40?t+1:t)))}function gD(t){for(;(ln=Ea())&&ln<33;)_r();return Fl(t)>2||Fl(ln)>3?"":" "}function yD(t,n){for(;--n&&_r()&&!(ln<48||ln>102||ln>57&&ln<65||ln>70&&ln<97););return Yl(t,ed()+(n<6&&Ea()==32&&_r()==32))}function Zm(t){for(;_r();)switch(ln){case t:return ur;case 34:case 39:t!==34&&t!==39&&Zm(ln);break;case 40:t===41&&Zm(t);break;case 92:_r();break}return ur}function bD(t,n){for(;_r()&&t+ln!==57;)if(t+ln===84&&Ea()===47)break;return"/*"+Yl(n,ur-1)+"*"+Wd(t===47?t:_r())}function xD(t){for(;!Fl(Ea());)_r();return Yl(t,ur)}function wD(t){return UC(nd("",null,null,null,[""],t=zC(t),0,[0],t))}function nd(t,n,e,r,a,o,u,l,c){for(var d=0,h=0,v=u,m=0,g=0,b=0,x=1,S=1,C=1,_=0,R="",E=a,T=o,D=r,N=R;S;)switch(b=_,_=_r()){case 40:if(b!=108&&On(N,v-1)==58){Qm(N+=pt(td(_),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:N+=td(_);break;case 9:case 10:case 13:case 32:N+=gD(b);break;case 92:N+=yD(ed()-1,7);continue;case 47:switch(Ea()){case 42:case 47:Df(SD(bD(_r(),ed()),n,e),c);break;default:N+="/"}break;case 123*x:l[d++]=ma(N)*C;case 125*x:case 59:case 0:switch(_){case 0:case 125:S=0;case 59+h:C==-1&&(N=pt(N,/\f/g,"")),g>0&&ma(N)-v&&Df(g>32?U2(N+";",r,e,v-1):U2(pt(N," ","")+";",r,e,v-2),c);break;case 59:N+=";";default:if(Df(D=z2(N,n,e,d,h,a,l,R,E=[],T=[],v),o),_===123)if(h===0)nd(N,n,D,D,E,o,v,l,T);else switch(m===99&&On(N,3)===110?100:m){case 100:case 108:case 109:case 115:nd(t,D,D,r&&Df(z2(t,D,D,0,0,a,l,R,a,E=[],v),T),a,T,v,l,r?E:T);break;default:nd(N,D,D,D,[""],T,0,l,T)}}d=h=g=0,x=C=1,R=N="",v=u;break;case 58:v=1+ma(N),g=b;default:if(x<1){if(_==123)--x;else if(_==125&&x++==0&&mD()==125)continue}switch(N+=Wd(_),_*x){case 38:C=h>0?1:(N+="\f",-1);break;case 44:l[d++]=(ma(N)-1)*C,C=1;break;case 64:Ea()===45&&(N+=td(_r())),m=Ea(),h=v=ma(R=N+=xD(ed())),_++;break;case 45:b===45&&ma(N)==2&&(x=0)}}return o}function z2(t,n,e,r,a,o,u,l,c,d,h){for(var v=a-1,m=a===0?o:[""],g=Gg(m),b=0,x=0,S=0;b<r;++b)for(var C=0,_=Bl(t,v+1,v=cD(x=u[b])),R=t;C<g;++C)(R=LC(x>0?m[C]+" "+_:pt(_,/&\f/g,m[C])))&&(c[S++]=R);return jd(t,n,e,a===0?jg:l,c,d,h)}function SD(t,n,e){return jd(t,n,e,BC,Wd(vD()),Bl(t,2,-2),0)}function U2(t,n,e,r){return jd(t,n,e,Vg,Bl(t,0,r),Bl(t,r+1,-1),r)}function Ys(t,n){for(var e="",r=Gg(t),a=0;a<r;a++)e+=n(t[a],a,t,n)||"";return e}function CD(t,n,e,r){switch(t.type){case lD:if(t.children.length)break;case uD:case Vg:return t.return=t.return||t.value;case BC:return"";case FC:return t.return=t.value+"{"+Ys(t.children,r)+"}";case jg:t.value=t.props.join(",")}return ma(e=Ys(t.children,r))?t.return=t.value+"{"+e+"}":""}function ED(t){var n=Gg(t);return function(e,r,a,o){for(var u="",l=0;l<n;l++)u+=t[l](e,r,a,o)||"";return u}}function RD(t){return function(n){n.root||(n=n.return)&&t(n)}}function WC(t){var n=Object.create(null);return function(e){return n[e]===void 0&&(n[e]=t(e)),n[e]}}var _D=function(n,e,r){for(var a=0,o=0;a=o,o=Ea(),a===38&&o===12&&(e[r]=1),!Fl(o);)_r();return Yl(n,ur)},TD=function(n,e){var r=-1,a=44;do switch(Fl(a)){case 0:a===38&&Ea()===12&&(e[r]=1),n[r]+=_D(ur-1,e,r);break;case 2:n[r]+=td(a);break;case 4:if(a===44){n[++r]=Ea()===58?"&\f":"",e[r]=n[r].length;break}default:n[r]+=Wd(a)}while(a=_r());return n},AD=function(n,e){return UC(TD(zC(n),e))},W2=new WeakMap,kD=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var e=n.value,r=n.parent,a=n.column===r.column&&n.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(n.props.length===1&&e.charCodeAt(0)!==58&&!W2.get(r))&&!a){W2.set(n,!0);for(var o=[],u=AD(e,o),l=r.props,c=0,d=0;c<u.length;c++)for(var h=0;h<l.length;h++,d++)n.props[d]=o[c]?u[c].replace(/&\f/g,l[h]):l[h]+" "+u[c]}}},DD=function(n){if(n.type==="decl"){var e=n.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(n.return="",n.value="")}};function HC(t,n){switch(dD(t,n)){case 5103:return ht+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ht+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ht+t+sd+t+zn+t+t;case 6828:case 4268:return ht+t+zn+t+t;case 6165:return ht+t+zn+"flex-"+t+t;case 5187:return ht+t+pt(t,/(\w+).+(:[^]+)/,ht+"box-$1$2"+zn+"flex-$1$2")+t;case 5443:return ht+t+zn+"flex-item-"+pt(t,/flex-|-self/,"")+t;case 4675:return ht+t+zn+"flex-line-pack"+pt(t,/align-content|flex-|-self/,"")+t;case 5548:return ht+t+zn+pt(t,"shrink","negative")+t;case 5292:return ht+t+zn+pt(t,"basis","preferred-size")+t;case 6060:return ht+"box-"+pt(t,"-grow","")+ht+t+zn+pt(t,"grow","positive")+t;case 4554:return ht+pt(t,/([^-])(transform)/g,"$1"+ht+"$2")+t;case 6187:return pt(pt(pt(t,/(zoom-|grab)/,ht+"$1"),/(image-set)/,ht+"$1"),t,"")+t;case 5495:case 3959:return pt(t,/(image-set\([^]*)/,ht+"$1$`$1");case 4968:return pt(pt(t,/(.+:)(flex-)?(.*)/,ht+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ht+t+t;case 4095:case 3583:case 4068:case 2532:return pt(t,/(.+)-inline(.+)/,ht+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ma(t)-1-n>6)switch(On(t,n+1)){case 109:if(On(t,n+4)!==45)break;case 102:return pt(t,/(.+:)(.+)-([^]+)/,"$1"+ht+"$2-$3$1"+sd+(On(t,n+3)==108?"$3":"$2-$3"))+t;case 115:return~Qm(t,"stretch")?HC(pt(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(On(t,n+1)!==115)break;case 6444:switch(On(t,ma(t)-3-(~Qm(t,"!important")&&10))){case 107:return pt(t,":",":"+ht)+t;case 101:return pt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ht+(On(t,14)===45?"inline-":"")+"box$3$1"+ht+"$2$3$1"+zn+"$2box$3")+t}break;case 5936:switch(On(t,n+11)){case 114:return ht+t+zn+pt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ht+t+zn+pt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ht+t+zn+pt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ht+t+zn+t+t}return t}var ND=function(n,e,r,a){if(n.length>-1&&!n.return)switch(n.type){case Vg:n.return=HC(n.value,n.length);break;case FC:return Ys([hl(n,{value:pt(n.value,"@","@"+ht)})],a);case jg:if(n.length)return pD(n.props,function(o){switch(hD(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ys([hl(n,{props:[pt(o,/:(read-\w+)/,":"+sd+"$1")]})],a);case"::placeholder":return Ys([hl(n,{props:[pt(o,/:(plac\w+)/,":"+ht+"input-$1")]}),hl(n,{props:[pt(o,/:(plac\w+)/,":"+sd+"$1")]}),hl(n,{props:[pt(o,/:(plac\w+)/,zn+"input-$1")]})],a)}return""})}},MD=[ND],OD=function(n){var e=n.key;if(e==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var S=x.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var a=n.stylisPlugins||MD,o={},u,l=[];u=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(x){for(var S=x.getAttribute("data-emotion").split(" "),C=1;C<S.length;C++)o[S[C]]=!0;l.push(x)});var c,d=[kD,DD];{var h,v=[CD,RD(function(x){h.insert(x)})],m=ED(d.concat(a,v)),g=function(S){return Ys(wD(S),m)};c=function(S,C,_,R){h=_,g(S?S+"{"+C.styles+"}":C.styles),R&&(b.inserted[C.name]=!0)}}var b={key:e,sheet:new sD({key:e,container:u,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:o,registered:{},insert:c};return b.sheet.hydrate(l),b},Hv={exports:{}},mt={};var H2;function ID(){if(H2)return mt;H2=1;var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,e=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,x=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function R(T){if(typeof T=="object"&&T!==null){var D=T.$$typeof;switch(D){case n:switch(T=T.type,T){case c:case d:case r:case o:case a:case v:return T;default:switch(T=T&&T.$$typeof,T){case l:case h:case b:case g:case u:return T;default:return D}}case e:return D}}}function E(T){return R(T)===d}return mt.AsyncMode=c,mt.ConcurrentMode=d,mt.ContextConsumer=l,mt.ContextProvider=u,mt.Element=n,mt.ForwardRef=h,mt.Fragment=r,mt.Lazy=b,mt.Memo=g,mt.Portal=e,mt.Profiler=o,mt.StrictMode=a,mt.Suspense=v,mt.isAsyncMode=function(T){return E(T)||R(T)===c},mt.isConcurrentMode=E,mt.isContextConsumer=function(T){return R(T)===l},mt.isContextProvider=function(T){return R(T)===u},mt.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===n},mt.isForwardRef=function(T){return R(T)===h},mt.isFragment=function(T){return R(T)===r},mt.isLazy=function(T){return R(T)===b},mt.isMemo=function(T){return R(T)===g},mt.isPortal=function(T){return R(T)===e},mt.isProfiler=function(T){return R(T)===o},mt.isStrictMode=function(T){return R(T)===a},mt.isSuspense=function(T){return R(T)===v},mt.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===r||T===d||T===o||T===a||T===v||T===m||typeof T=="object"&&T!==null&&(T.$$typeof===b||T.$$typeof===g||T.$$typeof===u||T.$$typeof===l||T.$$typeof===h||T.$$typeof===S||T.$$typeof===C||T.$$typeof===_||T.$$typeof===x)},mt.typeOf=R,mt}var j2;function BD(){return j2||(j2=1,Hv.exports=ID()),Hv.exports}var jv,V2;function FD(){if(V2)return jv;V2=1;var t=BD(),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=a;function u(b){return t.isMemo(b)?a:o[b.$$typeof]||n}var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,m=Object.prototype;function g(b,x,S){if(typeof x!="string"){if(m){var C=v(x);C&&C!==m&&g(b,C,S)}var _=c(x);d&&(_=_.concat(d(x)));for(var R=u(b),E=u(x),T=0;T<_.length;++T){var D=_[T];if(!e[D]&&!(S&&S[D])&&!(E&&E[D])&&!(R&&R[D])){var N=h(x,D);try{l(b,D,N)}catch{}}}}return b}return jv=g,jv}FD();var LD=!0;function jC(t,n,e){var r="";return e.split(" ").forEach(function(a){t[a]!==void 0?n.push(t[a]+";"):a&&(r+=a+" ")}),r}var qg=function(n,e,r){var a=n.key+"-"+e.name;(r===!1||LD===!1)&&n.registered[a]===void 0&&(n.registered[a]=e.styles)},$g=function(n,e,r){qg(n,e,r);var a=n.key+"-"+e.name;if(n.inserted[e.name]===void 0){var o=e;do n.insert(e===o?"."+a:"",o,n.sheet,!0),o=o.next;while(o!==void 0)}};function PD(t){for(var n=0,e,r=0,a=t.length;a>=4;++r,a-=4)e=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,n=(e&65535)*1540483477+((e>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(a){case 3:n^=(t.charCodeAt(r+2)&255)<<16;case 2:n^=(t.charCodeAt(r+1)&255)<<8;case 1:n^=t.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var zD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},UD=/[A-Z]|^ms/g,WD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,VC=function(n){return n.charCodeAt(1)===45},G2=function(n){return n!=null&&typeof n!="boolean"},Vv=WC(function(t){return VC(t)?t:t.replace(UD,"-$&").toLowerCase()}),q2=function(n,e){switch(n){case"animation":case"animationName":if(typeof e=="string")return e.replace(WD,function(r,a,o){return ga={name:a,styles:o,next:ga},a})}return zD[n]!==1&&!VC(n)&&typeof e=="number"&&e!==0?e+"px":e};function Ll(t,n,e){if(e==null)return"";var r=e;if(r.__emotion_styles!==void 0)return r;switch(typeof e){case"boolean":return"";case"object":{var a=e;if(a.anim===1)return ga={name:a.name,styles:a.styles,next:ga},a.name;var o=e;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)ga={name:u.name,styles:u.styles,next:ga},u=u.next;var l=o.styles+";";return l}return HD(t,n,e)}case"function":{if(t!==void 0){var c=ga,d=e(t);return ga=c,Ll(t,n,d)}break}}var h=e;if(n==null)return h;var v=n[h];return v!==void 0?v:h}function HD(t,n,e){var r="";if(Array.isArray(e))for(var a=0;a<e.length;a++)r+=Ll(t,n,e[a])+";";else for(var o in e){var u=e[o];if(typeof u!="object"){var l=u;n!=null&&n[l]!==void 0?r+=o+"{"+n[l]+"}":G2(l)&&(r+=Vv(o)+":"+q2(o,l)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(n==null||n[u[0]]===void 0))for(var c=0;c<u.length;c++)G2(u[c])&&(r+=Vv(o)+":"+q2(o,u[c])+";");else{var d=Ll(t,n,u);switch(o){case"animation":case"animationName":{r+=Vv(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var $2=/label:\s*([^\s;{]+)\s*(;|$)/g,ga;function Ql(t,n,e){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";ga=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,a+=Ll(e,n,o);else{var u=o;a+=u[0]}for(var l=1;l<t.length;l++)if(a+=Ll(e,n,t[l]),r){var c=o;a+=c[l]}$2.lastIndex=0;for(var d="",h;(h=$2.exec(a))!==null;)d+="-"+h[1];var v=PD(a)+d;return{name:v,styles:a,next:ga}}var jD=function(n){return n()},GC=Km.useInsertionEffect?Km.useInsertionEffect:!1,qC=GC||jD,K2=GC||L.useLayoutEffect,$C=L.createContext(typeof HTMLElement<"u"?OD({key:"css"}):null);$C.Provider;var Kg=function(n){return L.forwardRef(function(e,r){var a=L.useContext($C);return n(e,a,r)})},Vd=L.createContext({}),Xg={}.hasOwnProperty,Jm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",VD=function(n,e){var r={};for(var a in e)Xg.call(e,a)&&(r[a]=e[a]);return r[Jm]=n,r},GD=function(n){var e=n.cache,r=n.serialized,a=n.isStringTag;return qg(e,r,a),qC(function(){return $g(e,r,a)}),null},qD=Kg(function(t,n,e){var r=t.css;typeof r=="string"&&n.registered[r]!==void 0&&(r=n.registered[r]);var a=t[Jm],o=[r],u="";typeof t.className=="string"?u=jC(n.registered,o,t.className):t.className!=null&&(u=t.className+" ");var l=Ql(o,void 0,L.useContext(Vd));u+=n.key+"-"+l.name;var c={};for(var d in t)Xg.call(t,d)&&d!=="css"&&d!==Jm&&(c[d]=t[d]);return c.className=u,e&&(c.ref=e),L.createElement(L.Fragment,null,L.createElement(GD,{cache:n,serialized:l,isStringTag:typeof a=="string"}),L.createElement(a,c))}),$D=qD,X2=function(n,e){var r=arguments;if(e==null||!Xg.call(e,"css"))return L.createElement.apply(void 0,r);var a=r.length,o=new Array(a);o[0]=$D,o[1]=VD(n,e);for(var u=2;u<a;u++)o[u]=r[u];return L.createElement.apply(null,o)};(function(t){var n;n||(n=t.JSX||(t.JSX={}))})(X2||(X2={}));var KD=Kg(function(t,n){var e=t.styles,r=Ql([e],void 0,L.useContext(Vd)),a=L.useRef();return K2(function(){var o=n.key+"-global",u=new n.sheet.constructor({key:o,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return n.sheet.tags.length&&(u.before=n.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",o),u.hydrate([c])),a.current=[u,l],function(){u.flush()}},[n]),K2(function(){var o=a.current,u=o[0],l=o[1];if(l){o[1]=!1;return}if(r.next!==void 0&&$g(n,r.next,!0),u.tags.length){var c=u.tags[u.tags.length-1].nextElementSibling;u.before=c,u.flush()}n.insert("",r,u,!1)},[n,r.name]),null});function Yg(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return Ql(n)}function Zl(){var t=Yg.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var XD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,YD=WC(function(t){return XD.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),QD=YD,ZD=function(n){return n!=="theme"},Y2=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?QD:ZD},Q2=function(n,e,r){var a;if(e){var o=e.shouldForwardProp;a=n.__emotion_forwardProp&&o?function(u){return n.__emotion_forwardProp(u)&&o(u)}:o}return typeof a!="function"&&r&&(a=n.__emotion_forwardProp),a},JD=function(n){var e=n.cache,r=n.serialized,a=n.isStringTag;return qg(e,r,a),qC(function(){return $g(e,r,a)}),null},eN=function t(n,e){var r=n.__emotion_real===n,a=r&&n.__emotion_base||n,o,u;e!==void 0&&(o=e.label,u=e.target);var l=Q2(n,e,r),c=l||Y2(a),d=!c("as");return function(){var h=arguments,v=r&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(o!==void 0&&v.push("label:"+o+";"),h[0]==null||h[0].raw===void 0)v.push.apply(v,h);else{var m=h[0];v.push(m[0]);for(var g=h.length,b=1;b<g;b++)v.push(h[b],m[b])}var x=Kg(function(S,C,_){var R=d&&S.as||a,E="",T=[],D=S;if(S.theme==null){D={};for(var N in S)D[N]=S[N];D.theme=L.useContext(Vd)}typeof S.className=="string"?E=jC(C.registered,T,S.className):S.className!=null&&(E=S.className+" ");var O=Ql(v.concat(T),C.registered,D);E+=C.key+"-"+O.name,u!==void 0&&(E+=" "+u);var I=d&&l===void 0?Y2(R):c,B={};for(var H in S)d&&H==="as"||I(H)&&(B[H]=S[H]);return B.className=E,_&&(B.ref=_),L.createElement(L.Fragment,null,L.createElement(JD,{cache:C,serialized:O,isStringTag:typeof R=="string"}),L.createElement(R,B))});return x.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",x.defaultProps=n.defaultProps,x.__emotion_real=x,x.__emotion_base=a,x.__emotion_styles=v,x.__emotion_forwardProp=l,Object.defineProperty(x,"toString",{value:function(){return"."+u}}),x.withComponent=function(S,C){var _=t(S,id({},e,C,{shouldForwardProp:Q2(x,C,!0)}));return _.apply(void 0,v)},x}},tN=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],eg=eN.bind(null);tN.forEach(function(t){eg[t]=eg(t)});function nN(t){return t==null||Object.keys(t).length===0}function rN(t){const{styles:n,defaultTheme:e={}}=t,r=typeof n=="function"?a=>n(nN(a)?e:a):n;return re.jsx(KD,{styles:r})}function KC(t,n){return eg(t,n)}function aN(t,n){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=n(t.__emotion_styles))}const Z2=[];function qo(t){return Z2[0]=t,Ql(Z2)}var Gv={exports:{}},_t={};var J2;function oN(){if(J2)return _t;J2=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function b(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case t:switch(x=x.type,x){case e:case a:case r:case c:case d:case m:return x;default:switch(x=x&&x.$$typeof,x){case u:case l:case v:case h:return x;case o:return x;default:return S}}case n:return S}}}return _t.ContextConsumer=o,_t.ContextProvider=u,_t.Element=t,_t.ForwardRef=l,_t.Fragment=e,_t.Lazy=v,_t.Memo=h,_t.Portal=n,_t.Profiler=a,_t.StrictMode=r,_t.Suspense=c,_t.SuspenseList=d,_t.isContextConsumer=function(x){return b(x)===o},_t.isContextProvider=function(x){return b(x)===u},_t.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},_t.isForwardRef=function(x){return b(x)===l},_t.isFragment=function(x){return b(x)===e},_t.isLazy=function(x){return b(x)===v},_t.isMemo=function(x){return b(x)===h},_t.isPortal=function(x){return b(x)===n},_t.isProfiler=function(x){return b(x)===a},_t.isStrictMode=function(x){return b(x)===r},_t.isSuspense=function(x){return b(x)===c},_t.isSuspenseList=function(x){return b(x)===d},_t.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===e||x===a||x===r||x===c||x===d||typeof x=="object"&&x!==null&&(x.$$typeof===v||x.$$typeof===h||x.$$typeof===u||x.$$typeof===o||x.$$typeof===l||x.$$typeof===g||x.getModuleId!==void 0)},_t.typeOf=b,_t}var ew;function iN(){return ew||(ew=1,Gv.exports=oN()),Gv.exports}var XC=iN();function ba(t){if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function YC(t){if(L.isValidElement(t)||XC.isValidElementType(t)||!ba(t))return t;const n={};return Object.keys(t).forEach(e=>{n[e]=YC(t[e])}),n}function qn(t,n,e={clone:!0}){const r=e.clone?{...t}:t;return ba(t)&&ba(n)&&Object.keys(n).forEach(a=>{L.isValidElement(n[a])||XC.isValidElementType(n[a])?r[a]=n[a]:ba(n[a])&&Object.prototype.hasOwnProperty.call(t,a)&&ba(t[a])?r[a]=qn(t[a],n[a],e):e.clone?r[a]=ba(n[a])?YC(n[a]):n[a]:r[a]=n[a]}),r}const sN=t=>{const n=Object.keys(t).map(e=>({key:e,val:t[e]}))||[];return n.sort((e,r)=>e.val-r.val),n.reduce((e,r)=>({...e,[r.key]:r.val}),{})};function uN(t){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:r=5,...a}=t,o=sN(n),u=Object.keys(o);function l(m){return`@media (min-width:${typeof n[m]=="number"?n[m]:m}${e})`}function c(m){return`@media (max-width:${(typeof n[m]=="number"?n[m]:m)-r/100}${e})`}function d(m,g){const b=u.indexOf(g);return`@media (min-width:${typeof n[m]=="number"?n[m]:m}${e}) and (max-width:${(b!==-1&&typeof n[u[b]]=="number"?n[u[b]]:g)-r/100}${e})`}function h(m){return u.indexOf(m)+1<u.length?d(m,u[u.indexOf(m)+1]):l(m)}function v(m){const g=u.indexOf(m);return g===0?l(u[1]):g===u.length-1?c(u[g]):d(m,u[u.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:l,down:c,between:d,only:h,not:v,unit:e,...a}}function tw(t,n){if(!t.containerQueries)return n;const e=Object.keys(n).filter(r=>r.startsWith("@container")).sort((r,a)=>{const o=/min-width:\s*([0-9.]+)/;return+(r.match(o)?.[1]||0)-+(a.match(o)?.[1]||0)});return e.length?e.reduce((r,a)=>{const o=n[a];return delete r[a],r[a]=o,r},{...n}):n}function lN(t,n){return n==="@"||n.startsWith("@")&&(t.some(e=>n.startsWith(`@${e}`))||!!n.match(/^@\d/))}function cN(t,n){const e=n.match(/^@([^/]+)?\/?(.+)?$/);if(!e)return null;const[,r,a]=e,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(a).up(o)}function fN(t){const n=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function e(o,u){o.up=(...l)=>n(t.breakpoints.up(...l),u),o.down=(...l)=>n(t.breakpoints.down(...l),u),o.between=(...l)=>n(t.breakpoints.between(...l),u),o.only=(...l)=>n(t.breakpoints.only(...l),u),o.not=(...l)=>{const c=n(t.breakpoints.not(...l),u);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},a=o=>(e(r,o),r);return e(a),{...t,containerQueries:a}}const dN={borderRadius:4};function Tl(t,n){return n?qn(t,n,{clone:!1}):t}const Gd={xs:0,sm:600,md:900,lg:1200,xl:1536},nw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Gd[t]}px)`},hN={containerQueries:t=>({up:n=>{let e=typeof n=="number"?n:Gd[n]||n;return typeof e=="number"&&(e=`${e}px`),t?`@container ${t} (min-width:${e})`:`@container (min-width:${e})`}})};function so(t,n,e){const r=t.theme||{};if(Array.isArray(n)){const o=r.breakpoints||nw;return n.reduce((u,l,c)=>(u[o.up(o.keys[c])]=e(n[c]),u),{})}if(typeof n=="object"){const o=r.breakpoints||nw;return Object.keys(n).reduce((u,l)=>{if(lN(o.keys,l)){const c=cN(r.containerQueries?r:hN,l);c&&(u[c]=e(n[l],l))}else if(Object.keys(o.values||Gd).includes(l)){const c=o.up(l);u[c]=e(n[l],l)}else{const c=l;u[c]=n[c]}return u},{})}return e(n)}function pN(t={}){return t.keys?.reduce((e,r)=>{const a=t.up(r);return e[a]={},e},{})||{}}function rw(t,n){return t.reduce((e,r)=>{const a=e[r];return(!a||Object.keys(a).length===0)&&delete e[r],e},n)}function Ze(t){if(typeof t!="string")throw new Error(io(7));return t.charAt(0).toUpperCase()+t.slice(1)}function qd(t,n,e=!0){if(!n||typeof n!="string")return null;if(t&&t.vars&&e){const r=`vars.${n}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,t);if(r!=null)return r}return n.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,t)}function ud(t,n,e,r=e){let a;return typeof t=="function"?a=t(e):Array.isArray(t)?a=t[e]||r:a=qd(t,e)||r,n&&(a=n(a,r,t)),a}function tn(t){const{prop:n,cssProperty:e=t.prop,themeKey:r,transform:a}=t,o=u=>{if(u[n]==null)return null;const l=u[n],c=u.theme,d=qd(c,r)||{};return so(u,l,v=>{let m=ud(d,a,v);return v===m&&typeof v=="string"&&(m=ud(d,a,`${n}${v==="default"?"":Ze(v)}`,v)),e===!1?m:{[e]:m}})};return o.propTypes={},o.filterProps=[n],o}function vN(t){const n={};return e=>(n[e]===void 0&&(n[e]=t(e)),n[e])}const mN={m:"margin",p:"padding"},gN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},yN=vN(t=>{if(t.length>2)if(aw[t])t=aw[t];else return[t];const[n,e]=t.split(""),r=mN[n],a=gN[e]||"";return Array.isArray(a)?a.map(o=>r+o):[r+a]}),Qg=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Zg=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Qg,...Zg];function Jl(t,n,e,r){const a=qd(t,n,!0)??e;return typeof a=="number"||typeof a=="string"?o=>typeof o=="string"?o:typeof a=="string"?a.startsWith("var(")&&o===0?0:a.startsWith("var(")&&o===1?a:`calc(${o} * ${a})`:a*o:Array.isArray(a)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),l=a[u];return o>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof a=="function"?a:()=>{}}function Jg(t){return Jl(t,"spacing",8)}function ec(t,n){return typeof n=="string"||n==null?n:t(n)}function bN(t,n){return e=>t.reduce((r,a)=>(r[a]=ec(n,e),r),{})}function xN(t,n,e,r){if(!n.includes(e))return null;const a=yN(e),o=bN(a,r),u=t[e];return so(t,u,o)}function QC(t,n){const e=Jg(t.theme);return Object.keys(t).map(r=>xN(t,n,r,e)).reduce(Tl,{})}function Kt(t){return QC(t,Qg)}Kt.propTypes={};Kt.filterProps=Qg;function Xt(t){return QC(t,Zg)}Xt.propTypes={};Xt.filterProps=Zg;function ZC(t=8,n=Jg({spacing:t})){if(t.mui)return t;const e=(...r)=>(r.length===0?[1]:r).map(o=>{const u=n(o);return typeof u=="number"?`${u}px`:u}).join(" ");return e.mui=!0,e}function $d(...t){const n=t.reduce((r,a)=>(a.filterProps.forEach(o=>{r[o]=a}),r),{}),e=r=>Object.keys(r).reduce((a,o)=>n[o]?Tl(a,n[o](r)):a,{});return e.propTypes={},e.filterProps=t.reduce((r,a)=>r.concat(a.filterProps),[]),e}function Wr(t){return typeof t!="number"?t:`${t}px solid`}function $r(t,n){return tn({prop:t,themeKey:"borders",transform:n})}const wN=$r("border",Wr),SN=$r("borderTop",Wr),CN=$r("borderRight",Wr),EN=$r("borderBottom",Wr),RN=$r("borderLeft",Wr),_N=$r("borderColor"),TN=$r("borderTopColor"),AN=$r("borderRightColor"),kN=$r("borderBottomColor"),DN=$r("borderLeftColor"),NN=$r("outline",Wr),MN=$r("outlineColor"),Kd=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const n=Jl(t.theme,"shape.borderRadius",4),e=r=>({borderRadius:ec(n,r)});return so(t,t.borderRadius,e)}return null};Kd.propTypes={};Kd.filterProps=["borderRadius"];$d(wN,SN,CN,EN,RN,_N,TN,AN,kN,DN,Kd,NN,MN);const Xd=t=>{if(t.gap!==void 0&&t.gap!==null){const n=Jl(t.theme,"spacing",8),e=r=>({gap:ec(n,r)});return so(t,t.gap,e)}return null};Xd.propTypes={};Xd.filterProps=["gap"];const Yd=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const n=Jl(t.theme,"spacing",8),e=r=>({columnGap:ec(n,r)});return so(t,t.columnGap,e)}return null};Yd.propTypes={};Yd.filterProps=["columnGap"];const Qd=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const n=Jl(t.theme,"spacing",8),e=r=>({rowGap:ec(n,r)});return so(t,t.rowGap,e)}return null};Qd.propTypes={};Qd.filterProps=["rowGap"];const ON=tn({prop:"gridColumn"}),IN=tn({prop:"gridRow"}),BN=tn({prop:"gridAutoFlow"}),FN=tn({prop:"gridAutoColumns"}),LN=tn({prop:"gridAutoRows"}),PN=tn({prop:"gridTemplateColumns"}),zN=tn({prop:"gridTemplateRows"}),UN=tn({prop:"gridTemplateAreas"}),WN=tn({prop:"gridArea"});$d(Xd,Yd,Qd,ON,IN,BN,FN,LN,PN,zN,UN,WN);function Qs(t,n){return n==="grey"?n:t}const HN=tn({prop:"color",themeKey:"palette",transform:Qs}),jN=tn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Qs}),VN=tn({prop:"backgroundColor",themeKey:"palette",transform:Qs});$d(HN,jN,VN);function Sr(t){return t<=1&&t!==0?`${t*100}%`:t}const GN=tn({prop:"width",transform:Sr}),ey=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const n=e=>{const r=t.theme?.breakpoints?.values?.[e]||Gd[e];return r?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Sr(e)}};return so(t,t.maxWidth,n)}return null};ey.filterProps=["maxWidth"];const qN=tn({prop:"minWidth",transform:Sr}),$N=tn({prop:"height",transform:Sr}),KN=tn({prop:"maxHeight",transform:Sr}),XN=tn({prop:"minHeight",transform:Sr});tn({prop:"size",cssProperty:"width",transform:Sr});tn({prop:"size",cssProperty:"height",transform:Sr});const YN=tn({prop:"boxSizing"});$d(GN,ey,qN,$N,KN,XN,YN);const tc={border:{themeKey:"borders",transform:Wr},borderTop:{themeKey:"borders",transform:Wr},borderRight:{themeKey:"borders",transform:Wr},borderBottom:{themeKey:"borders",transform:Wr},borderLeft:{themeKey:"borders",transform:Wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Kd},color:{themeKey:"palette",transform:Qs},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Qs},backgroundColor:{themeKey:"palette",transform:Qs},p:{style:Xt},pt:{style:Xt},pr:{style:Xt},pb:{style:Xt},pl:{style:Xt},px:{style:Xt},py:{style:Xt},padding:{style:Xt},paddingTop:{style:Xt},paddingRight:{style:Xt},paddingBottom:{style:Xt},paddingLeft:{style:Xt},paddingX:{style:Xt},paddingY:{style:Xt},paddingInline:{style:Xt},paddingInlineStart:{style:Xt},paddingInlineEnd:{style:Xt},paddingBlock:{style:Xt},paddingBlockStart:{style:Xt},paddingBlockEnd:{style:Xt},m:{style:Kt},mt:{style:Kt},mr:{style:Kt},mb:{style:Kt},ml:{style:Kt},mx:{style:Kt},my:{style:Kt},margin:{style:Kt},marginTop:{style:Kt},marginRight:{style:Kt},marginBottom:{style:Kt},marginLeft:{style:Kt},marginX:{style:Kt},marginY:{style:Kt},marginInline:{style:Kt},marginInlineStart:{style:Kt},marginInlineEnd:{style:Kt},marginBlock:{style:Kt},marginBlockStart:{style:Kt},marginBlockEnd:{style:Kt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Xd},rowGap:{style:Qd},columnGap:{style:Yd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Sr},maxWidth:{style:ey},minWidth:{transform:Sr},height:{transform:Sr},maxHeight:{transform:Sr},minHeight:{transform:Sr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function QN(...t){const n=t.reduce((r,a)=>r.concat(Object.keys(a)),[]),e=new Set(n);return t.every(r=>e.size===Object.keys(r).length)}function ZN(t,n){return typeof t=="function"?t(n):t}function JN(){function t(e,r,a,o){const u={[e]:r,theme:a},l=o[e];if(!l)return{[e]:r};const{cssProperty:c=e,themeKey:d,transform:h,style:v}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[e]:r};const m=qd(a,d)||{};return v?v(u):so(u,r,b=>{let x=ud(m,h,b);return b===x&&typeof b=="string"&&(x=ud(m,h,`${e}${b==="default"?"":Ze(b)}`,b)),c===!1?x:{[c]:x}})}function n(e){const{sx:r,theme:a={},nested:o}=e||{};if(!r)return null;const u=a.unstable_sxConfig??tc;function l(c){let d=c;if(typeof c=="function")d=c(a);else if(typeof c!="object")return c;if(!d)return null;const h=pN(a.breakpoints),v=Object.keys(h);let m=h;return Object.keys(d).forEach(g=>{const b=ZN(d[g],a);if(b!=null)if(typeof b=="object")if(u[g])m=Tl(m,t(g,b,a,u));else{const x=so({theme:a},b,S=>({[g]:S}));QN(x,b)?m[g]=n({sx:b,theme:a,nested:!0}):m=Tl(m,x)}else m=Tl(m,t(g,b,a,u))}),!o&&a.modularCssLayers?{"@layer sx":tw(a,rw(v,m))}:tw(a,rw(v,m))}return Array.isArray(r)?r.map(l):l(r)}return n}const zi=JN();zi.filterProps=["sx"];function eM(t,n){const e=this;if(e.vars){if(!e.colorSchemes?.[t]||typeof e.getColorSchemeSelector!="function")return{};let r=e.getColorSchemeSelector(t);return r==="&"?n:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:n})}return e.palette.mode===t?n:{}}function ty(t={},...n){const{breakpoints:e={},palette:r={},spacing:a,shape:o={},...u}=t,l=uN(e),c=ZC(a);let d=qn({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...dN,...o}},u);return d=fN(d),d.applyStyles=eM,d=n.reduce((h,v)=>qn(h,v),d),d.unstable_sxConfig={...tc,...u?.unstable_sxConfig},d.unstable_sx=function(v){return zi({sx:v,theme:this})},d}function tM(t){return Object.keys(t).length===0}function nM(t=null){const n=L.useContext(Vd);return!n||tM(n)?t:n}const rM=ty();function ny(t=rM){return nM(t)}function qv(t){const n=qo(t);return t!==n&&n.styles?(n.styles.match(/^@layer\s+[^{]*$/)||(n.styles=`@layer global{${n.styles}}`),n):t}function aM({styles:t,themeId:n,defaultTheme:e={}}){const r=ny(e),a=n&&r[n]||r;let o=typeof t=="function"?t(a):t;return a.modularCssLayers&&(Array.isArray(o)?o=o.map(u=>qv(typeof u=="function"?u(a):u)):o=qv(o)),re.jsx(rN,{styles:o})}const oM=t=>{const n={systemProps:{},otherProps:{}},e=t?.theme?.unstable_sxConfig??tc;return Object.keys(t).forEach(r=>{e[r]?n.systemProps[r]=t[r]:n.otherProps[r]=t[r]}),n};function JC(t){const{sx:n,...e}=t,{systemProps:r,otherProps:a}=oM(e);let o;return Array.isArray(n)?o=[r,...n]:typeof n=="function"?o=(...u)=>{const l=n(...u);return ba(l)?{...r,...l}:r}:o={...r,...n},{...a,sx:o}}const ow=t=>t,iM=()=>{let t=ow;return{configure(n){t=n},generate(n){return t(n)},reset(){t=ow}}},eE=iM();function tE(t){var n,e,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(e=tE(t[n]))&&(r&&(r+=" "),r+=e)}else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Qe(){for(var t,n,e=0,r="",a=arguments.length;e<a;e++)(t=arguments[e])&&(n=tE(t))&&(r&&(r+=" "),r+=n);return r}function sM(t={}){const{themeId:n,defaultTheme:e,defaultClassName:r="MuiBox-root",generateClassName:a}=t,o=KC("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(zi);return L.forwardRef(function(c,d){const h=ny(e),{className:v,component:m="div",...g}=JC(c);return re.jsx(o,{as:m,ref:d,className:Qe(v,a?a(r):r),theme:n&&h[n]||h,...g})})}const uM={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Bt(t,n,e="Mui"){const r=uM[n];return r?`${e}-${r}`:`${eE.generate(t)}-${n}`}function Nt(t,n,e="Mui"){const r={};return n.forEach(a=>{r[a]=Bt(t,a,e)}),r}function nE(t){const{variants:n,...e}=t,r={variants:n,style:qo(e),isProcessed:!0};return r.style===e||n&&n.forEach(a=>{typeof a.style!="function"&&(a.style=qo(a.style))}),r}const lM=ty();function $v(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Mi(t,n){return n&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${n}{${String(t.styles)}}`),t}function cM(t){return t?(n,e)=>e[t]:null}function fM(t,n,e){t.theme=pM(t.theme)?e:t.theme[n]||t.theme}function rd(t,n,e){const r=typeof n=="function"?n(t):n;if(Array.isArray(r))return r.flatMap(a=>rd(t,a,e));if(Array.isArray(r?.variants)){let a;if(r.isProcessed)a=e?Mi(r.style,e):r.style;else{const{variants:o,...u}=r;a=e?Mi(qo(u),e):u}return rE(t,r.variants,[a],e)}return r?.isProcessed?e?Mi(qo(r.style),e):r.style:e?Mi(qo(r),e):r}function rE(t,n,e=[],r=void 0){let a;e:for(let o=0;o<n.length;o+=1){const u=n[o];if(typeof u.props=="function"){if(a??={...t,...t.ownerState,ownerState:t.ownerState},!u.props(a))continue}else for(const l in u.props)if(t[l]!==u.props[l]&&t.ownerState?.[l]!==u.props[l])continue e;typeof u.style=="function"?(a??={...t,...t.ownerState,ownerState:t.ownerState},e.push(r?Mi(qo(u.style(a)),r):u.style(a))):e.push(r?Mi(qo(u.style),r):u.style)}return e}function dM(t={}){const{themeId:n,defaultTheme:e=lM,rootShouldForwardProp:r=$v,slotShouldForwardProp:a=$v}=t;function o(l){fM(l,n,e)}return(l,c={})=>{aN(l,D=>D.filter(N=>N!==zi));const{name:d,slot:h,skipVariantsResolver:v,skipSx:m,overridesResolver:g=cM(mM(h)),...b}=c,x=d&&d.startsWith("Mui")||h?"components":"custom",S=v!==void 0?v:h&&h!=="Root"&&h!=="root"||!1,C=m||!1;let _=$v;h==="Root"||h==="root"?_=r:h?_=a:vM(l)&&(_=void 0);const R=KC(l,{shouldForwardProp:_,label:hM(),...b}),E=D=>{if(D.__emotion_real===D)return D;if(typeof D=="function")return function(O){return rd(O,D,O.theme.modularCssLayers?x:void 0)};if(ba(D)){const N=nE(D);return function(I){return N.variants?rd(I,N,I.theme.modularCssLayers?x:void 0):I.theme.modularCssLayers?Mi(N.style,x):N.style}}return D},T=(...D)=>{const N=[],O=D.map(E),I=[];if(N.push(o),d&&g&&I.push(function(q){const V=q.theme.components?.[d]?.styleOverrides;if(!V)return null;const P={};for(const $ in V)P[$]=rd(q,V[$],q.theme.modularCssLayers?"theme":void 0);return g(q,P)}),d&&!S&&I.push(function(q){const V=q.theme?.components?.[d]?.variants;return V?rE(q,V,[],q.theme.modularCssLayers?"theme":void 0):null}),C||I.push(zi),Array.isArray(O[0])){const A=O.shift(),q=new Array(N.length).fill(""),j=new Array(I.length).fill("");let V;V=[...q,...A,...j],V.raw=[...q,...A.raw,...j],N.unshift(V)}const B=[...N,...O,...I],H=R(...B);return l.muiName&&(H.muiName=l.muiName),H};return R.withConfig&&(T.withConfig=R.withConfig),T}}function hM(t,n){return void 0}function pM(t){for(const n in t)return!1;return!0}function vM(t){return typeof t=="string"&&t.charCodeAt(0)>96}function mM(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function ld(t,n,e=!1){const r={...n};for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const o=a;if(o==="components"||o==="slots")r[o]={...t[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const u=t[o],l=n[o];if(!l)r[o]=u||{};else if(!u)r[o]=l;else{r[o]={...l};for(const c in u)if(Object.prototype.hasOwnProperty.call(u,c)){const d=c;r[o][d]=ld(u[d],l[d],e)}}}else o==="className"&&e&&n.className?r.className=Qe(t?.className,n?.className):o==="style"&&e&&n.style?r.style={...t?.style,...n?.style}:r[o]===void 0&&(r[o]=t[o])}return r}const Ui=typeof window<"u"?L.useLayoutEffect:L.useEffect;function gM(t,n=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(t,e))}function ry(t,n=0,e=1){return gM(t,n,e)}function yM(t){t=t.slice(1);const n=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let e=t.match(n);return e&&e[0].length===1&&(e=e.map(r=>r+r)),e?`rgb${e.length===4?"a":""}(${e.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Qo(t){if(t.type)return t;if(t.charAt(0)==="#")return Qo(yM(t));const n=t.indexOf("("),e=t.substring(0,n);if(!["rgb","rgba","hsl","hsla","color"].includes(e))throw new Error(io(9,t));let r=t.substring(n+1,t.length-1),a;if(e==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(io(10,a))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:e,values:r,colorSpace:a}}const bM=t=>{const n=Qo(t);return n.values.slice(0,3).map((e,r)=>n.type.includes("hsl")&&r!==0?`${e}%`:e).join(" ")},Cl=(t,n)=>{try{return bM(t)}catch{return t}};function Zd(t){const{type:n,colorSpace:e}=t;let{values:r}=t;return n.includes("rgb")?r=r.map((a,o)=>o<3?parseInt(a,10):a):n.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),n.includes("color")?r=`${e} ${r.join(" ")}`:r=`${r.join(", ")}`,`${n}(${r})`}function aE(t){t=Qo(t);const{values:n}=t,e=n[0],r=n[1]/100,a=n[2]/100,o=r*Math.min(a,1-a),u=(d,h=(d+e/30)%12)=>a-o*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const c=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(l+="a",c.push(n[3])),Zd({type:l,values:c})}function tg(t){t=Qo(t);let n=t.type==="hsl"||t.type==="hsla"?Qo(aE(t)).values:t.values;return n=n.map(e=>(t.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function xM(t,n){const e=tg(t),r=tg(n);return(Math.max(e,r)+.05)/(Math.min(e,r)+.05)}function cd(t,n){return t=Qo(t),n=ry(n),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${n}`:t.values[3]=n,Zd(t)}function wi(t,n,e){try{return cd(t,n)}catch{return t}}function Jd(t,n){if(t=Qo(t),n=ry(n),t.type.includes("hsl"))t.values[2]*=1-n;else if(t.type.includes("rgb")||t.type.includes("color"))for(let e=0;e<3;e+=1)t.values[e]*=1-n;return Zd(t)}function wt(t,n,e){try{return Jd(t,n)}catch{return t}}function eh(t,n){if(t=Qo(t),n=ry(n),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*n;else if(t.type.includes("rgb"))for(let e=0;e<3;e+=1)t.values[e]+=(255-t.values[e])*n;else if(t.type.includes("color"))for(let e=0;e<3;e+=1)t.values[e]+=(1-t.values[e])*n;return Zd(t)}function St(t,n,e){try{return eh(t,n)}catch{return t}}function wM(t,n=.15){return tg(t)>.5?Jd(t,n):eh(t,n)}function Nf(t,n,e){try{return wM(t,n)}catch{return t}}const SM=L.createContext(),CM=()=>L.useContext(SM)??!1,EM=L.createContext(void 0);function RM(t){const{theme:n,name:e,props:r}=t;if(!n||!n.components||!n.components[e])return r;const a=n.components[e];return a.defaultProps?ld(a.defaultProps,r,n.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?ld(a,r,n.components.mergeClassNameAndStyle):r}function _M({props:t,name:n}){const e=L.useContext(EM);return RM({props:t,name:n,theme:{components:e}})}let iw=0;function TM(t){const[n,e]=L.useState(t),r=t||n;return L.useEffect(()=>{n==null&&(iw+=1,e(`mui-${iw}`))},[n]),r}const AM={...Km},sw=AM.useId;function ay(t){if(sw!==void 0){const n=sw();return t??n}return TM(t)}const uw={theme:void 0};function kM(t){let n,e;return function(a){let o=n;return(o===void 0||a.theme!==e)&&(uw.theme=a.theme,o=nE(t(uw)),n=o,e=a.theme),o}}function DM(t=""){function n(...r){if(!r.length)return"";const a=r[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${a}${n(...r.slice(1))})`:`, ${a}`}return(r,...a)=>`var(--${t?`${t}-`:""}${r}${n(...a)})`}const lw=(t,n,e,r=[])=>{let a=t;n.forEach((o,u)=>{u===n.length-1?Array.isArray(a)?a[Number(o)]=e:a&&typeof a=="object"&&(a[o]=e):a&&typeof a=="object"&&(a[o]||(a[o]=r.includes(o)?[]:{}),a=a[o])})},NM=(t,n,e)=>{function r(a,o=[],u=[]){Object.entries(a).forEach(([l,c])=>{(!e||e&&!e([...o,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...o,l],Array.isArray(c)?[...u,l]:u):n([...o,l],c,u))})}r(t)},MM=(t,n)=>typeof n=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?n:`${n}px`:n;function Kv(t,n){const{prefix:e,shouldSkipGeneratingVar:r}=n||{},a={},o={},u={};return NM(t,(l,c,d)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(l,c))){const h=`--${e?`${e}-`:""}${l.join("-")}`,v=MM(l,c);Object.assign(a,{[h]:v}),lw(o,l,`var(${h})`,d),lw(u,l,`var(${h}, ${v})`,d)}},l=>l[0]==="vars"),{css:a,vars:o,varsWithDefaults:u}}function OM(t,n={}){const{getSelector:e=C,disableCssColorScheme:r,colorSchemeSelector:a,enableContrastVars:o}=n,{colorSchemes:u={},components:l,defaultColorScheme:c="light",...d}=t,{vars:h,css:v,varsWithDefaults:m}=Kv(d,n);let g=m;const b={},{[c]:x,...S}=u;if(Object.entries(S||{}).forEach(([E,T])=>{const{vars:D,css:N,varsWithDefaults:O}=Kv(T,n);g=qn(g,O),b[E]={css:N,vars:D}}),x){const{css:E,vars:T,varsWithDefaults:D}=Kv(x,n);g=qn(g,D),b[c]={css:E,vars:T}}function C(E,T){let D=a;if(a==="class"&&(D=".%s"),a==="data"&&(D="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(D=`[${a}="%s"]`),E){if(D==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${u[E]?.palette?.mode||E})`]:{":root":T}};if(D)return t.defaultColorScheme===E?`:root, ${D.replace("%s",String(E))}`:D.replace("%s",String(E))}return":root"}return{vars:g,generateThemeVars:()=>{let E={...h};return Object.entries(b).forEach(([,{vars:T}])=>{E=qn(E,T)}),E},generateStyleSheets:()=>{const E=[],T=t.defaultColorScheme||"light";function D(I,B){Object.keys(B).length&&E.push(typeof I=="string"?{[I]:{...B}}:I)}D(e(void 0,{...v}),v);const{[T]:N,...O}=b;if(N){const{css:I}=N,B=u[T]?.palette?.mode,H=!r&&B?{colorScheme:B,...I}:{...I};D(e(T,{...H}),H)}return Object.entries(O).forEach(([I,{css:B}])=>{const H=u[I]?.palette?.mode,A=!r&&H?{colorScheme:H,...B}:{...B};D(e(I,{...A}),A)}),o&&E.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),E}}}function IM(t){return function(e){return t==="media"?`@media (prefers-color-scheme: ${e})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${e}"] &`:t==="class"?`.${e} &`:t==="data"?`[data-${e}] &`:`${t.replace("%s",e)} &`:"&"}}function Ft(t,n,e=void 0){const r={};for(const a in t){const o=t[a];let u="",l=!0;for(let c=0;c<o.length;c+=1){const d=o[c];d&&(u+=(l===!0?"":" ")+n(d),l=!1,e&&e[d]&&(u+=" "+e[d]))}r[a]=u}return r}function Xv(t,n){return L.isValidElement(t)&&n.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}function oE(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Il.white,default:Il.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const iE=oE();function sE(){return{text:{primary:Il.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Il.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ng=sE();function cw(t,n,e,r){const a=r.light||r,o=r.dark||r*1.5;t[n]||(t.hasOwnProperty(e)?t[n]=t[e]:n==="light"?t.light=eh(t.main,a):n==="dark"&&(t.dark=Jd(t.main,o)))}function fw(t,n,e,r,a){const o=a.light||a,u=a.dark||a*1.5;n[e]||(n.hasOwnProperty(r)?n[e]=n[r]:e==="light"?n.light=`color-mix(in ${t}, ${n.main}, #fff ${(o*100).toFixed(0)}%)`:e==="dark"&&(n.dark=`color-mix(in ${t}, ${n.main}, #000 ${(u*100).toFixed(0)}%)`))}function BM(t="light"){return t==="dark"?{main:Fs[200],light:Fs[50],dark:Fs[400]}:{main:Fs[700],light:Fs[400],dark:Fs[800]}}function FM(t="light"){return t==="dark"?{main:Bs[200],light:Bs[50],dark:Bs[400]}:{main:Bs[500],light:Bs[300],dark:Bs[700]}}function LM(t="light"){return t==="dark"?{main:Is[500],light:Is[300],dark:Is[700]}:{main:Is[700],light:Is[400],dark:Is[800]}}function PM(t="light"){return t==="dark"?{main:Ls[400],light:Ls[300],dark:Ls[700]}:{main:Ls[700],light:Ls[500],dark:Ls[900]}}function zM(t="light"){return t==="dark"?{main:Ps[400],light:Ps[300],dark:Ps[700]}:{main:Ps[800],light:Ps[500],dark:Ps[900]}}function UM(t="light"){return t==="dark"?{main:dl[400],light:dl[300],dark:dl[700]}:{main:"#ed6c02",light:dl[500],dark:dl[900]}}function WM(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function oy(t){const{mode:n="light",contrastThreshold:e=3,tonalOffset:r=.2,colorSpace:a,...o}=t,u=t.primary||BM(n),l=t.secondary||FM(n),c=t.error||LM(n),d=t.info||PM(n),h=t.success||zM(n),v=t.warning||UM(n);function m(S){return a?WM(S):xM(S,ng.text.primary)>=e?ng.text.primary:iE.text.primary}const g=({color:S,name:C,mainShade:_=500,lightShade:R=300,darkShade:E=700})=>{if(S={...S},!S.main&&S[_]&&(S.main=S[_]),!S.hasOwnProperty("main"))throw new Error(io(11,C?` (${C})`:"",_));if(typeof S.main!="string")throw new Error(io(12,C?` (${C})`:"",JSON.stringify(S.main)));return a?(fw(a,S,"light",R,r),fw(a,S,"dark",E,r)):(cw(S,"light",R,r),cw(S,"dark",E,r)),S.contrastText||(S.contrastText=m(S.main)),S};let b;return n==="light"?b=oE():n==="dark"&&(b=sE()),qn({common:{...Il},mode:n,primary:g({color:u,name:"primary"}),secondary:g({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:c,name:"error"}),warning:g({color:v,name:"warning"}),info:g({color:d,name:"info"}),success:g({color:h,name:"success"}),grey:aD,contrastThreshold:e,getContrastText:m,augmentColor:g,tonalOffset:r,...b},o)}function HM(t){const n={};return Object.entries(t).forEach(r=>{const[a,o]=r;typeof o=="object"&&(n[a]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),n}function jM(t,n){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...n}}function VM(t){return Math.round(t*1e5)/1e5}const dw={textTransform:"uppercase"},hw='"Roboto", "Helvetica", "Arial", sans-serif';function GM(t,n){const{fontFamily:e=hw,fontSize:r=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:h,...v}=typeof n=="function"?n(t):n,m=r/14,g=h||(S=>`${S/c*m}rem`),b=(S,C,_,R,E)=>({fontFamily:e,fontWeight:S,fontSize:g(C),lineHeight:_,...e===hw?{letterSpacing:`${VM(R/C)}em`}:{},...E,...d}),x={h1:b(a,96,1.167,-1.5),h2:b(a,60,1.2,-.5),h3:b(o,48,1.167,0),h4:b(o,34,1.235,.25),h5:b(o,24,1.334,0),h6:b(u,20,1.6,.15),subtitle1:b(o,16,1.75,.15),subtitle2:b(u,14,1.57,.1),body1:b(o,16,1.5,.15),body2:b(o,14,1.43,.15),button:b(u,14,1.75,.4,dw),caption:b(o,12,1.66,.4),overline:b(o,12,2.66,1,dw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qn({htmlFontSize:c,pxToRem:g,fontFamily:e,fontSize:r,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:l,...x},v,{clone:!1})}const qM=.2,$M=.14,KM=.12;function Pt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${qM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${$M})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${KM})`].join(",")}const XM=["none",Pt(0,2,1,-1,0,1,1,0,0,1,3,0),Pt(0,3,1,-2,0,2,2,0,0,1,5,0),Pt(0,3,3,-2,0,3,4,0,0,1,8,0),Pt(0,2,4,-1,0,4,5,0,0,1,10,0),Pt(0,3,5,-1,0,5,8,0,0,1,14,0),Pt(0,3,5,-1,0,6,10,0,0,1,18,0),Pt(0,4,5,-2,0,7,10,1,0,2,16,1),Pt(0,5,5,-3,0,8,10,1,0,3,14,2),Pt(0,5,6,-3,0,9,12,1,0,3,16,2),Pt(0,6,6,-3,0,10,14,1,0,4,18,3),Pt(0,6,7,-4,0,11,15,1,0,4,20,3),Pt(0,7,8,-4,0,12,17,2,0,5,22,4),Pt(0,7,8,-4,0,13,19,2,0,5,24,4),Pt(0,7,9,-4,0,14,21,2,0,5,26,4),Pt(0,8,9,-5,0,15,22,2,0,6,28,5),Pt(0,8,10,-5,0,16,24,2,0,6,30,5),Pt(0,8,11,-5,0,17,26,2,0,6,32,5),Pt(0,9,11,-5,0,18,28,2,0,7,34,6),Pt(0,9,12,-6,0,19,29,2,0,7,36,6),Pt(0,10,13,-6,0,20,31,3,0,8,38,7),Pt(0,10,13,-6,0,21,33,3,0,8,40,7),Pt(0,10,14,-6,0,22,35,3,0,8,42,7),Pt(0,11,14,-7,0,23,36,3,0,9,44,8),Pt(0,11,15,-7,0,24,38,3,0,9,46,8)],YM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},QM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pw(t){return`${Math.round(t)}ms`}function ZM(t){if(!t)return 0;const n=t/36;return Math.min(Math.round((4+15*n**.25+n/5)*10),3e3)}function JM(t){const n={...YM,...t.easing},e={...QM,...t.duration};return{getAutoHeightDuration:ZM,create:(a=["all"],o={})=>{const{duration:u=e.standard,easing:l=n.easeInOut,delay:c=0,...d}=o;return(Array.isArray(a)?a:[a]).map(h=>`${h} ${typeof u=="string"?u:pw(u)} ${l} ${typeof c=="string"?c:pw(c)}`).join(",")},...t,easing:n,duration:e}}const eO={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function tO(t){return ba(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function uE(t={}){const n={...t};function e(r){const a=Object.entries(r);for(let o=0;o<a.length;o++){const[u,l]=a[o];!tO(l)||u.startsWith("unstable_")?delete r[u]:ba(l)&&(r[u]={...l},e(r[u]))}}return e(n),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(n,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function vw(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const nO=t=>{if(!Number.isNaN(+t))return+t;const n=t.match(/\d*\.?\d+/g);if(!n)return 0;let e=0;for(let r=0;r<n.length;r+=1)e+=+n[r];return e};function rO(t){Object.assign(t,{alpha(n,e){const r=this||t;return r.colorSpace?`oklch(from ${n} l c h / ${typeof e=="string"?`calc(${e})`:e})`:r.vars?`rgba(${n.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof e=="string"?`calc(${e})`:e})`:cd(n,nO(e))},lighten(n,e){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${n}, #fff ${vw(e)})`:eh(n,e)},darken(n,e){const r=this||t;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${n}, #000 ${vw(e)})`:Jd(n,e)}})}function rg(t={},...n){const{breakpoints:e,mixins:r={},spacing:a,palette:o={},transitions:u={},typography:l={},shape:c,colorSpace:d,...h}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(io(20));const v=oy({...o,colorSpace:d}),m=ty(t);let g=qn(m,{mixins:jM(m.breakpoints,r),palette:v,shadows:XM.slice(),typography:GM(v,l),transitions:JM(u),zIndex:{...eO}});return g=qn(g,h),g=n.reduce((b,x)=>qn(b,x),g),g.unstable_sxConfig={...tc,...h?.unstable_sxConfig},g.unstable_sx=function(x){return zi({sx:x,theme:this})},g.toRuntimeSource=uE,rO(g),g}function ag(t){let n;return t<1?n=5.11916*t**2:n=4.5*Math.log(t+1)+2,Math.round(n*10)/1e3}const aO=[...Array(25)].map((t,n)=>{if(n===0)return"none";const e=ag(n);return`linear-gradient(rgba(255 255 255 / ${e}), rgba(255 255 255 / ${e}))`});function lE(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function cE(t){return t==="dark"?aO:[]}function oO(t){const{palette:n={mode:"light"},opacity:e,overlays:r,colorSpace:a,...o}=t,u=oy({...n,colorSpace:a});return{palette:u,opacity:{...lE(u.mode),...e},overlays:r||cE(u.mode),...o}}function iO(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const sO=t=>[...[...Array(25)].map((n,e)=>`--${t?`${t}-`:""}overlays-${e}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],uO=t=>(n,e)=>{const r=t.rootSelector||":root",a=t.colorSchemeSelector;let o=a;if(a==="class"&&(o=".%s"),a==="data"&&(o="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(o=`[${a}="%s"]`),t.defaultColorScheme===n){if(n==="dark"){const u={};return sO(t.cssVarPrefix).forEach(l=>{u[l]=e[l],delete e[l]}),o==="media"?{[r]:e,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",n)]:u,[`${r}, ${o.replace("%s",n)}`]:e}:{[r]:{...e,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(n))}`}else if(n){if(o==="media")return{[`@media (prefers-color-scheme: ${String(n)})`]:{[r]:e}};if(o)return o.replace("%s",String(n))}return r};function lO(t,n){n.forEach(e=>{t[e]||(t[e]={})})}function fe(t,n,e){!t[n]&&e&&(t[n]=e)}function El(t){return typeof t!="string"||!t.startsWith("hsl")?t:aE(t)}function Ja(t,n){`${n}Channel`in t||(t[`${n}Channel`]=Cl(El(t[n])))}function cO(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const da=t=>{try{return t()}catch{}},fO=(t="mui")=>DM(t);function Yv(t,n,e,r,a){if(!e)return;e=e===!0?{}:e;const o=a==="dark"?"dark":"light";if(!r){n[a]=oO({...e,palette:{mode:o,...e?.palette},colorSpace:t});return}const{palette:u,...l}=rg({...r,palette:{mode:o,...e?.palette},colorSpace:t});return n[a]={...e,palette:u,opacity:{...lE(o),...e?.opacity},overlays:e?.overlays||cE(o)},l}function dO(t={},...n){const{colorSchemes:e={light:!0},defaultColorScheme:r,disableCssColorScheme:a=!1,cssVarPrefix:o="mui",nativeColor:u=!1,shouldSkipGeneratingVar:l=iO,colorSchemeSelector:c=e.light&&e.dark?"media":void 0,rootSelector:d=":root",...h}=t,v=Object.keys(e)[0],m=r||(e.light&&v!=="light"?"light":v),g=fO(o),{[m]:b,light:x,dark:S,...C}=e,_={...C};let R=b;if((m==="dark"&&!("dark"in e)||m==="light"&&!("light"in e))&&(R=!0),!R)throw new Error(io(21,m));let E;u&&(E="oklch");const T=Yv(E,_,R,h,m);x&&!_.light&&Yv(E,_,x,void 0,"light"),S&&!_.dark&&Yv(E,_,S,void 0,"dark");let D={defaultColorScheme:m,...T,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:d,getCssVar:g,colorSchemes:_,font:{...HM(T.typography),...T.font},spacing:cO(h.spacing)};Object.keys(D.colorSchemes).forEach(H=>{const A=D.colorSchemes[H].palette,q=V=>{const P=V.split("-"),$=P[1],Q=P[2];return g(V,A[$][Q])};A.mode==="light"&&(fe(A.common,"background","#fff"),fe(A.common,"onBackground","#000")),A.mode==="dark"&&(fe(A.common,"background","#000"),fe(A.common,"onBackground","#fff"));function j(V,P,$){if(E){let Q;return V===wi&&(Q=`transparent ${((1-$)*100).toFixed(0)}%`),V===wt&&(Q=`#000 ${($*100).toFixed(0)}%`),V===St&&(Q=`#fff ${($*100).toFixed(0)}%`),`color-mix(in ${E}, ${P}, ${Q})`}return V(P,$)}if(lO(A,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),A.mode==="light"){fe(A.Alert,"errorColor",j(wt,A.error.light,.6)),fe(A.Alert,"infoColor",j(wt,A.info.light,.6)),fe(A.Alert,"successColor",j(wt,A.success.light,.6)),fe(A.Alert,"warningColor",j(wt,A.warning.light,.6)),fe(A.Alert,"errorFilledBg",q("palette-error-main")),fe(A.Alert,"infoFilledBg",q("palette-info-main")),fe(A.Alert,"successFilledBg",q("palette-success-main")),fe(A.Alert,"warningFilledBg",q("palette-warning-main")),fe(A.Alert,"errorFilledColor",da(()=>A.getContrastText(A.error.main))),fe(A.Alert,"infoFilledColor",da(()=>A.getContrastText(A.info.main))),fe(A.Alert,"successFilledColor",da(()=>A.getContrastText(A.success.main))),fe(A.Alert,"warningFilledColor",da(()=>A.getContrastText(A.warning.main))),fe(A.Alert,"errorStandardBg",j(St,A.error.light,.9)),fe(A.Alert,"infoStandardBg",j(St,A.info.light,.9)),fe(A.Alert,"successStandardBg",j(St,A.success.light,.9)),fe(A.Alert,"warningStandardBg",j(St,A.warning.light,.9)),fe(A.Alert,"errorIconColor",q("palette-error-main")),fe(A.Alert,"infoIconColor",q("palette-info-main")),fe(A.Alert,"successIconColor",q("palette-success-main")),fe(A.Alert,"warningIconColor",q("palette-warning-main")),fe(A.AppBar,"defaultBg",q("palette-grey-100")),fe(A.Avatar,"defaultBg",q("palette-grey-400")),fe(A.Button,"inheritContainedBg",q("palette-grey-300")),fe(A.Button,"inheritContainedHoverBg",q("palette-grey-A100")),fe(A.Chip,"defaultBorder",q("palette-grey-400")),fe(A.Chip,"defaultAvatarColor",q("palette-grey-700")),fe(A.Chip,"defaultIconColor",q("palette-grey-700")),fe(A.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),fe(A.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),fe(A.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),fe(A.LinearProgress,"primaryBg",j(St,A.primary.main,.62)),fe(A.LinearProgress,"secondaryBg",j(St,A.secondary.main,.62)),fe(A.LinearProgress,"errorBg",j(St,A.error.main,.62)),fe(A.LinearProgress,"infoBg",j(St,A.info.main,.62)),fe(A.LinearProgress,"successBg",j(St,A.success.main,.62)),fe(A.LinearProgress,"warningBg",j(St,A.warning.main,.62)),fe(A.Skeleton,"bg",E?j(wi,A.text.primary,.11):`rgba(${q("palette-text-primaryChannel")} / 0.11)`),fe(A.Slider,"primaryTrack",j(St,A.primary.main,.62)),fe(A.Slider,"secondaryTrack",j(St,A.secondary.main,.62)),fe(A.Slider,"errorTrack",j(St,A.error.main,.62)),fe(A.Slider,"infoTrack",j(St,A.info.main,.62)),fe(A.Slider,"successTrack",j(St,A.success.main,.62)),fe(A.Slider,"warningTrack",j(St,A.warning.main,.62));const V=E?j(wt,A.background.default,.6825):Nf(A.background.default,.8);fe(A.SnackbarContent,"bg",V),fe(A.SnackbarContent,"color",da(()=>E?ng.text.primary:A.getContrastText(V))),fe(A.SpeedDialAction,"fabHoverBg",Nf(A.background.paper,.15)),fe(A.StepConnector,"border",q("palette-grey-400")),fe(A.StepContent,"border",q("palette-grey-400")),fe(A.Switch,"defaultColor",q("palette-common-white")),fe(A.Switch,"defaultDisabledColor",q("palette-grey-100")),fe(A.Switch,"primaryDisabledColor",j(St,A.primary.main,.62)),fe(A.Switch,"secondaryDisabledColor",j(St,A.secondary.main,.62)),fe(A.Switch,"errorDisabledColor",j(St,A.error.main,.62)),fe(A.Switch,"infoDisabledColor",j(St,A.info.main,.62)),fe(A.Switch,"successDisabledColor",j(St,A.success.main,.62)),fe(A.Switch,"warningDisabledColor",j(St,A.warning.main,.62)),fe(A.TableCell,"border",j(St,j(wi,A.divider,1),.88)),fe(A.Tooltip,"bg",j(wi,A.grey[700],.92))}if(A.mode==="dark"){fe(A.Alert,"errorColor",j(St,A.error.light,.6)),fe(A.Alert,"infoColor",j(St,A.info.light,.6)),fe(A.Alert,"successColor",j(St,A.success.light,.6)),fe(A.Alert,"warningColor",j(St,A.warning.light,.6)),fe(A.Alert,"errorFilledBg",q("palette-error-dark")),fe(A.Alert,"infoFilledBg",q("palette-info-dark")),fe(A.Alert,"successFilledBg",q("palette-success-dark")),fe(A.Alert,"warningFilledBg",q("palette-warning-dark")),fe(A.Alert,"errorFilledColor",da(()=>A.getContrastText(A.error.dark))),fe(A.Alert,"infoFilledColor",da(()=>A.getContrastText(A.info.dark))),fe(A.Alert,"successFilledColor",da(()=>A.getContrastText(A.success.dark))),fe(A.Alert,"warningFilledColor",da(()=>A.getContrastText(A.warning.dark))),fe(A.Alert,"errorStandardBg",j(wt,A.error.light,.9)),fe(A.Alert,"infoStandardBg",j(wt,A.info.light,.9)),fe(A.Alert,"successStandardBg",j(wt,A.success.light,.9)),fe(A.Alert,"warningStandardBg",j(wt,A.warning.light,.9)),fe(A.Alert,"errorIconColor",q("palette-error-main")),fe(A.Alert,"infoIconColor",q("palette-info-main")),fe(A.Alert,"successIconColor",q("palette-success-main")),fe(A.Alert,"warningIconColor",q("palette-warning-main")),fe(A.AppBar,"defaultBg",q("palette-grey-900")),fe(A.AppBar,"darkBg",q("palette-background-paper")),fe(A.AppBar,"darkColor",q("palette-text-primary")),fe(A.Avatar,"defaultBg",q("palette-grey-600")),fe(A.Button,"inheritContainedBg",q("palette-grey-800")),fe(A.Button,"inheritContainedHoverBg",q("palette-grey-700")),fe(A.Chip,"defaultBorder",q("palette-grey-700")),fe(A.Chip,"defaultAvatarColor",q("palette-grey-300")),fe(A.Chip,"defaultIconColor",q("palette-grey-300")),fe(A.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),fe(A.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),fe(A.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),fe(A.LinearProgress,"primaryBg",j(wt,A.primary.main,.5)),fe(A.LinearProgress,"secondaryBg",j(wt,A.secondary.main,.5)),fe(A.LinearProgress,"errorBg",j(wt,A.error.main,.5)),fe(A.LinearProgress,"infoBg",j(wt,A.info.main,.5)),fe(A.LinearProgress,"successBg",j(wt,A.success.main,.5)),fe(A.LinearProgress,"warningBg",j(wt,A.warning.main,.5)),fe(A.Skeleton,"bg",E?j(wi,A.text.primary,.13):`rgba(${q("palette-text-primaryChannel")} / 0.13)`),fe(A.Slider,"primaryTrack",j(wt,A.primary.main,.5)),fe(A.Slider,"secondaryTrack",j(wt,A.secondary.main,.5)),fe(A.Slider,"errorTrack",j(wt,A.error.main,.5)),fe(A.Slider,"infoTrack",j(wt,A.info.main,.5)),fe(A.Slider,"successTrack",j(wt,A.success.main,.5)),fe(A.Slider,"warningTrack",j(wt,A.warning.main,.5));const V=E?j(St,A.background.default,.985):Nf(A.background.default,.98);fe(A.SnackbarContent,"bg",V),fe(A.SnackbarContent,"color",da(()=>E?iE.text.primary:A.getContrastText(V))),fe(A.SpeedDialAction,"fabHoverBg",Nf(A.background.paper,.15)),fe(A.StepConnector,"border",q("palette-grey-600")),fe(A.StepContent,"border",q("palette-grey-600")),fe(A.Switch,"defaultColor",q("palette-grey-300")),fe(A.Switch,"defaultDisabledColor",q("palette-grey-600")),fe(A.Switch,"primaryDisabledColor",j(wt,A.primary.main,.55)),fe(A.Switch,"secondaryDisabledColor",j(wt,A.secondary.main,.55)),fe(A.Switch,"errorDisabledColor",j(wt,A.error.main,.55)),fe(A.Switch,"infoDisabledColor",j(wt,A.info.main,.55)),fe(A.Switch,"successDisabledColor",j(wt,A.success.main,.55)),fe(A.Switch,"warningDisabledColor",j(wt,A.warning.main,.55)),fe(A.TableCell,"border",j(wt,j(wi,A.divider,1),.68)),fe(A.Tooltip,"bg",j(wi,A.grey[700],.92))}Ja(A.background,"default"),Ja(A.background,"paper"),Ja(A.common,"background"),Ja(A.common,"onBackground"),Ja(A,"divider"),Object.keys(A).forEach(V=>{const P=A[V];V!=="tonalOffset"&&P&&typeof P=="object"&&(P.main&&fe(A[V],"mainChannel",Cl(El(P.main))),P.light&&fe(A[V],"lightChannel",Cl(El(P.light))),P.dark&&fe(A[V],"darkChannel",Cl(El(P.dark))),P.contrastText&&fe(A[V],"contrastTextChannel",Cl(El(P.contrastText))),V==="text"&&(Ja(A[V],"primary"),Ja(A[V],"secondary")),V==="action"&&(P.active&&Ja(A[V],"active"),P.selected&&Ja(A[V],"selected")))})}),D=n.reduce((H,A)=>qn(H,A),D);const N={prefix:o,disableCssColorScheme:a,shouldSkipGeneratingVar:l,getSelector:uO(D),enableContrastVars:u},{vars:O,generateThemeVars:I,generateStyleSheets:B}=OM(D,N);return D.vars=O,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([H,A])=>{D[H]=A}),D.generateThemeVars=I,D.generateStyleSheets=B,D.generateSpacing=function(){return ZC(h.spacing,Jg(this))},D.getColorSchemeSelector=IM(c),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=l,D.unstable_sxConfig={...tc,...h?.unstable_sxConfig},D.unstable_sx=function(A){return zi({sx:A,theme:this})},D.toRuntimeSource=uE,D}function mw(t,n,e){t.colorSchemes&&e&&(t.colorSchemes[n]={...e!==!0&&e,palette:oy({...e===!0?{}:e.palette,mode:n})})}function fE(t={},...n){const{palette:e,cssVariables:r=!1,colorSchemes:a=e?void 0:{light:!0},defaultColorScheme:o=e?.mode,...u}=t,l=o||"light",c=a?.[l],d={...a,...e?{[l]:{...typeof c!="boolean"&&c,palette:e}}:void 0};if(r===!1){if(!("colorSchemes"in t))return rg(t,...n);let h=e;"palette"in t||d[l]&&(d[l]!==!0?h=d[l].palette:l==="dark"&&(h={mode:"dark"}));const v=rg({...t,palette:h},...n);return v.defaultColorScheme=l,v.colorSchemes=d,v.palette.mode==="light"&&(v.colorSchemes.light={...d.light!==!0&&d.light,palette:v.palette},mw(v,"dark",d.dark)),v.palette.mode==="dark"&&(v.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:v.palette},mw(v,"light",d.light)),v}return!e&&!("light"in d)&&l==="light"&&(d.light=!0),dO({...u,colorSchemes:d,defaultColorScheme:l,...typeof r!="boolean"&&r},...n)}const iy=fE();function sy(){const t=ny(iy);return t[Ud]||t}function dE(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const oa=t=>dE(t)&&t!=="classes",Ue=dM({themeId:Ud,defaultTheme:iy,rootShouldForwardProp:oa});function gw(...t){return t.reduce((n,e)=>e==null?n:function(...a){n.apply(this,a),e.apply(this,a)},()=>{})}function hO(t){return re.jsx(aM,{...t,defaultTheme:iy,themeId:Ud})}function pO(t){return function(e){return re.jsx(hO,{styles:typeof t=="function"?r=>t({theme:r,...e}):t})}}function vO(){return JC}const nn=kM;function zt(t){return _M(t)}function mO(t){return Bt("MuiSvgIcon",t)}Nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const gO=t=>{const{color:n,fontSize:e,classes:r}=t,a={root:["root",n!=="inherit"&&`color${Ze(n)}`,`fontSize${Ze(e)}`]};return Ft(a,mO,r)},yO=Ue("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,e.color!=="inherit"&&n[`color${Ze(e.color)}`],n[`fontSize${Ze(e.fontSize)}`]]}})(nn(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:n=>!n.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,n])=>n&&n.main).map(([n])=>({props:{color:n},style:{color:(t.vars??t).palette?.[n]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),og=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiSvgIcon"}),{children:a,className:o,color:u="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:v,viewBox:m="0 0 24 24",...g}=r,b=L.isValidElement(a)&&a.type==="svg",x={...r,color:u,component:l,fontSize:c,instanceFontSize:n.fontSize,inheritViewBox:h,viewBox:m,hasSvgAsChild:b},S={};h||(S.viewBox=m);const C=gO(x);return re.jsxs(yO,{as:l,className:Qe(C.root,o),focusable:"false",color:d,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:e,...S,...g,...b&&a.props,ownerState:x,children:[b?a.props.children:a,v?re.jsx("title",{children:v}):null]})});og.muiName="SvgIcon";function bO(t,n){function e(r,a){return re.jsx(og,{"data-testid":void 0,ref:a,...r,children:t})}return e.muiName=og.muiName,L.memo(L.forwardRef(e))}function hE(t,n=166){let e;function r(...a){const o=()=>{t.apply(this,a)};clearTimeout(e),e=setTimeout(o,n)}return r.clear=()=>{clearTimeout(e)},r}function aa(t){return t&&t.ownerDocument||document}function uo(t){return aa(t).defaultView||window}function yw(t,n){typeof t=="function"?t(n):t&&(t.current=n)}function bw(t){const{controlled:n,default:e,name:r,state:a="value"}=t,{current:o}=L.useRef(n!==void 0),[u,l]=L.useState(e),c=o?n:u,d=L.useCallback(h=>{o||l(h)},[]);return[c,d]}function Fi(t){const n=L.useRef(t);return Ui(()=>{n.current=t}),L.useRef((...e)=>(0,n.current)(...e)).current}function lr(...t){const n=L.useRef(void 0),e=L.useCallback(r=>{const a=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,l=u(r);return typeof l=="function"?l:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{a.forEach(o=>o?.())}},t);return L.useMemo(()=>t.every(r=>r==null)?null:r=>{n.current&&(n.current(),n.current=void 0),r!=null&&(n.current=e(r))},t)}function xO(t,n){const e=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&e>=65&&e<=90&&typeof n=="function"}function wO(t,n){if(!t)return n;function e(u,l){const c={};return Object.keys(l).forEach(d=>{xO(d,l[d])&&typeof u[d]=="function"&&(c[d]=(...h)=>{u[d](...h),l[d](...h)})}),c}if(typeof t=="function"||typeof n=="function")return u=>{const l=typeof n=="function"?n(u):n,c=typeof t=="function"?t({...u,...l}):t,d=Qe(u?.className,l?.className,c?.className),h=e(c,l);return{...l,...c,...h,...!!d&&{className:d},...l?.style&&c?.style&&{style:{...l.style,...c.style}},...l?.sx&&c?.sx&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=n,a=e(t,r),o=Qe(r?.className,t?.className);return{...n,...t,...a,...!!o&&{className:o},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function pE(t,n){if(t==null)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;e[r]=t[r]}return e}function ig(t,n){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},ig(t,n)}function vE(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,ig(t,n)}const xw={disabled:!1},fd=Sa.createContext(null);var SO=function(n){return n.scrollTop},Rl="unmounted",Ti="exited",Ai="entering",Gs="entered",sg="exiting",Na=(function(t){vE(n,t);function n(r,a){var o;o=t.call(this,r,a)||this;var u=a,l=u&&!u.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?l?(c=Ti,o.appearStatus=Ai):c=Gs:r.unmountOnExit||r.mountOnEnter?c=Rl:c=Ti,o.state={status:c},o.nextCallback=null,o}n.getDerivedStateFromProps=function(a,o){var u=a.in;return u&&o.status===Rl?{status:Ti}:null};var e=n.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(a){var o=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==Ai&&u!==Gs&&(o=Ai):(u===Ai||u===Gs)&&(o=sg)}this.updateStatus(!1,o)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var a=this.props.timeout,o,u,l;return o=u=l=a,a!=null&&typeof a!="number"&&(o=a.exit,u=a.enter,l=a.appear!==void 0?a.appear:u),{exit:o,enter:u,appear:l}},e.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===Ai){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:kf.findDOMNode(this);u&&SO(u)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ti&&this.setState({status:Rl})},e.performEnter=function(a){var o=this,u=this.props.enter,l=this.context?this.context.isMounting:a,c=this.props.nodeRef?[l]:[kf.findDOMNode(this),l],d=c[0],h=c[1],v=this.getTimeouts(),m=l?v.appear:v.enter;if(!a&&!u||xw.disabled){this.safeSetState({status:Gs},function(){o.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:Ai},function(){o.props.onEntering(d,h),o.onTransitionEnd(m,function(){o.safeSetState({status:Gs},function(){o.props.onEntered(d,h)})})})},e.performExit=function(){var a=this,o=this.props.exit,u=this.getTimeouts(),l=this.props.nodeRef?void 0:kf.findDOMNode(this);if(!o||xw.disabled){this.safeSetState({status:Ti},function(){a.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:sg},function(){a.props.onExiting(l),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:Ti},function(){a.props.onExited(l)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},e.setNextCallback=function(a){var o=this,u=!0;return this.nextCallback=function(l){u&&(u=!1,o.nextCallback=null,a(l))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},e.onTransitionEnd=function(a,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:kf.findDOMNode(this),l=a==null&&!this.props.addEndListener;if(!u||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=c[0],h=c[1];this.props.addEndListener(d,h)}a!=null&&setTimeout(this.nextCallback,a)},e.render=function(){var a=this.state.status;if(a===Rl)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=pE(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Sa.createElement(fd.Provider,{value:null},typeof u=="function"?u(a,l):Sa.cloneElement(Sa.Children.only(u),l))},n})(Sa.Component);Na.contextType=fd;Na.propTypes={};function zs(){}Na.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zs,onEntering:zs,onEntered:zs,onExit:zs,onExiting:zs,onExited:zs};Na.UNMOUNTED=Rl;Na.EXITED=Ti;Na.ENTERING=Ai;Na.ENTERED=Gs;Na.EXITING=sg;function CO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uy(t,n){var e=function(o){return n&&L.isValidElement(o)?n(o):o},r=Object.create(null);return t&&L.Children.map(t,function(a){return a}).forEach(function(a){r[a.key]=e(a)}),r}function EO(t,n){t=t||{},n=n||{};function e(h){return h in n?n[h]:t[h]}var r=Object.create(null),a=[];for(var o in t)o in n?a.length&&(r[o]=a,a=[]):a.push(o);var u,l={};for(var c in n){if(r[c])for(u=0;u<r[c].length;u++){var d=r[c][u];l[r[c][u]]=e(d)}l[c]=e(c)}for(u=0;u<a.length;u++)l[a[u]]=e(a[u]);return l}function Oi(t,n,e){return e[n]!=null?e[n]:t.props[n]}function RO(t,n){return uy(t.children,function(e){return L.cloneElement(e,{onExited:n.bind(null,e),in:!0,appear:Oi(e,"appear",t),enter:Oi(e,"enter",t),exit:Oi(e,"exit",t)})})}function _O(t,n,e){var r=uy(t.children),a=EO(n,r);return Object.keys(a).forEach(function(o){var u=a[o];if(L.isValidElement(u)){var l=o in n,c=o in r,d=n[o],h=L.isValidElement(d)&&!d.props.in;c&&(!l||h)?a[o]=L.cloneElement(u,{onExited:e.bind(null,u),in:!0,exit:Oi(u,"exit",t),enter:Oi(u,"enter",t)}):!c&&l&&!h?a[o]=L.cloneElement(u,{in:!1}):c&&l&&L.isValidElement(d)&&(a[o]=L.cloneElement(u,{onExited:e.bind(null,u),in:d.props.in,exit:Oi(u,"exit",t),enter:Oi(u,"enter",t)}))}}),a}var TO=Object.values||function(t){return Object.keys(t).map(function(n){return t[n]})},AO={component:"div",childFactory:function(n){return n}},ly=(function(t){vE(n,t);function n(r,a){var o;o=t.call(this,r,a)||this;var u=o.handleExited.bind(CO(o));return o.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},o}var e=n.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(a,o){var u=o.children,l=o.handleExited,c=o.firstRender;return{children:c?RO(a,l):_O(a,u,l),firstRender:!1}},e.handleExited=function(a,o){var u=uy(this.props.children);a.key in u||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(l){var c=id({},l.children);return delete c[a.key],{children:c}}))},e.render=function(){var a=this.props,o=a.component,u=a.childFactory,l=pE(a,["component","childFactory"]),c=this.state.contextValue,d=TO(this.state.children).map(u);return delete l.appear,delete l.enter,delete l.exit,o===null?Sa.createElement(fd.Provider,{value:c},d):Sa.createElement(fd.Provider,{value:c},Sa.createElement(o,l,d))},n})(Sa.Component);ly.propTypes={};ly.defaultProps=AO;const ww={};function mE(t,n){const e=L.useRef(ww);return e.current===ww&&(e.current=t(n)),e}const kO=[];function DO(t){L.useEffect(t,kO)}class cy{static create(){return new cy}currentId=null;start(n,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},n)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function gE(){const t=mE(cy.create).current;return DO(t.disposeEffect),t}const yE=t=>t.scrollTop;function dd(t,n){const{timeout:e,easing:r,style:a={}}=t;return{duration:a.transitionDuration??(typeof e=="number"?e:e[n.mode]||0),easing:a.transitionTimingFunction??(typeof r=="object"?r[n.mode]:r),delay:a.transitionDelay}}function hd(t){return typeof t=="string"}function bE(t,n,e){return t===void 0||hd(t)?n:{...n,ownerState:{...n.ownerState,...e}}}function xE(t,n,e){return typeof t=="function"?t(n,e):t}function wE(t,n=[]){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!n.includes(r)).forEach(r=>{e[r]=t[r]}),e}function Sw(t){if(t===void 0)return{};const n={};return Object.keys(t).filter(e=>!(e.match(/^on[A-Z]/)&&typeof t[e]=="function")).forEach(e=>{n[e]=t[e]}),n}function SE(t){const{getSlotProps:n,additionalProps:e,externalSlotProps:r,externalForwardedProps:a,className:o}=t;if(!n){const g=Qe(e?.className,o,a?.className,r?.className),b={...e?.style,...a?.style,...r?.style},x={...e,...a,...r};return g.length>0&&(x.className=g),Object.keys(b).length>0&&(x.style=b),{props:x,internalRef:void 0}}const u=wE({...a,...r}),l=Sw(r),c=Sw(a),d=n(u),h=Qe(d?.className,e?.className,o,a?.className,r?.className),v={...d?.style,...e?.style,...a?.style,...r?.style},m={...d,...e,...c,...l};return h.length>0&&(m.className=h),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:d.ref}}function Wn(t,n){const{className:e,elementType:r,ownerState:a,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:l=!1,...c}=n,{component:d,slots:h={[t]:void 0},slotProps:v={[t]:void 0},...m}=o,g=h[t]||r,b=xE(v[t],a),{props:{component:x,...S},internalRef:C}=SE({className:e,...c,externalForwardedProps:t==="root"?m:void 0,externalSlotProps:b}),_=lr(C,b?.ref,n.ref),R=t==="root"?x||d:x,E=bE(g,{...t==="root"&&!d&&!h[t]&&u,...t!=="root"&&!h[t]&&u,...S,...R&&!l&&{as:R},...R&&l&&{component:R},ref:_},a);return[g,E]}function NO(t){return Bt("MuiPaper",t)}Nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const MO=t=>{const{square:n,elevation:e,variant:r,classes:a}=t,o={root:["root",r,!n&&"rounded",r==="elevation"&&`elevation${e}`]};return Ft(o,NO,a)},OO=Ue("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,n[e.variant],!e.square&&n.rounded,e.variant==="elevation"&&n[`elevation${e.elevation}`]]}})(nn(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:n})=>!n.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),CE=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiPaper"}),a=sy(),{className:o,component:u="div",elevation:l=1,square:c=!1,variant:d="elevation",...h}=r,v={...r,component:u,elevation:l,square:c,variant:d},m=MO(v);return re.jsx(OO,{as:u,ownerState:v,className:Qe(m.root,o),ref:e,...h,style:{...d==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[l],...a.vars&&{"--Paper-overlay":a.vars.overlays?.[l]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${cd("#fff",ag(l))}, ${cd("#fff",ag(l))})`}},...h.style}})});function Cw(t){try{return t.matches(":focus-visible")}catch{}return!1}class pd{static create(){return new pd}static use(){const n=mE(pd.create).current,[e,r]=L.useState(!1);return n.shouldMount=e,n.setShouldMount=r,L.useEffect(n.mountEffect,[e]),n}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=BO(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...n){this.mount().then(()=>this.ref.current?.start(...n))}stop(...n){this.mount().then(()=>this.ref.current?.stop(...n))}pulsate(...n){this.mount().then(()=>this.ref.current?.pulsate(...n))}}function IO(){return pd.use()}function BO(){let t,n;const e=new Promise((r,a)=>{t=r,n=a});return e.resolve=t,e.reject=n,e}function FO(t){const{className:n,classes:e,pulsate:r=!1,rippleX:a,rippleY:o,rippleSize:u,in:l,onExited:c,timeout:d}=t,[h,v]=L.useState(!1),m=Qe(n,e.ripple,e.rippleVisible,r&&e.ripplePulsate),g={width:u,height:u,top:-(u/2)+o,left:-(u/2)+a},b=Qe(e.child,h&&e.childLeaving,r&&e.childPulsate);return!l&&!h&&v(!0),L.useEffect(()=>{if(!l&&c!=null){const x=setTimeout(c,d);return()=>{clearTimeout(x)}}},[c,l,d]),re.jsx("span",{className:m,style:g,children:re.jsx("span",{className:b})})}const Ur=Nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ug=550,LO=80,PO=Zl`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,zO=Zl`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,UO=Zl`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,WO=Ue("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),HO=Ue(FO,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ur.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${PO};
    animation-duration: ${ug}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Ur.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Ur.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ur.childLeaving} {
    opacity: 0;
    animation-name: ${zO};
    animation-duration: ${ug}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Ur.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${UO};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,jO=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiTouchRipple"}),{center:a=!1,classes:o={},className:u,...l}=r,[c,d]=L.useState([]),h=L.useRef(0),v=L.useRef(null);L.useEffect(()=>{v.current&&(v.current(),v.current=null)},[c]);const m=L.useRef(!1),g=gE(),b=L.useRef(null),x=L.useRef(null),S=L.useCallback(E=>{const{pulsate:T,rippleX:D,rippleY:N,rippleSize:O,cb:I}=E;d(B=>[...B,re.jsx(HO,{classes:{ripple:Qe(o.ripple,Ur.ripple),rippleVisible:Qe(o.rippleVisible,Ur.rippleVisible),ripplePulsate:Qe(o.ripplePulsate,Ur.ripplePulsate),child:Qe(o.child,Ur.child),childLeaving:Qe(o.childLeaving,Ur.childLeaving),childPulsate:Qe(o.childPulsate,Ur.childPulsate)},timeout:ug,pulsate:T,rippleX:D,rippleY:N,rippleSize:O},h.current)]),h.current+=1,v.current=I},[o]),C=L.useCallback((E={},T={},D=()=>{})=>{const{pulsate:N=!1,center:O=a||T.pulsate,fakeElement:I=!1}=T;if(E?.type==="mousedown"&&m.current){m.current=!1;return}E?.type==="touchstart"&&(m.current=!0);const B=I?null:x.current,H=B?B.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,q,j;if(O||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)A=Math.round(H.width/2),q=Math.round(H.height/2);else{const{clientX:V,clientY:P}=E.touches&&E.touches.length>0?E.touches[0]:E;A=Math.round(V-H.left),q=Math.round(P-H.top)}if(O)j=Math.sqrt((2*H.width**2+H.height**2)/3),j%2===0&&(j+=1);else{const V=Math.max(Math.abs((B?B.clientWidth:0)-A),A)*2+2,P=Math.max(Math.abs((B?B.clientHeight:0)-q),q)*2+2;j=Math.sqrt(V**2+P**2)}E?.touches?b.current===null&&(b.current=()=>{S({pulsate:N,rippleX:A,rippleY:q,rippleSize:j,cb:D})},g.start(LO,()=>{b.current&&(b.current(),b.current=null)})):S({pulsate:N,rippleX:A,rippleY:q,rippleSize:j,cb:D})},[a,S,g]),_=L.useCallback(()=>{C({},{pulsate:!0})},[C]),R=L.useCallback((E,T)=>{if(g.clear(),E?.type==="touchend"&&b.current){b.current(),b.current=null,g.start(0,()=>{R(E,T)});return}b.current=null,d(D=>D.length>0?D.slice(1):D),v.current=T},[g]);return L.useImperativeHandle(e,()=>({pulsate:_,start:C,stop:R}),[_,C,R]),re.jsx(WO,{className:Qe(Ur.root,o.root,u),ref:x,...l,children:re.jsx(ly,{component:null,exit:!0,children:c})})});function VO(t){return Bt("MuiButtonBase",t)}const GO=Nt("MuiButtonBase",["root","disabled","focusVisible"]),qO=t=>{const{disabled:n,focusVisible:e,focusVisibleClassName:r,classes:a}=t,u=Ft({root:["root",n&&"disabled",e&&"focusVisible"]},VO,a);return e&&r&&(u.root+=` ${r}`),u},$O=Ue("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${GO.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),KO=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiButtonBase"}),{action:a,centerRipple:o=!1,children:u,className:l,component:c="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:v=!1,focusRipple:m=!1,focusVisibleClassName:g,LinkComponent:b="a",onBlur:x,onClick:S,onContextMenu:C,onDragLeave:_,onFocus:R,onFocusVisible:E,onKeyDown:T,onKeyUp:D,onMouseDown:N,onMouseLeave:O,onMouseUp:I,onTouchEnd:B,onTouchMove:H,onTouchStart:A,tabIndex:q=0,TouchRippleProps:j,touchRippleRef:V,type:P,...$}=r,Q=L.useRef(null),U=IO(),G=lr(U.ref,V),[M,K]=L.useState(!1);d&&M&&K(!1),L.useImperativeHandle(a,()=>({focusVisible:()=>{K(!0),Q.current.focus()}}),[]);const Z=U.shouldMount&&!h&&!d;L.useEffect(()=>{M&&m&&!h&&U.pulsate()},[h,m,M,U]);const ie=eo(U,"start",N,v),pe=eo(U,"stop",C,v),ge=eo(U,"stop",_,v),xe=eo(U,"stop",I,v),Ce=eo(U,"stop",Le=>{M&&Le.preventDefault(),O&&O(Le)},v),he=eo(U,"start",A,v),be=eo(U,"stop",B,v),we=eo(U,"stop",H,v),Re=eo(U,"stop",Le=>{Cw(Le.target)||K(!1),x&&x(Le)},!1),Me=Fi(Le=>{Q.current||(Q.current=Le.currentTarget),Cw(Le.target)&&(K(!0),E&&E(Le)),R&&R(Le)}),Se=()=>{const Le=Q.current;return c&&c!=="button"&&!(Le.tagName==="A"&&Le.href)},Fe=Fi(Le=>{m&&!Le.repeat&&M&&Le.key===" "&&U.stop(Le,()=>{U.start(Le)}),Le.target===Le.currentTarget&&Se()&&Le.key===" "&&Le.preventDefault(),T&&T(Le),Le.target===Le.currentTarget&&Se()&&Le.key==="Enter"&&!d&&(Le.preventDefault(),S&&S(Le))}),He=Fi(Le=>{m&&Le.key===" "&&M&&!Le.defaultPrevented&&U.stop(Le,()=>{U.pulsate(Le)}),D&&D(Le),S&&Le.target===Le.currentTarget&&Se()&&Le.key===" "&&!Le.defaultPrevented&&S(Le)});let vt=c;vt==="button"&&($.href||$.to)&&(vt=b);const ut={};if(vt==="button"){const Le=!!$.formAction;ut.type=P===void 0&&!Le?"button":P,ut.disabled=d}else!$.href&&!$.to&&(ut.role="button"),d&&(ut["aria-disabled"]=d);const yt=lr(e,Q),Vt={...r,centerRipple:o,component:c,disabled:d,disableRipple:h,disableTouchRipple:v,focusRipple:m,tabIndex:q,focusVisible:M},st=qO(Vt);return re.jsxs($O,{as:vt,className:Qe(st.root,l),ownerState:Vt,onBlur:Re,onClick:S,onContextMenu:pe,onFocus:Me,onKeyDown:Fe,onKeyUp:He,onMouseDown:ie,onMouseLeave:Ce,onMouseUp:xe,onDragLeave:ge,onTouchEnd:be,onTouchMove:we,onTouchStart:he,ref:yt,tabIndex:d?-1:q,type:P,...ut,...$,children:[u,Z?re.jsx(jO,{ref:G,center:o,...j}):null]})});function eo(t,n,e,r=!1){return Fi(a=>(e&&e(a),r||t[n](a),!0))}function XO(t){return typeof t.main=="string"}function YO(t,n=[]){if(!XO(t))return!1;for(const e of n)if(!t.hasOwnProperty(e)||typeof t[e]!="string")return!1;return!0}function Vi(t=[]){return([,n])=>n&&YO(n,t)}function QO(t){return Bt("MuiCircularProgress",t)}Nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ea=44,lg=Zl`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,cg=Zl`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,ZO=typeof lg!="string"?Yg`
        animation: ${lg} 1.4s linear infinite;
      `:null,JO=typeof cg!="string"?Yg`
        animation: ${cg} 1.4s ease-in-out infinite;
      `:null,e4=t=>{const{classes:n,variant:e,color:r,disableShrink:a}=t,o={root:["root",e,`color${Ze(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Ze(e)}`,a&&"circleDisableShrink"]};return Ft(o,QO,n)},t4=Ue("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,n[e.variant],n[`color${Ze(e.color)}`]]}})(nn(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:ZO||{animation:`${lg} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Vi()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}}))]}))),n4=Ue("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),r4=Ue("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.circle,n[`circle${Ze(e.variant)}`],e.disableShrink&&n.circleDisableShrink]}})(nn(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:n})=>n.variant==="indeterminate"&&!n.disableShrink,style:JO||{animation:`${cg} 1.4s ease-in-out infinite`}}]}))),a4=Ue("circle",{name:"MuiCircularProgress",slot:"Track"})(nn(({theme:t})=>({stroke:"currentColor",opacity:(t.vars||t).palette.action.activatedOpacity}))),EE=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:u=!1,enableTrackSlot:l=!1,size:c=40,style:d,thickness:h=3.6,value:v=0,variant:m="indeterminate",...g}=r,b={...r,color:o,disableShrink:u,size:c,thickness:h,value:v,variant:m,enableTrackSlot:l},x=e4(b),S={},C={},_={};if(m==="determinate"){const R=2*Math.PI*((ea-h)/2);S.strokeDasharray=R.toFixed(3),_["aria-valuenow"]=Math.round(v),S.strokeDashoffset=`${((100-v)/100*R).toFixed(3)}px`,C.transform="rotate(-90deg)"}return re.jsx(t4,{className:Qe(x.root,a),style:{width:c,height:c,...C,...d},ownerState:b,ref:e,role:"progressbar",..._,...g,children:re.jsxs(n4,{className:x.svg,ownerState:b,viewBox:`${ea/2} ${ea/2} ${ea} ${ea}`,children:[l?re.jsx(a4,{className:x.track,ownerState:b,cx:ea,cy:ea,r:(ea-h)/2,fill:"none",strokeWidth:h,"aria-hidden":"true"}):null,re.jsx(r4,{className:x.circle,style:S,ownerState:b,cx:ea,cy:ea,r:(ea-h)/2,fill:"none",strokeWidth:h})]})})});function o4(t){return Bt("MuiTypography",t)}Nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const i4={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},s4=vO(),u4=t=>{const{align:n,gutterBottom:e,noWrap:r,paragraph:a,variant:o,classes:u}=t,l={root:["root",o,t.align!=="inherit"&&`align${Ze(n)}`,e&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return Ft(l,o4,u)},l4=Ue("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,e.variant&&n[e.variant],e.align!=="inherit"&&n[`align${Ze(e.align)}`],e.noWrap&&n.noWrap,e.gutterBottom&&n.gutterBottom,e.paragraph&&n.paragraph]}})(nn(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,e])=>n!=="inherit"&&e&&typeof e=="object").map(([n,e])=>({props:{variant:n},style:e})),...Object.entries(t.palette).filter(Vi()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(t.palette?.text||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Ze(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}))),Ew={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Rw=L.forwardRef(function(n,e){const{color:r,...a}=zt({props:n,name:"MuiTypography"}),o=!i4[r],u=s4({...a,...o&&{color:r}}),{align:l="inherit",className:c,component:d,gutterBottom:h=!1,noWrap:v=!1,paragraph:m=!1,variant:g="body1",variantMapping:b=Ew,...x}=u,S={...u,align:l,color:r,className:c,component:d,gutterBottom:h,noWrap:v,paragraph:m,variant:g,variantMapping:b},C=d||(m?"p":b[g]||Ew[g])||"span",_=u4(S);return re.jsx(l4,{as:C,ref:e,className:Qe(_.root,c),...x,ownerState:S,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...x.style}})});function c4(t){const{elementType:n,externalSlotProps:e,ownerState:r,skipResolvingSlotProps:a=!1,...o}=t,u=a?{}:xE(e,r),{props:l,internalRef:c}=SE({...o,externalSlotProps:u}),d=lr(c,u?.ref,t.additionalProps?.ref);return bE(n,{...l,ref:d},r)}function nc(t){return parseInt(L.version,10)>=19?t?.props?.ref||null:t?.ref||null}function f4(t){return typeof t=="function"?t():t}const d4=L.forwardRef(function(n,e){const{children:r,container:a,disablePortal:o=!1}=n,[u,l]=L.useState(null),c=lr(L.isValidElement(r)?nc(r):null,e);if(Ui(()=>{o||l(f4(a)||document.body)},[a,o]),Ui(()=>{if(u&&!o)return yw(e,u),()=>{yw(e,null)}},[e,u,o]),o){if(L.isValidElement(r)){const d={ref:c};return L.cloneElement(r,d)}return r}return u&&IC.createPortal(r,u)});function Mf(t){return parseInt(t,10)||0}const h4={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function p4(t){for(const n in t)return!1;return!0}function _w(t){return p4(t)||t.outerHeightStyle===0&&!t.overflowing}const v4=L.forwardRef(function(n,e){const{onChange:r,maxRows:a,minRows:o=1,style:u,value:l,...c}=n,{current:d}=L.useRef(l!=null),h=L.useRef(null),v=lr(e,h),m=L.useRef(null),g=L.useRef(null),b=L.useCallback(()=>{const R=h.current,E=g.current;if(!R||!E)return;const D=uo(R).getComputedStyle(R);if(D.width==="0px")return{outerHeightStyle:0,overflowing:!1};E.style.width=D.width,E.value=R.value||n.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const N=D.boxSizing,O=Mf(D.paddingBottom)+Mf(D.paddingTop),I=Mf(D.borderBottomWidth)+Mf(D.borderTopWidth),B=E.scrollHeight;E.value="x";const H=E.scrollHeight;let A=B;o&&(A=Math.max(Number(o)*H,A)),a&&(A=Math.min(Number(a)*H,A)),A=Math.max(A,H);const q=A+(N==="border-box"?O+I:0),j=Math.abs(A-B)<=1;return{outerHeightStyle:q,overflowing:j}},[a,o,n.placeholder]),x=Fi(()=>{const R=h.current,E=b();if(!R||!E||_w(E))return!1;const T=E.outerHeightStyle;return m.current!=null&&m.current!==T}),S=L.useCallback(()=>{const R=h.current,E=b();if(!R||!E||_w(E))return;const T=E.outerHeightStyle;m.current!==T&&(m.current=T,R.style.height=`${T}px`),R.style.overflow=E.overflowing?"hidden":""},[b]),C=L.useRef(-1);Ui(()=>{const R=hE(S),E=h?.current;if(!E)return;const T=uo(E);T.addEventListener("resize",R);let D;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(()=>{x()&&(D.unobserve(E),cancelAnimationFrame(C.current),S(),C.current=requestAnimationFrame(()=>{D.observe(E)}))}),D.observe(E)),()=>{R.clear(),cancelAnimationFrame(C.current),T.removeEventListener("resize",R),D&&D.disconnect()}},[b,S,x]),Ui(()=>{S()});const _=R=>{d||S();const E=R.target,T=E.value.length,D=E.value.endsWith(`
`),N=E.selectionStart===T;D&&N&&E.setSelectionRange(T,T),r&&r(R)};return re.jsxs(L.Fragment,{children:[re.jsx("textarea",{value:l,onChange:_,ref:v,rows:o,style:u,...c}),re.jsx("textarea",{"aria-hidden":!0,className:n.className,readOnly:!0,ref:g,tabIndex:-1,style:{...h4.shadow,...u,paddingTop:0,paddingBottom:0}})]})});function pu({props:t,states:n,muiFormControl:e}){return n.reduce((r,a)=>(r[a]=t[a],e&&typeof t[a]>"u"&&(r[a]=e[a]),r),{})}const fy=L.createContext(void 0);function vu(){return L.useContext(fy)}function Tw(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function vd(t,n=!1){return t&&(Tw(t.value)&&t.value!==""||n&&Tw(t.defaultValue)&&t.defaultValue!=="")}function m4(t){return t.startAdornment}function g4(t){return Bt("MuiInputBase",t)}const iu=Nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Aw;const th=(t,n)=>{const{ownerState:e}=t;return[n.root,e.formControl&&n.formControl,e.startAdornment&&n.adornedStart,e.endAdornment&&n.adornedEnd,e.error&&n.error,e.size==="small"&&n.sizeSmall,e.multiline&&n.multiline,e.color&&n[`color${Ze(e.color)}`],e.fullWidth&&n.fullWidth,e.hiddenLabel&&n.hiddenLabel]},nh=(t,n)=>{const{ownerState:e}=t;return[n.input,e.size==="small"&&n.inputSizeSmall,e.multiline&&n.inputMultiline,e.type==="search"&&n.inputTypeSearch,e.startAdornment&&n.inputAdornedStart,e.endAdornment&&n.inputAdornedEnd,e.hiddenLabel&&n.inputHiddenLabel]},y4=t=>{const{classes:n,color:e,disabled:r,error:a,endAdornment:o,focused:u,formControl:l,fullWidth:c,hiddenLabel:d,multiline:h,readOnly:v,size:m,startAdornment:g,type:b}=t,x={root:["root",`color${Ze(e)}`,r&&"disabled",a&&"error",c&&"fullWidth",u&&"focused",l&&"formControl",m&&m!=="medium"&&`size${Ze(m)}`,h&&"multiline",g&&"adornedStart",o&&"adornedEnd",d&&"hiddenLabel",v&&"readOnly"],input:["input",r&&"disabled",b==="search"&&"inputTypeSearch",h&&"inputMultiline",m==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",g&&"inputAdornedStart",o&&"inputAdornedEnd",v&&"readOnly"]};return Ft(x,g4,n)},rh=Ue("div",{name:"MuiInputBase",slot:"Root",overridesResolver:th})(nn(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${iu.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:n})=>n.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:n,size:e})=>n.multiline&&e==="small",style:{paddingTop:1}},{props:({ownerState:n})=>n.fullWidth,style:{width:"100%"}}]}))),ah=Ue("input",{name:"MuiInputBase",slot:"Input",overridesResolver:nh})(nn(({theme:t})=>{const n=t.palette.mode==="light",e={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":e,"&::-moz-placeholder":e,"&::-ms-input-placeholder":e,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${iu.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${iu.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),kw=pO({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),dy=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:o,autoFocus:u,className:l,color:c,components:d={},componentsProps:h={},defaultValue:v,disabled:m,disableInjectingGlobalStyles:g,endAdornment:b,error:x,fullWidth:S=!1,id:C,inputComponent:_="input",inputProps:R={},inputRef:E,margin:T,maxRows:D,minRows:N,multiline:O=!1,name:I,onBlur:B,onChange:H,onClick:A,onFocus:q,onKeyDown:j,onKeyUp:V,placeholder:P,readOnly:$,renderSuffix:Q,rows:U,size:G,slotProps:M={},slots:K={},startAdornment:Z,type:ie="text",value:pe,...ge}=r,xe=R.value!=null?R.value:pe,{current:Ce}=L.useRef(xe!=null),he=L.useRef(),be=L.useCallback(Tt=>{},[]),we=lr(he,E,R.ref,be),[Re,Me]=L.useState(!1),Se=vu(),Fe=pu({props:r,muiFormControl:Se,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Fe.focused=Se?Se.focused:Re,L.useEffect(()=>{!Se&&m&&Re&&(Me(!1),B&&B())},[Se,m,Re,B]);const He=Se&&Se.onFilled,vt=Se&&Se.onEmpty,ut=L.useCallback(Tt=>{vd(Tt)?He&&He():vt&&vt()},[He,vt]);Ui(()=>{Ce&&ut({value:xe})},[xe,ut,Ce]);const yt=Tt=>{q&&q(Tt),R.onFocus&&R.onFocus(Tt),Se&&Se.onFocus?Se.onFocus(Tt):Me(!0)},Vt=Tt=>{B&&B(Tt),R.onBlur&&R.onBlur(Tt),Se&&Se.onBlur?Se.onBlur(Tt):Me(!1)},st=(Tt,...dr)=>{if(!Ce){const Fn=Tt.target||he.current;if(Fn==null)throw new Error(io(1));ut({value:Fn.value})}R.onChange&&R.onChange(Tt,...dr),H&&H(Tt,...dr)};L.useEffect(()=>{ut(he.current)},[]);const Le=Tt=>{he.current&&Tt.currentTarget===Tt.target&&he.current.focus(),A&&A(Tt)};let fn=_,Ye=R;O&&fn==="input"&&(U?Ye={type:void 0,minRows:U,maxRows:U,...Ye}:Ye={type:void 0,maxRows:D,minRows:N,...Ye},fn=v4);const Bn=Tt=>{ut(Tt.animationName==="mui-auto-fill-cancel"?he.current:{value:"x"})};L.useEffect(()=>{Se&&Se.setAdornedStart(!!Z)},[Se,Z]);const Kn={...r,color:Fe.color||"primary",disabled:Fe.disabled,endAdornment:b,error:Fe.error,focused:Fe.focused,formControl:Se,fullWidth:S,hiddenLabel:Fe.hiddenLabel,multiline:O,size:Fe.size,startAdornment:Z,type:ie},Rn=y4(Kn),rn=K.root||d.Root||rh,kr=M.root||h.root||{},Xr=K.input||d.Input||ah;return Ye={...Ye,...M.input??h.input},re.jsxs(L.Fragment,{children:[!g&&typeof kw=="function"&&(Aw||(Aw=re.jsx(kw,{}))),re.jsxs(rn,{...kr,ref:e,onClick:Le,...ge,...!hd(rn)&&{ownerState:{...Kn,...kr.ownerState}},className:Qe(Rn.root,kr.className,l,$&&"MuiInputBase-readOnly"),children:[Z,re.jsx(fy.Provider,{value:null,children:re.jsx(Xr,{"aria-invalid":Fe.error,"aria-describedby":a,autoComplete:o,autoFocus:u,defaultValue:v,disabled:Fe.disabled,id:C,onAnimationStart:Bn,name:I,placeholder:P,readOnly:$,required:Fe.required,rows:U,value:xe,onKeyDown:j,onKeyUp:V,type:ie,...Ye,...!hd(Xr)&&{as:fn,ownerState:{...Kn,...Ye.ownerState}},ref:we,className:Qe(Rn.input,Ye.className,$&&"MuiInputBase-readOnly"),onBlur:Vt,onChange:st,onFocus:yt})}),b,Q?Q({...Fe,startAdornment:Z}):null]})]})});function b4(t){return Bt("MuiInput",t)}const pl={...iu,...Nt("MuiInput",["root","underline","input"])};function x4(t){return Bt("MuiOutlinedInput",t)}const ha={...iu,...Nt("MuiOutlinedInput",["root","notchedOutline","input"])};function w4(t){return Bt("MuiFilledInput",t)}const Si={...iu,...Nt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},S4=bO(re.jsx("path",{d:"M7 10l5 5 5-5z"})),C4={entering:{opacity:1},entered:{opacity:1}},E4=L.forwardRef(function(n,e){const r=sy(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:u=!0,children:l,easing:c,in:d,onEnter:h,onEntered:v,onEntering:m,onExit:g,onExited:b,onExiting:x,style:S,timeout:C=a,TransitionComponent:_=Na,...R}=n,E=L.useRef(null),T=lr(E,nc(l),e),D=j=>V=>{if(j){const P=E.current;V===void 0?j(P):j(P,V)}},N=D(m),O=D((j,V)=>{yE(j);const P=dd({style:S,timeout:C,easing:c},{mode:"enter"});j.style.webkitTransition=r.transitions.create("opacity",P),j.style.transition=r.transitions.create("opacity",P),h&&h(j,V)}),I=D(v),B=D(x),H=D(j=>{const V=dd({style:S,timeout:C,easing:c},{mode:"exit"});j.style.webkitTransition=r.transitions.create("opacity",V),j.style.transition=r.transitions.create("opacity",V),g&&g(j)}),A=D(b),q=j=>{o&&o(E.current,j)};return re.jsx(_,{appear:u,in:d,nodeRef:E,onEnter:O,onEntered:I,onEntering:N,onExit:H,onExited:A,onExiting:B,addEndListener:q,timeout:C,...R,children:(j,{ownerState:V,...P})=>L.cloneElement(l,{style:{opacity:0,visibility:j==="exited"&&!d?"hidden":void 0,...C4[j],...S,...l.props.style},ref:T,...P})})});function R4(t){return Bt("MuiBackdrop",t)}Nt("MuiBackdrop",["root","invisible"]);const _4=t=>{const{classes:n,invisible:e}=t;return Ft({root:["root",e&&"invisible"]},R4,n)},T4=Ue("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,e.invisible&&n.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),A4=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiBackdrop"}),{children:a,className:o,component:u="div",invisible:l=!1,open:c,components:d={},componentsProps:h={},slotProps:v={},slots:m={},TransitionComponent:g,transitionDuration:b,...x}=r,S={...r,component:u,invisible:l},C=_4(S),_={transition:g,root:d.Root,...m},R={...h,...v},E={component:u,slots:_,slotProps:R},[T,D]=Wn("root",{elementType:T4,externalForwardedProps:E,className:Qe(C.root,o),ownerState:S}),[N,O]=Wn("transition",{elementType:E4,externalForwardedProps:E,ownerState:S});return re.jsx(N,{in:c,timeout:b,...x,...O,children:re.jsx(T,{"aria-hidden":!0,...D,ref:e,children:a})})}),k4=Nt("MuiBox",["root"]),D4=fE(),Qv=sM({themeId:Ud,defaultTheme:D4,defaultClassName:k4.root,generateClassName:eE.generate});function N4(t){return Bt("MuiButton",t)}const Ci=Nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),M4=L.createContext({}),O4=L.createContext(void 0),I4=t=>{const{color:n,disableElevation:e,fullWidth:r,size:a,variant:o,loading:u,loadingPosition:l,classes:c}=t,d={root:["root",u&&"loading",o,`${o}${Ze(n)}`,`size${Ze(a)}`,`${o}Size${Ze(a)}`,`color${Ze(n)}`,e&&"disableElevation",r&&"fullWidth",u&&`loadingPosition${Ze(l)}`],startIcon:["icon","startIcon",`iconSize${Ze(a)}`],endIcon:["icon","endIcon",`iconSize${Ze(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Ft(d,N4,c);return{...c,...h}},RE=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],B4=Ue(KO,{shouldForwardProp:t=>oa(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,n[e.variant],n[`${e.variant}${Ze(e.color)}`],n[`size${Ze(e.size)}`],n[`${e.variant}Size${Ze(e.size)}`],e.color==="inherit"&&n.colorInherit,e.disableElevation&&n.disableElevation,e.fullWidth&&n.fullWidth,e.loading&&n.loading]}})(nn(({theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],e=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ci.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Ci.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Ci.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ci.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Vi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[r].main,(t.vars||t).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:e,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ci.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ci.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Ci.loading}`]:{color:"transparent"}}}]}})),F4=Ue("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.startIcon,e.loading&&n.startIconLoadingStart,n[`iconSize${Ze(e.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...RE]})),L4=Ue("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.endIcon,e.loading&&n.endIconLoadingEnd,n[`iconSize${Ze(e.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...RE]})),P4=Ue("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Dw=Ue("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Nw=L.forwardRef(function(n,e){const r=L.useContext(M4),a=L.useContext(O4),o=ld(r,n),u=zt({props:o,name:"MuiButton"}),{children:l,color:c="primary",component:d="button",className:h,disabled:v=!1,disableElevation:m=!1,disableFocusRipple:g=!1,endIcon:b,focusVisibleClassName:x,fullWidth:S=!1,id:C,loading:_=null,loadingIndicator:R,loadingPosition:E="center",size:T="medium",startIcon:D,type:N,variant:O="text",...I}=u,B=ay(C),H=R??re.jsx(EE,{"aria-labelledby":B,color:"inherit",size:16}),A={...u,color:c,component:d,disabled:v,disableElevation:m,disableFocusRipple:g,fullWidth:S,loading:_,loadingIndicator:H,loadingPosition:E,size:T,type:N,variant:O},q=I4(A),j=(D||_&&E==="start")&&re.jsx(F4,{className:q.startIcon,ownerState:A,children:D||re.jsx(Dw,{className:q.loadingIconPlaceholder,ownerState:A})}),V=(b||_&&E==="end")&&re.jsx(L4,{className:q.endIcon,ownerState:A,children:b||re.jsx(Dw,{className:q.loadingIconPlaceholder,ownerState:A})}),P=a||"",$=typeof _=="boolean"?re.jsx("span",{className:q.loadingWrapper,style:{display:"contents"},children:_&&re.jsx(P4,{className:q.loadingIndicator,ownerState:A,children:H})}):null;return re.jsxs(B4,{ownerState:A,className:Qe(r.className,q.root,h,P),component:d,disabled:v||_,focusRipple:!g,focusVisibleClassName:Qe(q.focusVisible,x),ref:e,type:N,id:_?B:C,...I,classes:q,children:[j,E!=="end"&&$,l,E==="end"&&$,V]})});function z4(t){return Bt("MuiCard",t)}Nt("MuiCard",["root"]);const U4=t=>{const{classes:n}=t;return Ft({root:["root"]},z4,n)},W4=Ue(CE,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),H4=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiCard"}),{className:a,raised:o=!1,...u}=r,l={...r,raised:o},c=U4(l);return re.jsx(W4,{className:Qe(c.root,a),elevation:o?8:void 0,ref:e,ownerState:l,...u})});function j4(t){return Bt("MuiCardContent",t)}Nt("MuiCardContent",["root"]);const V4=t=>{const{classes:n}=t;return Ft({root:["root"]},j4,n)},G4=Ue("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),q4=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiCardContent"}),{className:a,component:o="div",...u}=r,l={...r,component:o},c=V4(l);return re.jsx(G4,{as:o,className:Qe(c.root,a),ownerState:l,ref:e,...u})});function _E(t=window){const n=t.document.documentElement.clientWidth;return t.innerWidth-n}function $4(t){const n=aa(t);return n.body===t?uo(t).innerWidth>n.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Al(t,n){n?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Mw(t){return parseFloat(uo(t).getComputedStyle(t).paddingRight)||0}function K4(t){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return e||r}function Ow(t,n,e,r,a){const o=[n,e,...r];[].forEach.call(t.children,u=>{const l=!o.includes(u),c=!K4(u);l&&c&&Al(u,a)})}function Zv(t,n){let e=-1;return t.some((r,a)=>n(r)?(e=a,!0):!1),e}function X4(t,n){const e=[],r=t.container;if(!n.disableScrollLock){if($4(r)){const u=_E(uo(r));e.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Mw(r)+u}px`;const l=aa(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{e.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Mw(c)+u}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=aa(r).body;else{const u=r.parentElement,l=uo(r);o=u?.nodeName==="HTML"&&l.getComputedStyle(u).overflowY==="scroll"?u:r}e.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{e.forEach(({value:o,el:u,property:l})=>{o?u.style.setProperty(l,o):u.style.removeProperty(l)})}}function Y4(t){const n=[];return[].forEach.call(t.children,e=>{e.getAttribute("aria-hidden")==="true"&&n.push(e)}),n}class Q4{constructor(){this.modals=[],this.containers=[]}add(n,e){let r=this.modals.indexOf(n);if(r!==-1)return r;r=this.modals.length,this.modals.push(n),n.modalRef&&Al(n.modalRef,!1);const a=Y4(e);Ow(e,n.mount,n.modalRef,a,!0);const o=Zv(this.containers,u=>u.container===e);return o!==-1?(this.containers[o].modals.push(n),r):(this.containers.push({modals:[n],container:e,restore:null,hiddenSiblings:a}),r)}mount(n,e){const r=Zv(this.containers,o=>o.modals.includes(n)),a=this.containers[r];a.restore||(a.restore=X4(a,e))}remove(n,e=!0){const r=this.modals.indexOf(n);if(r===-1)return r;const a=Zv(this.containers,u=>u.modals.includes(n)),o=this.containers[a];if(o.modals.splice(o.modals.indexOf(n),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),n.modalRef&&Al(n.modalRef,e),Ow(o.container,n.mount,n.modalRef,o.hiddenSiblings,!1),this.containers.splice(a,1);else{const u=o.modals[o.modals.length-1];u.modalRef&&Al(u.modalRef,!1)}return r}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}function _l(t){let n=t.activeElement;for(;n?.shadowRoot?.activeElement!=null;)n=n.shadowRoot.activeElement;return n}const Z4=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function J4(t){const n=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(n)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:n}function eI(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const n=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let e=n(`[name="${t.name}"]:checked`);return e||(e=n(`[name="${t.name}"]`)),e!==t}function tI(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||eI(t))}function nI(t){const n=[],e=[];return Array.from(t.querySelectorAll(Z4)).forEach((r,a)=>{const o=J4(r);o===-1||!tI(r)||(o===0?n.push(r):e.push({documentOrder:a,tabIndex:o,node:r}))}),e.sort((r,a)=>r.tabIndex===a.tabIndex?r.documentOrder-a.documentOrder:r.tabIndex-a.tabIndex).map(r=>r.node).concat(n)}function rI(){return!0}function aI(t){const{children:n,disableAutoFocus:e=!1,disableEnforceFocus:r=!1,disableRestoreFocus:a=!1,getTabbable:o=nI,isEnabled:u=rI,open:l}=t,c=L.useRef(!1),d=L.useRef(null),h=L.useRef(null),v=L.useRef(null),m=L.useRef(null),g=L.useRef(!1),b=L.useRef(null),x=lr(nc(n),b),S=L.useRef(null);L.useEffect(()=>{!l||!b.current||(g.current=!e)},[e,l]),L.useEffect(()=>{if(!l||!b.current)return;const R=aa(b.current),E=_l(R);return b.current.contains(E)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),g.current&&b.current.focus()),()=>{a||(v.current&&v.current.focus&&(c.current=!0,v.current.focus()),v.current=null)}},[l]),L.useEffect(()=>{if(!l||!b.current)return;const R=aa(b.current),E=N=>{if(S.current=N,r||!u()||N.key!=="Tab")return;_l(R)===b.current&&N.shiftKey&&(c.current=!0,h.current&&h.current.focus())},T=()=>{const N=b.current;if(N===null)return;const O=_l(R);if(!R.hasFocus()||!u()||c.current){c.current=!1;return}if(N.contains(O)||r&&O!==d.current&&O!==h.current)return;if(O!==m.current)m.current=null;else if(m.current!==null)return;if(!g.current)return;let I=[];if((O===d.current||O===h.current)&&(I=o(b.current)),I.length>0){const B=!!(S.current?.shiftKey&&S.current?.key==="Tab"),H=I[0],A=I[I.length-1];typeof H!="string"&&typeof A!="string"&&(B?A.focus():H.focus())}else N.focus()};R.addEventListener("focusin",T),R.addEventListener("keydown",E,!0);const D=setInterval(()=>{const N=_l(R);N&&N.tagName==="BODY"&&T()},50);return()=>{clearInterval(D),R.removeEventListener("focusin",T),R.removeEventListener("keydown",E,!0)}},[e,r,a,u,l,o]);const C=R=>{v.current===null&&(v.current=R.relatedTarget),g.current=!0,m.current=R.target;const E=n.props.onFocus;E&&E(R)},_=R=>{v.current===null&&(v.current=R.relatedTarget),g.current=!0};return re.jsxs(L.Fragment,{children:[re.jsx("div",{tabIndex:l?0:-1,onFocus:_,ref:d,"data-testid":"sentinelStart"}),L.cloneElement(n,{ref:x,onFocus:C}),re.jsx("div",{tabIndex:l?0:-1,onFocus:_,ref:h,"data-testid":"sentinelEnd"})]})}function oI(t){return typeof t=="function"?t():t}function iI(t){return t?t.props.hasOwnProperty("in"):!1}const Iw=()=>{},Of=new Q4;function sI(t){const{container:n,disableEscapeKeyDown:e=!1,disableScrollLock:r=!1,closeAfterTransition:a=!1,onTransitionEnter:o,onTransitionExited:u,children:l,onClose:c,open:d,rootRef:h}=t,v=L.useRef({}),m=L.useRef(null),g=L.useRef(null),b=lr(g,h),[x,S]=L.useState(!d),C=iI(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const R=()=>aa(m.current),E=()=>(v.current.modalRef=g.current,v.current.mount=m.current,v.current),T=()=>{Of.mount(E(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},D=Fi(()=>{const V=oI(n)||R().body;Of.add(E(),V),g.current&&T()}),N=()=>Of.isTopModal(E()),O=Fi(V=>{m.current=V,V&&(d&&N()?T():g.current&&Al(g.current,_))}),I=L.useCallback(()=>{Of.remove(E(),_)},[_]);L.useEffect(()=>()=>{I()},[I]),L.useEffect(()=>{d?D():(!C||!a)&&I()},[d,I,C,a,D]);const B=V=>P=>{V.onKeyDown?.(P),!(P.key!=="Escape"||P.which===229||!N())&&(e||(P.stopPropagation(),c&&c(P,"escapeKeyDown")))},H=V=>P=>{V.onClick?.(P),P.target===P.currentTarget&&c&&c(P,"backdropClick")};return{getRootProps:(V={})=>{const P=wE(t);delete P.onTransitionEnter,delete P.onTransitionExited;const $={...P,...V};return{role:"presentation",...$,onKeyDown:B($),ref:b}},getBackdropProps:(V={})=>{const P=V;return{"aria-hidden":!0,...P,onClick:H(P),open:d}},getTransitionProps:()=>{const V=()=>{S(!1),o&&o()},P=()=>{S(!0),u&&u(),a&&I()};return{onEnter:gw(V,l?.props.onEnter??Iw),onExited:gw(P,l?.props.onExited??Iw)}},rootRef:b,portalRef:O,isTopModal:N,exited:x,hasTransition:C}}function uI(t){return Bt("MuiModal",t)}Nt("MuiModal",["root","hidden","backdrop"]);const lI=t=>{const{open:n,exited:e,classes:r}=t;return Ft({root:["root",!n&&e&&"hidden"],backdrop:["backdrop"]},uI,r)},cI=Ue("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,!e.open&&e.exited&&n.hidden]}})(nn(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:n})=>!n.open&&n.exited,style:{visibility:"hidden"}}]}))),fI=Ue(A4,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),dI=L.forwardRef(function(n,e){const r=zt({name:"MuiModal",props:n}),{BackdropComponent:a=fI,BackdropProps:o,classes:u,className:l,closeAfterTransition:c=!1,children:d,container:h,component:v,components:m={},componentsProps:g={},disableAutoFocus:b=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:S=!1,disablePortal:C=!1,disableRestoreFocus:_=!1,disableScrollLock:R=!1,hideBackdrop:E=!1,keepMounted:T=!1,onClose:D,onTransitionEnter:N,onTransitionExited:O,open:I,slotProps:B={},slots:H={},theme:A,...q}=r,j={...r,closeAfterTransition:c,disableAutoFocus:b,disableEnforceFocus:x,disableEscapeKeyDown:S,disablePortal:C,disableRestoreFocus:_,disableScrollLock:R,hideBackdrop:E,keepMounted:T},{getRootProps:V,getBackdropProps:P,getTransitionProps:$,portalRef:Q,isTopModal:U,exited:G,hasTransition:M}=sI({...j,rootRef:e}),K={...j,exited:G},Z=lI(K),ie={};if(d.props.tabIndex===void 0&&(ie.tabIndex="-1"),M){const{onEnter:be,onExited:we}=$();ie.onEnter=be,ie.onExited=we}const pe={slots:{root:m.Root,backdrop:m.Backdrop,...H},slotProps:{...g,...B}},[ge,xe]=Wn("root",{ref:e,elementType:cI,externalForwardedProps:{...pe,...q,component:v},getSlotProps:V,ownerState:K,className:Qe(l,Z?.root,!K.open&&K.exited&&Z?.hidden)}),[Ce,he]=Wn("backdrop",{ref:o?.ref,elementType:a,externalForwardedProps:pe,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:be=>P({...be,onClick:we=>{be?.onClick&&be.onClick(we)}}),className:Qe(o?.className,Z?.backdrop),ownerState:K});return!T&&!I&&(!M||G)?null:re.jsx(d4,{ref:Q,container:h,disablePortal:C,children:re.jsxs(ge,{...xe,children:[!E&&a?re.jsx(Ce,{...he}):null,re.jsx(aI,{disableEnforceFocus:x,disableAutoFocus:b,disableRestoreFocus:_,isEnabled:U,open:I,children:L.cloneElement(d,ie)})]})})}),hI=t=>{const{classes:n,disableUnderline:e,startAdornment:r,endAdornment:a,size:o,hiddenLabel:u,multiline:l}=t,c={root:["root",!e&&"underline",r&&"adornedStart",a&&"adornedEnd",o==="small"&&`size${Ze(o)}`,u&&"hiddenLabel",l&&"multiline"],input:["input"]},d=Ft(c,w4,n);return{...n,...d}},pI=Ue(rh,{shouldForwardProp:t=>oa(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[...th(t,n),!e.disableUnderline&&n.underline]}})(nn(({theme:t})=>{const n=t.palette.mode==="light",e=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Si.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Si.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:u})=>!u.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Si.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Si.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Si.disabled}, .${Si.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Si.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Vi()).map(([u])=>({props:{disableUnderline:!1,color:u},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[u]?.main}`}}})),{props:({ownerState:u})=>u.startAdornment,style:{paddingLeft:12}},{props:({ownerState:u})=>u.endAdornment,style:{paddingRight:12}},{props:({ownerState:u})=>u.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:u,size:l})=>u.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel&&u.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),vI=Ue(ah,{name:"MuiFilledInput",slot:"Input",overridesResolver:nh})(nn(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:n})=>n.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:0}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:0}},{props:({ownerState:n})=>n.hiddenLabel&&n.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:n})=>n.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),hy=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:o={},componentsProps:u,fullWidth:l=!1,hiddenLabel:c,inputComponent:d="input",multiline:h=!1,slotProps:v,slots:m={},type:g="text",...b}=r,x={...r,disableUnderline:a,fullWidth:l,inputComponent:d,multiline:h,type:g},S=hI(r),C={root:{ownerState:x},input:{ownerState:x}},_=v??u?qn(C,v??u):C,R=m.root??o.Root??pI,E=m.input??o.Input??vI;return re.jsx(dy,{slots:{root:R,input:E},slotProps:_,fullWidth:l,inputComponent:d,multiline:h,ref:e,type:g,...b,classes:S})});hy.muiName="Input";function mI(t){return Bt("MuiFormControl",t)}Nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const gI=t=>{const{classes:n,margin:e,fullWidth:r}=t,a={root:["root",e!=="none"&&`margin${Ze(e)}`,r&&"fullWidth"]};return Ft(a,mI,n)},yI=Ue("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,n[`margin${Ze(e.margin)}`],e.fullWidth&&n.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),bI=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiFormControl"}),{children:a,className:o,color:u="primary",component:l="div",disabled:c=!1,error:d=!1,focused:h,fullWidth:v=!1,hiddenLabel:m=!1,margin:g="none",required:b=!1,size:x="medium",variant:S="outlined",...C}=r,_={...r,color:u,component:l,disabled:c,error:d,fullWidth:v,hiddenLabel:m,margin:g,required:b,size:x,variant:S},R=gI(_),[E,T]=L.useState(()=>{let V=!1;return a&&L.Children.forEach(a,P=>{if(!Xv(P,["Input","Select"]))return;const $=Xv(P,["Select"])?P.props.input:P;$&&m4($.props)&&(V=!0)}),V}),[D,N]=L.useState(()=>{let V=!1;return a&&L.Children.forEach(a,P=>{Xv(P,["Input","Select"])&&(vd(P.props,!0)||vd(P.props.inputProps,!0))&&(V=!0)}),V}),[O,I]=L.useState(!1);c&&O&&I(!1);const B=h!==void 0&&!c?h:O;let H;L.useRef(!1);const A=L.useCallback(()=>{N(!0)},[]),q=L.useCallback(()=>{N(!1)},[]),j=L.useMemo(()=>({adornedStart:E,setAdornedStart:T,color:u,disabled:c,error:d,filled:D,focused:B,fullWidth:v,hiddenLabel:m,size:x,onBlur:()=>{I(!1)},onFocus:()=>{I(!0)},onEmpty:q,onFilled:A,registerEffect:H,required:b,variant:S}),[E,u,c,d,D,B,v,m,H,q,A,b,x,S]);return re.jsx(fy.Provider,{value:j,children:re.jsx(yI,{as:l,ownerState:_,className:Qe(R.root,o),ref:e,...C,children:a})})});function xI(t){return Bt("MuiFormHelperText",t)}const Bw=Nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Fw;const wI=t=>{const{classes:n,contained:e,size:r,disabled:a,error:o,filled:u,focused:l,required:c}=t,d={root:["root",a&&"disabled",o&&"error",r&&`size${Ze(r)}`,e&&"contained",l&&"focused",u&&"filled",c&&"required"]};return Ft(d,xI,n)},SI=Ue("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,e.size&&n[`size${Ze(e.size)}`],e.contained&&n.contained,e.filled&&n.filled]}})(nn(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Bw.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Bw.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:n})=>n.contained,style:{marginLeft:14,marginRight:14}}]}))),CI=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiFormHelperText"}),{children:a,className:o,component:u="p",disabled:l,error:c,filled:d,focused:h,margin:v,required:m,variant:g,...b}=r,x=vu(),S=pu({props:r,muiFormControl:x,states:["variant","size","disabled","error","filled","focused","required"]}),C={...r,component:u,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete C.ownerState;const _=wI(C);return re.jsx(SI,{as:u,className:Qe(_.root,o),ref:e,...b,ownerState:C,children:a===" "?Fw||(Fw=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):a})});function EI(t){return Bt("MuiFormLabel",t)}const kl=Nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),RI=t=>{const{classes:n,color:e,focused:r,disabled:a,error:o,filled:u,required:l}=t,c={root:["root",`color${Ze(e)}`,a&&"disabled",o&&"error",u&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return Ft(c,EI,n)},_I=Ue("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,e.color==="secondary"&&n.colorSecondary,e.filled&&n.filled]}})(nn(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Vi()).map(([n])=>({props:{color:n},style:{[`&.${kl.focused}`]:{color:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${kl.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${kl.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),TI=Ue("span",{name:"MuiFormLabel",slot:"Asterisk"})(nn(({theme:t})=>({[`&.${kl.error}`]:{color:(t.vars||t).palette.error.main}}))),AI=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiFormLabel"}),{children:a,className:o,color:u,component:l="label",disabled:c,error:d,filled:h,focused:v,required:m,...g}=r,b=vu(),x=pu({props:r,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:x.color||"primary",component:l,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required},C=RI(S);return re.jsxs(_I,{as:l,ownerState:S,className:Qe(C.root,o),ref:e,...g,children:[a,x.required&&re.jsxs(TI,{ownerState:S,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]})});function fg(t){return`scale(${t}, ${t**2})`}const kI={entering:{opacity:1,transform:fg(1)},entered:{opacity:1,transform:"none"}},Jv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),dg=L.forwardRef(function(n,e){const{addEndListener:r,appear:a=!0,children:o,easing:u,in:l,onEnter:c,onEntered:d,onEntering:h,onExit:v,onExited:m,onExiting:g,style:b,timeout:x="auto",TransitionComponent:S=Na,...C}=n,_=gE(),R=L.useRef(),E=sy(),T=L.useRef(null),D=lr(T,nc(o),e),N=V=>P=>{if(V){const $=T.current;P===void 0?V($):V($,P)}},O=N(h),I=N((V,P)=>{yE(V);const{duration:$,delay:Q,easing:U}=dd({style:b,timeout:x,easing:u},{mode:"enter"});let G;x==="auto"?(G=E.transitions.getAutoHeightDuration(V.clientHeight),R.current=G):G=$,V.style.transition=[E.transitions.create("opacity",{duration:G,delay:Q}),E.transitions.create("transform",{duration:Jv?G:G*.666,delay:Q,easing:U})].join(","),c&&c(V,P)}),B=N(d),H=N(g),A=N(V=>{const{duration:P,delay:$,easing:Q}=dd({style:b,timeout:x,easing:u},{mode:"exit"});let U;x==="auto"?(U=E.transitions.getAutoHeightDuration(V.clientHeight),R.current=U):U=P,V.style.transition=[E.transitions.create("opacity",{duration:U,delay:$}),E.transitions.create("transform",{duration:Jv?U:U*.666,delay:Jv?$:$||U*.333,easing:Q})].join(","),V.style.opacity=0,V.style.transform=fg(.75),v&&v(V)}),q=N(m),j=V=>{x==="auto"&&_.start(R.current||0,V),r&&r(T.current,V)};return re.jsx(S,{appear:a,in:l,nodeRef:T,onEnter:I,onEntered:B,onEntering:O,onExit:A,onExited:q,onExiting:H,addEndListener:j,timeout:x==="auto"?null:x,...C,children:(V,{ownerState:P,...$})=>L.cloneElement(o,{style:{opacity:0,transform:fg(.75),visibility:V==="exited"&&!l?"hidden":void 0,...kI[V],...b,...o.props.style},ref:D,...$})})});dg&&(dg.muiSupportAuto=!0);const DI=t=>{const{classes:n,disableUnderline:e}=t,a=Ft({root:["root",!e&&"underline"],input:["input"]},b4,n);return{...n,...a}},NI=Ue(rh,{shouldForwardProp:t=>oa(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[...th(t,n),!e.disableUnderline&&n.underline]}})(nn(({theme:t})=>{let e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(e=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pl.disabled}, .${pl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${pl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Vi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),MI=Ue(ah,{name:"MuiInput",slot:"Input",overridesResolver:nh})({}),py=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiInput"}),{disableUnderline:a=!1,components:o={},componentsProps:u,fullWidth:l=!1,inputComponent:c="input",multiline:d=!1,slotProps:h,slots:v={},type:m="text",...g}=r,b=DI(r),S={root:{ownerState:{disableUnderline:a}}},C=h??u?qn(h??u,S):S,_=v.root??o.Root??NI,R=v.input??o.Input??MI;return re.jsx(dy,{slots:{root:_,input:R},slotProps:C,fullWidth:l,inputComponent:c,multiline:d,ref:e,type:m,...g,classes:b})});py.muiName="Input";function OI(t){return Bt("MuiInputLabel",t)}Nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const II=t=>{const{classes:n,formControl:e,size:r,shrink:a,disableAnimation:o,variant:u,required:l}=t,c={root:["root",e&&"formControl",!o&&"animated",a&&"shrink",r&&r!=="medium"&&`size${Ze(r)}`,u],asterisk:[l&&"asterisk"]},d=Ft(c,OI,n);return{...n,...d}},BI=Ue(AI,{shouldForwardProp:t=>oa(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[{[`& .${kl.asterisk}`]:n.asterisk},n.root,e.formControl&&n.formControl,e.size==="small"&&n.sizeSmall,e.shrink&&n.shrink,!e.disableAnimation&&n.animated,e.focused&&n.focused,n[e.variant]]}})(nn(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:n})=>n.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:n})=>n.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:n})=>!n.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:n,ownerState:e})=>n==="filled"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:n,ownerState:e,size:r})=>n==="filled"&&e.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:n,ownerState:e})=>n==="outlined"&&e.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),FI=L.forwardRef(function(n,e){const r=zt({name:"MuiInputLabel",props:n}),{disableAnimation:a=!1,margin:o,shrink:u,variant:l,className:c,...d}=r,h=vu();let v=u;typeof v>"u"&&h&&(v=h.filled||h.focused||h.adornedStart);const m=pu({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),g={...r,disableAnimation:a,formControl:h,shrink:v,size:m.size,variant:m.variant,required:m.required,focused:m.focused},b=II(g);return re.jsx(BI,{"data-shrink":v,ref:e,className:Qe(b.root,c),...d,ownerState:g,classes:b})}),LI=L.createContext({});function PI(t){return Bt("MuiList",t)}Nt("MuiList",["root","padding","dense","subheader"]);const zI=t=>{const{classes:n,disablePadding:e,dense:r,subheader:a}=t;return Ft({root:["root",!e&&"padding",r&&"dense",a&&"subheader"]},PI,n)},UI=Ue("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.root,!e.disablePadding&&n.padding,e.dense&&n.dense,e.subheader&&n.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),WI=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiList"}),{children:a,className:o,component:u="ul",dense:l=!1,disablePadding:c=!1,subheader:d,...h}=r,v=L.useMemo(()=>({dense:l}),[l]),m={...r,component:u,dense:l,disablePadding:c},g=zI(m);return re.jsx(LI.Provider,{value:v,children:re.jsxs(UI,{as:u,className:Qe(g.root,o),ref:e,ownerState:m,...h,children:[d,a]})})});function em(t,n,e){return t===n?t.firstChild:n&&n.nextElementSibling?n.nextElementSibling:e?null:t.firstChild}function Lw(t,n,e){return t===n?e?t.firstChild:t.lastChild:n&&n.previousElementSibling?n.previousElementSibling:e?null:t.lastChild}function TE(t,n){if(n===void 0)return!0;let e=t.innerText;return e===void 0&&(e=t.textContent),e=e.trim().toLowerCase(),e.length===0?!1:n.repeating?e[0]===n.keys[0]:e.startsWith(n.keys.join(""))}function vl(t,n,e,r,a,o){let u=!1,l=a(t,n,n?e:!1);for(;l;){if(l===t.firstChild){if(u)return!1;u=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!TE(l,o)||c)l=a(t,l,e);else return l.focus(),!0}return!1}const HI=L.forwardRef(function(n,e){const{actions:r,autoFocus:a=!1,autoFocusItem:o=!1,children:u,className:l,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:h,variant:v="selectedMenu",...m}=n,g=L.useRef(null),b=L.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ui(()=>{a&&g.current.focus()},[a]),L.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(R,{direction:E})=>{const T=!g.current.style.width;if(R.clientHeight<g.current.clientHeight&&T){const D=`${_E(uo(R))}px`;g.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=D,g.current.style.width=`calc(100% + ${D})`}return g.current}}),[]);const x=R=>{const E=g.current,T=R.key;if(R.ctrlKey||R.metaKey||R.altKey){h&&h(R);return}const N=_l(aa(E));if(T==="ArrowDown")R.preventDefault(),vl(E,N,d,c,em);else if(T==="ArrowUp")R.preventDefault(),vl(E,N,d,c,Lw);else if(T==="Home")R.preventDefault(),vl(E,null,d,c,em);else if(T==="End")R.preventDefault(),vl(E,null,d,c,Lw);else if(T.length===1){const O=b.current,I=T.toLowerCase(),B=performance.now();O.keys.length>0&&(B-O.lastTime>500?(O.keys=[],O.repeating=!0,O.previousKeyMatched=!0):O.repeating&&I!==O.keys[0]&&(O.repeating=!1)),O.lastTime=B,O.keys.push(I);const H=N&&!O.repeating&&TE(N,O);O.previousKeyMatched&&(H||vl(E,N,!1,c,em,O))?R.preventDefault():O.previousKeyMatched=!1}h&&h(R)},S=lr(g,e);let C=-1;L.Children.forEach(u,(R,E)=>{if(!L.isValidElement(R)){C===E&&(C+=1,C>=u.length&&(C=-1));return}R.props.disabled||(v==="selectedMenu"&&R.props.selected||C===-1)&&(C=E),C===E&&(R.props.disabled||R.props.muiSkipListHighlight||R.type.muiSkipListHighlight)&&(C+=1,C>=u.length&&(C=-1))});const _=L.Children.map(u,(R,E)=>{if(E===C){const T={};return o&&(T.autoFocus=!0),R.props.tabIndex===void 0&&v==="selectedMenu"&&(T.tabIndex=0),L.cloneElement(R,T)}return R});return re.jsx(WI,{role:"menu",ref:S,className:l,onKeyDown:x,tabIndex:a?0:-1,...m,children:_})});function jI(t){return Bt("MuiPopover",t)}Nt("MuiPopover",["root","paper"]);function Pw(t,n){let e=0;return typeof n=="number"?e=n:n==="center"?e=t.height/2:n==="bottom"&&(e=t.height),e}function zw(t,n){let e=0;return typeof n=="number"?e=n:n==="center"?e=t.width/2:n==="right"&&(e=t.width),e}function Uw(t){return[t.horizontal,t.vertical].map(n=>typeof n=="number"?`${n}px`:n).join(" ")}function If(t){return typeof t=="function"?t():t}const VI=t=>{const{classes:n}=t;return Ft({root:["root"],paper:["paper"]},jI,n)},GI=Ue(dI,{name:"MuiPopover",slot:"Root"})({}),AE=Ue(CE,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),qI=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiPopover"}),{action:a,anchorEl:o,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:d,className:h,container:v,elevation:m=8,marginThreshold:g=16,open:b,PaperProps:x={},slots:S={},slotProps:C={},transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:R,transitionDuration:E="auto",TransitionProps:T={},disableScrollLock:D=!1,...N}=r,O=L.useRef(),I={...r,anchorOrigin:u,anchorReference:c,elevation:m,marginThreshold:g,transformOrigin:_,TransitionComponent:R,transitionDuration:E,TransitionProps:T},B=VI(I),H=L.useCallback(()=>{if(c==="anchorPosition")return l;const be=If(o),Re=(be&&be.nodeType===1?be:aa(O.current).body).getBoundingClientRect();return{top:Re.top+Pw(Re,u.vertical),left:Re.left+zw(Re,u.horizontal)}},[o,u.horizontal,u.vertical,l,c]),A=L.useCallback(be=>({vertical:Pw(be,_.vertical),horizontal:zw(be,_.horizontal)}),[_.horizontal,_.vertical]),q=L.useCallback(be=>{const we={width:be.offsetWidth,height:be.offsetHeight},Re=A(we);if(c==="none")return{top:null,left:null,transformOrigin:Uw(Re)};const Me=H();let Se=Me.top-Re.vertical,Fe=Me.left-Re.horizontal;const He=Se+we.height,vt=Fe+we.width,ut=uo(If(o)),yt=ut.innerHeight-g,Vt=ut.innerWidth-g;if(g!==null&&Se<g){const st=Se-g;Se-=st,Re.vertical+=st}else if(g!==null&&He>yt){const st=He-yt;Se-=st,Re.vertical+=st}if(g!==null&&Fe<g){const st=Fe-g;Fe-=st,Re.horizontal+=st}else if(vt>Vt){const st=vt-Vt;Fe-=st,Re.horizontal+=st}return{top:`${Math.round(Se)}px`,left:`${Math.round(Fe)}px`,transformOrigin:Uw(Re)}},[o,c,H,A,g]),[j,V]=L.useState(b),P=L.useCallback(()=>{const be=O.current;if(!be)return;const we=q(be);we.top!==null&&be.style.setProperty("top",we.top),we.left!==null&&(be.style.left=we.left),be.style.transformOrigin=we.transformOrigin,V(!0)},[q]);L.useEffect(()=>(D&&window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)),[o,D,P]);const $=()=>{P()},Q=()=>{V(!1)};L.useEffect(()=>{b&&P()}),L.useImperativeHandle(a,()=>b?{updatePosition:()=>{P()}}:null,[b,P]),L.useEffect(()=>{if(!b)return;const be=hE(()=>{P()}),we=uo(If(o));return we.addEventListener("resize",be),()=>{be.clear(),we.removeEventListener("resize",be)}},[o,b,P]);let U=E;const G={slots:{transition:R,...S},slotProps:{transition:T,paper:x,...C}},[M,K]=Wn("transition",{elementType:dg,externalForwardedProps:G,ownerState:I,getSlotProps:be=>({...be,onEntering:(we,Re)=>{be.onEntering?.(we,Re),$()},onExited:we=>{be.onExited?.(we),Q()}}),additionalProps:{appear:!0,in:b}});E==="auto"&&!M.muiSupportAuto&&(U=void 0);const Z=v||(o?aa(If(o)).body:void 0),[ie,{slots:pe,slotProps:ge,...xe}]=Wn("root",{ref:e,elementType:GI,externalForwardedProps:{...G,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:wO(typeof C.backdrop=="function"?C.backdrop(I):C.backdrop,{invisible:!0})},container:Z,open:b},ownerState:I,className:Qe(B.root,h)}),[Ce,he]=Wn("paper",{ref:O,className:B.paper,elementType:AE,externalForwardedProps:G,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:j?void 0:{opacity:0}},ownerState:I});return re.jsx(ie,{...xe,...!hd(ie)&&{slots:pe,slotProps:ge,disableScrollLock:D},children:re.jsx(M,{...K,timeout:U,children:re.jsx(Ce,{...he,children:d})})})});function $I(t){return Bt("MuiMenu",t)}Nt("MuiMenu",["root","paper","list"]);const KI={vertical:"top",horizontal:"right"},XI={vertical:"top",horizontal:"left"},YI=t=>{const{classes:n}=t;return Ft({root:["root"],paper:["paper"],list:["list"]},$I,n)},QI=Ue(qI,{shouldForwardProp:t=>oa(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),ZI=Ue(AE,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),JI=Ue(HI,{name:"MuiMenu",slot:"List"})({outline:0}),eB=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiMenu"}),{autoFocus:a=!0,children:o,className:u,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:v={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:b,...x}={},variant:S="selectedMenu",slots:C={},slotProps:_={},...R}=r,E=CM(),T={...r,autoFocus:a,disableAutoFocusItem:l,MenuListProps:c,onEntering:b,PaperProps:v,transitionDuration:g,TransitionProps:x,variant:S},D=YI(T),N=a&&!l&&h,O=L.useRef(null),I=(U,G)=>{O.current&&O.current.adjustStyleForScrollbar(U,{direction:E?"rtl":"ltr"}),b&&b(U,G)},B=U=>{U.key==="Tab"&&(U.preventDefault(),d&&d(U,"tabKeyDown"))};let H=-1;L.Children.map(o,(U,G)=>{L.isValidElement(U)&&(U.props.disabled||(S==="selectedMenu"&&U.props.selected||H===-1)&&(H=G))});const A={slots:C,slotProps:{list:c,transition:x,paper:v,..._}},q=c4({elementType:C.root,externalSlotProps:_.root,ownerState:T,className:[D.root,u]}),[j,V]=Wn("paper",{className:D.paper,elementType:ZI,externalForwardedProps:A,shouldForwardComponentProp:!0,ownerState:T}),[P,$]=Wn("list",{className:Qe(D.list,c.className),elementType:JI,shouldForwardComponentProp:!0,externalForwardedProps:A,getSlotProps:U=>({...U,onKeyDown:G=>{B(G),U.onKeyDown?.(G)}}),ownerState:T}),Q=typeof A.slotProps.transition=="function"?A.slotProps.transition(T):A.slotProps.transition;return re.jsx(QI,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?KI:XI,slots:{root:C.root,paper:j,backdrop:C.backdrop,...C.transition&&{transition:C.transition}},slotProps:{root:q,paper:V,backdrop:typeof _.backdrop=="function"?_.backdrop(T):_.backdrop,transition:{...Q,onEntering:(...U)=>{I(...U),Q?.onEntering?.(...U)}}},open:h,ref:e,transitionDuration:g,ownerState:T,...R,classes:m,children:re.jsx(P,{actions:O,autoFocus:a&&(H===-1||l),autoFocusItem:N,variant:S,...$,children:o})})});function tB(t){return Bt("MuiNativeSelect",t)}const vy=Nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nB=t=>{const{classes:n,variant:e,disabled:r,multiple:a,open:o,error:u}=t,l={select:["select",e,r&&"disabled",a&&"multiple",u&&"error"],icon:["icon",`icon${Ze(e)}`,o&&"iconOpen",r&&"disabled"]};return Ft(l,tB,n)},kE=Ue("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${vy.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:n})=>n.variant!=="filled"&&n.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),rB=Ue(kE,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:oa,overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.select,n[e.variant],e.error&&n.error,{[`&.${vy.multiple}`]:n.multiple}]}})({}),DE=Ue("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${vy.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:n})=>n.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),aB=Ue(DE,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.icon,e.variant&&n[`icon${Ze(e.variant)}`],e.open&&n.iconOpen]}})({}),oB=L.forwardRef(function(n,e){const{className:r,disabled:a,error:o,IconComponent:u,inputRef:l,variant:c="standard",...d}=n,h={...n,disabled:a,variant:c,error:o},v=nB(h);return re.jsxs(L.Fragment,{children:[re.jsx(rB,{ownerState:h,className:Qe(v.select,r),disabled:a,ref:l||e,...d}),n.multiple?null:re.jsx(aB,{as:u,ownerState:h,className:v.icon})]})});var Ww;const iB=Ue("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:oa})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),sB=Ue("legend",{name:"MuiNotchedOutlined",shouldForwardProp:oa})(nn(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:n})=>!n.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:n})=>n.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:n})=>n.withLabel&&n.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function uB(t){const{children:n,classes:e,className:r,label:a,notched:o,...u}=t,l=a!=null&&a!=="",c={...t,notched:o,withLabel:l};return re.jsx(iB,{"aria-hidden":!0,className:r,ownerState:c,...u,children:re.jsx(sB,{ownerState:c,children:l?re.jsx("span",{children:a}):Ww||(Ww=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const lB=t=>{const{classes:n}=t,r=Ft({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},x4,n);return{...n,...r}},cB=Ue(rh,{shouldForwardProp:t=>oa(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:th})(nn(({theme:t})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ha.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ha.notchedOutline}`]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}},[`&.${ha.focused} .${ha.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Vi()).map(([e])=>({props:{color:e},style:{[`&.${ha.focused} .${ha.notchedOutline}`]:{borderColor:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${ha.error} .${ha.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ha.disabled} .${ha.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:14}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:14}},{props:({ownerState:e})=>e.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:e,size:r})=>e.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),fB=Ue(uB,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(nn(({theme:t})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}})),dB=Ue(ah,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:nh})(nn(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:n})=>n.multiline,style:{padding:0}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:0}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:0}}]}))),my=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiOutlinedInput"}),{components:a={},fullWidth:o=!1,inputComponent:u="input",label:l,multiline:c=!1,notched:d,slots:h={},slotProps:v={},type:m="text",...g}=r,b=lB(r),x=vu(),S=pu({props:r,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C={...r,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:x,fullWidth:o,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:m},_=h.root??a.Root??cB,R=h.input??a.Input??dB,[E,T]=Wn("notchedOutline",{elementType:fB,className:b.notchedOutline,shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{slots:h,slotProps:v},additionalProps:{label:l!=null&&l!==""&&S.required?re.jsxs(L.Fragment,{children:[l,"","*"]}):l}});return re.jsx(dy,{slots:{root:_,input:R},slotProps:v,renderSuffix:D=>re.jsx(E,{...T,notched:typeof d<"u"?d:!!(D.startAdornment||D.filled||D.focused)}),fullWidth:o,inputComponent:u,multiline:c,ref:e,type:m,...g,classes:{...b,notchedOutline:null}})});my.muiName="Input";function NE(t){return Bt("MuiSelect",t)}const ml=Nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Hw;const hB=Ue(kE,{name:"MuiSelect",slot:"Select",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[{[`&.${ml.select}`]:n.select},{[`&.${ml.select}`]:n[e.variant]},{[`&.${ml.error}`]:n.error},{[`&.${ml.multiple}`]:n.multiple}]}})({[`&.${ml.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),pB=Ue(DE,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,n)=>{const{ownerState:e}=t;return[n.icon,e.variant&&n[`icon${Ze(e.variant)}`],e.open&&n.iconOpen]}})({}),vB=Ue("input",{shouldForwardProp:t=>dE(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function jw(t,n){return typeof n=="object"&&n!==null?t===n:String(t)===String(n)}function mB(t){return t==null||typeof t=="string"&&!t.trim()}const gB=t=>{const{classes:n,variant:e,disabled:r,multiple:a,open:o,error:u}=t,l={select:["select",e,r&&"disabled",a&&"multiple",u&&"error"],icon:["icon",`icon${Ze(e)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ft(l,NE,n)},yB=L.forwardRef(function(n,e){const{"aria-describedby":r,"aria-label":a,autoFocus:o,autoWidth:u,children:l,className:c,defaultOpen:d,defaultValue:h,disabled:v,displayEmpty:m,error:g=!1,IconComponent:b,inputRef:x,labelId:S,MenuProps:C={},multiple:_,name:R,onBlur:E,onChange:T,onClose:D,onFocus:N,onKeyDown:O,onMouseDown:I,onOpen:B,open:H,readOnly:A,renderValue:q,required:j,SelectDisplayProps:V={},tabIndex:P,type:$,value:Q,variant:U="standard",...G}=n,[M,K]=bw({controlled:Q,default:h,name:"Select"}),[Z,ie]=bw({controlled:H,default:d,name:"Select"}),pe=L.useRef(null),ge=L.useRef(null),[xe,Ce]=L.useState(null),{current:he}=L.useRef(H!=null),[be,we]=L.useState(),Re=lr(e,x),Me=L.useCallback(Pe=>{ge.current=Pe,Pe&&Ce(Pe)},[]),Se=xe?.parentNode;L.useImperativeHandle(Re,()=>({focus:()=>{ge.current.focus()},node:pe.current,value:M}),[M]);const Fe=xe!==null&&Z;L.useEffect(()=>{if(!Fe||!Se||u||typeof ResizeObserver>"u")return;const Pe=new ResizeObserver(()=>{we(Se.clientWidth)});return Pe.observe(Se),()=>{Pe.disconnect()}},[Fe,Se,u]),L.useEffect(()=>{d&&Z&&xe&&!he&&(we(u?null:Se.clientWidth),ge.current.focus())},[xe,u]),L.useEffect(()=>{o&&ge.current.focus()},[o]),L.useEffect(()=>{if(!S)return;const Pe=aa(ge.current).getElementById(S);if(Pe){const At=()=>{getSelection().isCollapsed&&ge.current.focus()};return Pe.addEventListener("click",At),()=>{Pe.removeEventListener("click",At)}}},[S]);const He=(Pe,At)=>{Pe?B&&B(At):D&&D(At),he||(we(u?null:Se.clientWidth),ie(Pe))},vt=Pe=>{I?.(Pe),Pe.button===0&&(Pe.preventDefault(),ge.current.focus(),He(!0,Pe))},ut=Pe=>{He(!1,Pe)},yt=L.Children.toArray(l),Vt=Pe=>{const At=yt.find(dn=>dn.props.value===Pe.target.value);At!==void 0&&(K(At.props.value),T&&T(Pe,At))},st=Pe=>At=>{let dn;if(At.currentTarget.hasAttribute("tabindex")){if(_){dn=Array.isArray(M)?M.slice():[];const Yr=M.indexOf(Pe.props.value);Yr===-1?dn.push(Pe.props.value):dn.splice(Yr,1)}else dn=Pe.props.value;if(Pe.props.onClick&&Pe.props.onClick(At),M!==dn&&(K(dn),T)){const Yr=At.nativeEvent||At,ni=new Yr.constructor(Yr.type,Yr);Object.defineProperty(ni,"target",{writable:!0,value:{value:dn,name:R}}),T(ni,Pe)}_||He(!1,At)}},Le=Pe=>{A||([" ","ArrowUp","ArrowDown","Enter"].includes(Pe.key)&&(Pe.preventDefault(),He(!0,Pe)),O?.(Pe))},fn=Pe=>{!Fe&&E&&(Object.defineProperty(Pe,"target",{writable:!0,value:{value:M,name:R}}),E(Pe))};delete G["aria-invalid"];let Ye,Bn;const Kn=[];let Rn=!1;(vd({value:M})||m)&&(q?Ye=q(M):Rn=!0);const rn=yt.map(Pe=>{if(!L.isValidElement(Pe))return null;let At;if(_){if(!Array.isArray(M))throw new Error(io(2));At=M.some(dn=>jw(dn,Pe.props.value)),At&&Rn&&Kn.push(Pe.props.children)}else At=jw(M,Pe.props.value),At&&Rn&&(Bn=Pe.props.children);return L.cloneElement(Pe,{"aria-selected":At?"true":"false",onClick:st(Pe),onKeyUp:dn=>{dn.key===" "&&dn.preventDefault(),Pe.props.onKeyUp&&Pe.props.onKeyUp(dn)},role:"option",selected:At,value:void 0,"data-value":Pe.props.value})});Rn&&(_?Kn.length===0?Ye=null:Ye=Kn.reduce((Pe,At,dn)=>(Pe.push(At),dn<Kn.length-1&&Pe.push(", "),Pe),[]):Ye=Bn);let kr=be;!u&&he&&xe&&(kr=Se.clientWidth);let Xr;typeof P<"u"?Xr=P:Xr=v?null:0;const Tt=V.id||(R?`mui-component-select-${R}`:void 0),dr={...n,variant:U,value:M,open:Fe,error:g},Fn=gB(dr),Yt={...C.PaperProps,...typeof C.slotProps?.paper=="function"?C.slotProps.paper(dr):C.slotProps?.paper},Yn={...C.MenuListProps,...typeof C.slotProps?.list=="function"?C.slotProps.list(dr):C.slotProps?.list},Ln=ay();return re.jsxs(L.Fragment,{children:[re.jsx(hB,{as:"div",ref:Me,tabIndex:Xr,role:"combobox","aria-controls":Fe?Ln:void 0,"aria-disabled":v?"true":void 0,"aria-expanded":Fe?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[S,Tt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":j?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:Le,onMouseDown:v||A?null:vt,onBlur:fn,onFocus:N,...V,ownerState:dr,className:Qe(V.className,Fn.select,c),id:Tt,children:mB(Ye)?Hw||(Hw=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ye}),re.jsx(vB,{"aria-invalid":g,value:Array.isArray(M)?M.join(","):M,name:R,ref:pe,"aria-hidden":!0,onChange:Vt,tabIndex:-1,disabled:v,className:Fn.nativeInput,autoFocus:o,required:j,...G,ownerState:dr}),re.jsx(pB,{as:b,className:Fn.icon,ownerState:dr}),re.jsx(eB,{id:`menu-${R||""}`,anchorEl:Se,open:Fe,onClose:ut,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,slotProps:{...C.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Ln,...Yn},paper:{...Yt,style:{minWidth:kr,...Yt!=null?Yt.style:null}}},children:rn})]})}),bB=t=>{const{classes:n}=t,r=Ft({root:["root"]},NE,n);return{...n,...r}},gy={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>oa(t)&&t!=="variant"},xB=Ue(py,gy)(""),wB=Ue(my,gy)(""),SB=Ue(hy,gy)(""),ME=L.forwardRef(function(n,e){const r=zt({name:"MuiSelect",props:n}),{autoWidth:a=!1,children:o,classes:u={},className:l,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:h=S4,id:v,input:m,inputProps:g,label:b,labelId:x,MenuProps:S,multiple:C=!1,native:_=!1,onClose:R,onOpen:E,open:T,renderValue:D,SelectDisplayProps:N,variant:O="outlined",...I}=r,B=_?oB:yB,H=vu(),A=pu({props:r,muiFormControl:H,states:["variant","error"]}),q=A.variant||O,j={...r,variant:q,classes:u},V=bB(j),{root:P,...$}=V,Q=m||{standard:re.jsx(xB,{ownerState:j}),outlined:re.jsx(wB,{label:b,ownerState:j}),filled:re.jsx(SB,{ownerState:j})}[q],U=lr(e,nc(Q));return re.jsx(L.Fragment,{children:L.cloneElement(Q,{inputComponent:B,inputProps:{children:o,error:A.error,IconComponent:h,variant:q,type:void 0,multiple:C,..._?{id:v}:{autoWidth:a,defaultOpen:c,displayEmpty:d,labelId:x,MenuProps:S,onClose:R,onOpen:E,open:T,renderValue:D,SelectDisplayProps:{id:v,...N}},...g,classes:g?qn($,g.classes):$,...m?m.props.inputProps:{}},...(C&&_||d)&&q==="outlined"?{notched:!0}:{},ref:U,className:Qe(Q.props.className,l,V.root),...!m&&{variant:q},...I})})});ME.muiName="Select";function CB(t){return Bt("MuiTextField",t)}Nt("MuiTextField",["root"]);const EB={standard:py,filled:hy,outlined:my},RB=t=>{const{classes:n}=t;return Ft({root:["root"]},CB,n)},_B=Ue(bI,{name:"MuiTextField",slot:"Root"})({}),TB=L.forwardRef(function(n,e){const r=zt({props:n,name:"MuiTextField"}),{autoComplete:a,autoFocus:o=!1,children:u,className:l,color:c="primary",defaultValue:d,disabled:h=!1,error:v=!1,FormHelperTextProps:m,fullWidth:g=!1,helperText:b,id:x,InputLabelProps:S,inputProps:C,InputProps:_,inputRef:R,label:E,maxRows:T,minRows:D,multiline:N=!1,name:O,onBlur:I,onChange:B,onFocus:H,placeholder:A,required:q=!1,rows:j,select:V=!1,SelectProps:P,slots:$={},slotProps:Q={},type:U,value:G,variant:M="outlined",...K}=r,Z={...r,autoFocus:o,color:c,disabled:h,error:v,fullWidth:g,multiline:N,required:q,select:V,variant:M},ie=RB(Z),pe=ay(x),ge=b&&pe?`${pe}-helper-text`:void 0,xe=E&&pe?`${pe}-label`:void 0,Ce=EB[M],he={slots:$,slotProps:{input:_,inputLabel:S,htmlInput:C,formHelperText:m,select:P,...Q}},be={},we=he.slotProps.inputLabel;M==="outlined"&&(we&&typeof we.shrink<"u"&&(be.notched=we.shrink),be.label=E),V&&((!P||!P.native)&&(be.id=void 0),be["aria-describedby"]=void 0);const[Re,Me]=Wn("root",{elementType:_B,shouldForwardComponentProp:!0,externalForwardedProps:{...he,...K},ownerState:Z,className:Qe(ie.root,l),ref:e,additionalProps:{disabled:h,error:v,fullWidth:g,required:q,color:c,variant:M}}),[Se,Fe]=Wn("input",{elementType:Ce,externalForwardedProps:he,additionalProps:be,ownerState:Z}),[He,vt]=Wn("inputLabel",{elementType:FI,externalForwardedProps:he,ownerState:Z}),[ut,yt]=Wn("htmlInput",{elementType:"input",externalForwardedProps:he,ownerState:Z}),[Vt,st]=Wn("formHelperText",{elementType:CI,externalForwardedProps:he,ownerState:Z}),[Le,fn]=Wn("select",{elementType:ME,externalForwardedProps:he,ownerState:Z}),Ye=re.jsx(Se,{"aria-describedby":ge,autoComplete:a,autoFocus:o,defaultValue:d,fullWidth:g,multiline:N,name:O,rows:j,maxRows:T,minRows:D,type:U,value:G,id:pe,inputRef:R,onBlur:I,onChange:B,onFocus:H,placeholder:A,inputProps:yt,slots:{input:$.htmlInput?ut:void 0},...Fe});return re.jsxs(Re,{...Me,children:[E!=null&&E!==""&&re.jsx(He,{htmlFor:pe,id:xe,...vt,children:E}),V?re.jsx(Le,{"aria-describedby":ge,id:pe,labelId:xe,value:G,input:Ye,...fn,children:u}):Ye,b&&re.jsx(Vt,{id:ge,...st,children:b})]})});var tm={exports:{}},Vw;function AB(){return Vw||(Vw=1,(function(t){var n=(function(e){var r=Object.prototype,a=r.hasOwnProperty,o=Object.defineProperty||function(U,G,M){U[G]=M.value},u,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function v(U,G,M){return Object.defineProperty(U,G,{value:M,enumerable:!0,configurable:!0,writable:!0}),U[G]}try{v({},"")}catch{v=function(G,M,K){return G[M]=K}}function m(U,G,M,K){var Z=G&&G.prototype instanceof R?G:R,ie=Object.create(Z.prototype),pe=new P(K||[]);return o(ie,"_invoke",{value:A(U,M,pe)}),ie}e.wrap=m;function g(U,G,M){try{return{type:"normal",arg:U.call(G,M)}}catch(K){return{type:"throw",arg:K}}}var b="suspendedStart",x="suspendedYield",S="executing",C="completed",_={};function R(){}function E(){}function T(){}var D={};v(D,c,function(){return this});var N=Object.getPrototypeOf,O=N&&N(N($([])));O&&O!==r&&a.call(O,c)&&(D=O);var I=T.prototype=R.prototype=Object.create(D);E.prototype=T,o(I,"constructor",{value:T,configurable:!0}),o(T,"constructor",{value:E,configurable:!0}),E.displayName=v(T,h,"GeneratorFunction");function B(U){["next","throw","return"].forEach(function(G){v(U,G,function(M){return this._invoke(G,M)})})}e.isGeneratorFunction=function(U){var G=typeof U=="function"&&U.constructor;return G?G===E||(G.displayName||G.name)==="GeneratorFunction":!1},e.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,T):(U.__proto__=T,v(U,h,"GeneratorFunction")),U.prototype=Object.create(I),U},e.awrap=function(U){return{__await:U}};function H(U,G){function M(ie,pe,ge,xe){var Ce=g(U[ie],U,pe);if(Ce.type==="throw")xe(Ce.arg);else{var he=Ce.arg,be=he.value;return be&&typeof be=="object"&&a.call(be,"__await")?G.resolve(be.__await).then(function(we){M("next",we,ge,xe)},function(we){M("throw",we,ge,xe)}):G.resolve(be).then(function(we){he.value=we,ge(he)},function(we){return M("throw",we,ge,xe)})}}var K;function Z(ie,pe){function ge(){return new G(function(xe,Ce){M(ie,pe,xe,Ce)})}return K=K?K.then(ge,ge):ge()}o(this,"_invoke",{value:Z})}B(H.prototype),v(H.prototype,d,function(){return this}),e.AsyncIterator=H,e.async=function(U,G,M,K,Z){Z===void 0&&(Z=Promise);var ie=new H(m(U,G,M,K),Z);return e.isGeneratorFunction(G)?ie:ie.next().then(function(pe){return pe.done?pe.value:ie.next()})};function A(U,G,M){var K=b;return function(ie,pe){if(K===S)throw new Error("Generator is already running");if(K===C){if(ie==="throw")throw pe;return Q()}for(M.method=ie,M.arg=pe;;){var ge=M.delegate;if(ge){var xe=q(ge,M);if(xe){if(xe===_)continue;return xe}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(K===b)throw K=C,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);K=S;var Ce=g(U,G,M);if(Ce.type==="normal"){if(K=M.done?C:x,Ce.arg===_)continue;return{value:Ce.arg,done:M.done}}else Ce.type==="throw"&&(K=C,M.method="throw",M.arg=Ce.arg)}}}function q(U,G){var M=G.method,K=U.iterator[M];if(K===u)return G.delegate=null,M==="throw"&&U.iterator.return&&(G.method="return",G.arg=u,q(U,G),G.method==="throw")||M!=="return"&&(G.method="throw",G.arg=new TypeError("The iterator does not provide a '"+M+"' method")),_;var Z=g(K,U.iterator,G.arg);if(Z.type==="throw")return G.method="throw",G.arg=Z.arg,G.delegate=null,_;var ie=Z.arg;if(!ie)return G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,_;if(ie.done)G[U.resultName]=ie.value,G.next=U.nextLoc,G.method!=="return"&&(G.method="next",G.arg=u);else return ie;return G.delegate=null,_}B(I),v(I,h,"Generator"),v(I,c,function(){return this}),v(I,"toString",function(){return"[object Generator]"});function j(U){var G={tryLoc:U[0]};1 in U&&(G.catchLoc=U[1]),2 in U&&(G.finallyLoc=U[2],G.afterLoc=U[3]),this.tryEntries.push(G)}function V(U){var G=U.completion||{};G.type="normal",delete G.arg,U.completion=G}function P(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(j,this),this.reset(!0)}e.keys=function(U){var G=Object(U),M=[];for(var K in G)M.push(K);return M.reverse(),function Z(){for(;M.length;){var ie=M.pop();if(ie in G)return Z.value=ie,Z.done=!1,Z}return Z.done=!0,Z}};function $(U){if(U){var G=U[c];if(G)return G.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var M=-1,K=function Z(){for(;++M<U.length;)if(a.call(U,M))return Z.value=U[M],Z.done=!1,Z;return Z.value=u,Z.done=!0,Z};return K.next=K}}return{next:Q}}e.values=$;function Q(){return{value:u,done:!0}}return P.prototype={constructor:P,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(V),!U)for(var G in this)G.charAt(0)==="t"&&a.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=u)},stop:function(){this.done=!0;var U=this.tryEntries[0],G=U.completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var G=this;function M(xe,Ce){return ie.type="throw",ie.arg=U,G.next=xe,Ce&&(G.method="next",G.arg=u),!!Ce}for(var K=this.tryEntries.length-1;K>=0;--K){var Z=this.tryEntries[K],ie=Z.completion;if(Z.tryLoc==="root")return M("end");if(Z.tryLoc<=this.prev){var pe=a.call(Z,"catchLoc"),ge=a.call(Z,"finallyLoc");if(pe&&ge){if(this.prev<Z.catchLoc)return M(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return M(Z.finallyLoc)}else if(pe){if(this.prev<Z.catchLoc)return M(Z.catchLoc,!0)}else if(ge){if(this.prev<Z.finallyLoc)return M(Z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(U,G){for(var M=this.tryEntries.length-1;M>=0;--M){var K=this.tryEntries[M];if(K.tryLoc<=this.prev&&a.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var Z=K;break}}Z&&(U==="break"||U==="continue")&&Z.tryLoc<=G&&G<=Z.finallyLoc&&(Z=null);var ie=Z?Z.completion:{};return ie.type=U,ie.arg=G,Z?(this.method="next",this.next=Z.finallyLoc,_):this.complete(ie)},complete:function(U,G){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&G&&(this.next=G),_},finish:function(U){for(var G=this.tryEntries.length-1;G>=0;--G){var M=this.tryEntries[G];if(M.finallyLoc===U)return this.complete(M.completion,M.afterLoc),V(M),_}},catch:function(U){for(var G=this.tryEntries.length-1;G>=0;--G){var M=this.tryEntries[G];if(M.tryLoc===U){var K=M.completion;if(K.type==="throw"){var Z=K.arg;V(M)}return Z}}throw new Error("illegal catch attempt")},delegateYield:function(U,G,M){return this.delegate={iterator:$(U),resultName:G,nextLoc:M},this.method==="next"&&(this.arg=u),_}},e})(t.exports);try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}})(tm)),tm.exports}var nm,Gw;function yy(){return Gw||(Gw=1,nm=(t,n)=>`${t}-${n}-${Math.random().toString(16).slice(3,8)}`),nm}var rm,qw;function OE(){if(qw)return rm;qw=1;const t=yy();let n=0;return rm=({id:e,action:r,payload:a={}})=>{let o=e;return typeof o>"u"&&(o=t("Job",n),n+=1),{id:o,action:r,payload:a}},rm}var gl={},$w;function by(){if($w)return gl;$w=1;let t=!1;return gl.logging=t,gl.setLogging=n=>{t=n},gl.log=(...n)=>t?console.log.apply(this,n):null,gl}var am,Kw;function kB(){if(Kw)return am;Kw=1;const t=OE(),{log:n}=by(),e=yy();let r=0;return am=()=>{const a=e("Scheduler",r),o={},u={};let l=[];r+=1;const c=()=>l.length,d=()=>Object.keys(o).length,h=()=>{if(l.length!==0){const x=Object.keys(o);for(let S=0;S<x.length;S+=1)if(typeof u[x[S]]>"u"){l[0](o[x[S]]);break}}},v=(x,S)=>new Promise((C,_)=>{const R=t({action:x,payload:S});l.push(async E=>{l.shift(),u[E.id]=R;try{C(await E[x].apply(this,[...S,R.id]))}catch(T){_(T)}finally{delete u[E.id],h()}}),n(`[${a}]: Add ${R.id} to JobQueue`),n(`[${a}]: JobQueue length=${l.length}`),h()});return{addWorker:x=>(o[x.id]=x,n(`[${a}]: Add ${x.id}`),n(`[${a}]: Number of workers=${d()}`),h(),x.id),addJob:async(x,...S)=>{if(d()===0)throw Error(`[${a}]: You need to have at least one worker before adding jobs`);return v(x,S)},terminate:async()=>{Object.keys(o).forEach(async x=>{await o[x].terminate()}),l=[]},getQueueLen:c,getNumWorkers:d}},am}function DB(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var om,Xw;function NB(){return Xw||(Xw=1,om=t=>{const n={};return typeof WorkerGlobalScope<"u"?n.type="webworker":typeof document=="object"?n.type="browser":typeof process=="object"&&typeof DB=="function"&&(n.type="node"),typeof t>"u"?n:n[t]}),om}var im,Yw;function MB(){if(Yw)return im;Yw=1;const n=NB()("type")==="browser"?e=>new URL(e,window.location.href).href:e=>e;return im=e=>{const r={...e};return["corePath","workerPath","langPath"].forEach(a=>{e[a]&&(r[a]=n(r[a]))}),r},im}var sm,Qw;function IE(){return Qw||(Qw=1,sm={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),sm}const OB="7.0.0",IB={version:OB};var um,Zw;function BB(){return Zw||(Zw=1,um={workerBlobURL:!0,logger:()=>{}}),um}var lm,Jw;function FB(){if(Jw)return lm;Jw=1;const t=IB.version;return lm={...BB(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${t}/dist/worker.min.js`},lm}var cm,eS;function LB(){return eS||(eS=1,cm=({workerPath:t,workerBlobURL:n})=>{let e;if(Blob&&URL&&n){const r=new Blob([`importScripts("${t}");`],{type:"application/javascript"});e=new Worker(URL.createObjectURL(r))}else e=new Worker(t);return e}),cm}var fm,tS;function PB(){return tS||(tS=1,fm=t=>{t.terminate()}),fm}var dm,nS;function zB(){return nS||(nS=1,dm=(t,n)=>{t.onmessage=({data:e})=>{n(e)}}),dm}var hm,rS;function UB(){return rS||(rS=1,hm=async(t,n)=>{t.postMessage(n)}),hm}var pm,aS;function WB(){if(aS)return pm;aS=1;const t=e=>new Promise((r,a)=>{const o=new FileReader;o.onload=()=>{r(o.result)},o.onerror=({target:{error:{code:u}}})=>{a(Error(`File could not be read! Code=${u}`))},o.readAsArrayBuffer(e)}),n=async e=>{let r=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?r=atob(e.split(",")[1]).split("").map(a=>a.charCodeAt(0)):r=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(r=await n(e.src)),e.tagName==="VIDEO"&&(r=await n(e.poster)),e.tagName==="CANVAS"&&await new Promise(a=>{e.toBlob(async o=>{r=await t(o),a()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const a=await e.convertToBlob();r=await t(a)}else(e instanceof File||e instanceof Blob)&&(r=await t(e));return new Uint8Array(r)};return pm=n,pm}var vm,oS;function HB(){if(oS)return vm;oS=1;const t=FB(),n=LB(),e=PB(),r=zB(),a=UB(),o=WB();return vm={defaultOptions:t,spawnWorker:n,terminateWorker:e,onMessage:r,send:a,loadImage:o},vm}var mm,iS;function BE(){if(iS)return mm;iS=1;const t=MB(),n=OE(),{log:e}=by(),r=yy(),a=IE(),{defaultOptions:o,spawnWorker:u,terminateWorker:l,onMessage:c,loadImage:d,send:h}=HB();let v=0;return mm=async(m="eng",g=a.LSTM_ONLY,b={},x={})=>{const S=r("Worker",v),{logger:C,errorHandler:_,...R}=t({...o,...b}),E={},T=typeof m=="string"?m.split("+"):m;let D=g,N=x;const O=[a.DEFAULT,a.LSTM_ONLY].includes(g)&&!R.legacyCore;let I,B;const H=new Promise((he,be)=>{B=he,I=be}),A=he=>{I(he.message)};let q=u(R);q.onerror=A,v+=1;const j=({id:he,action:be,payload:we})=>new Promise((Re,Me)=>{e(`[${S}]: Start ${he}, action=${be}`);const Se=`${be}-${he}`;E[Se]={resolve:Re,reject:Me},h(q,{workerId:S,jobId:he,action:be,payload:we})}),V=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),P=he=>j(n({id:he,action:"load",payload:{options:{lstmOnly:O,corePath:R.corePath,logging:R.logging}}})),$=(he,be,we)=>j(n({id:we,action:"FS",payload:{method:"writeFile",args:[he,be]}})),Q=(he,be)=>j(n({id:be,action:"FS",payload:{method:"readFile",args:[he,{encoding:"utf8"}]}})),U=(he,be)=>j(n({id:be,action:"FS",payload:{method:"unlink",args:[he]}})),G=(he,be,we)=>j(n({id:we,action:"FS",payload:{method:he,args:be}})),M=(he,be)=>j(n({id:be,action:"loadLanguage",payload:{langs:he,options:{langPath:R.langPath,dataPath:R.dataPath,cachePath:R.cachePath,cacheMethod:R.cacheMethod,gzip:R.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(D)&&!R.legacyLang}}})),K=(he,be,we,Re)=>j(n({id:Re,action:"initialize",payload:{langs:he,oem:be,config:we}})),Z=(he="eng",be,we,Re)=>{if(O&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(be))throw Error("Legacy model requested but code missing.");const Me=be||D;D=Me;const Se=we||N;N=Se;const He=(typeof he=="string"?he.split("+"):he).filter(vt=>!T.includes(vt));return T.push(...He),He.length>0?M(He,Re).then(()=>K(he,Me,Se,Re)):K(he,Me,Se,Re)},ie=(he={},be)=>j(n({id:be,action:"setParameters",payload:{params:he}})),pe=async(he,be={},we={text:!0},Re)=>j(n({id:Re,action:"recognize",payload:{image:await d(he),options:be,output:we}})),ge=async(he,be)=>{if(O)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return j(n({id:be,action:"detect",payload:{image:await d(he)}}))},xe=async()=>(q!==null&&(l(q),q=null),Promise.resolve());c(q,({workerId:he,jobId:be,status:we,action:Re,data:Me})=>{const Se=`${Re}-${be}`;if(we==="resolve")e(`[${he}]: Complete ${be}`),E[Se].resolve({jobId:be,data:Me}),delete E[Se];else if(we==="reject")if(E[Se].reject(Me),delete E[Se],Re==="load"&&I(Me),_)_(Me);else throw Error(Me);else we==="progress"&&C({...Me,userJobId:be})});const Ce={id:S,worker:q,load:V,writeText:$,readText:Q,removeFile:U,FS:G,reinitialize:Z,setParameters:ie,recognize:pe,detect:ge,terminate:xe};return P().then(()=>M(m)).then(()=>K(m,g,x)).then(()=>B(Ce)).catch(()=>{}),H},mm}var gm,sS;function jB(){if(sS)return gm;sS=1;const t=BE();return gm={recognize:async(r,a,o)=>{const u=await t(a,1,o);return u.recognize(r).finally(async()=>{await u.terminate()})},detect:async(r,a)=>{const o=await t("osd",0,a);return o.detect(r).finally(async()=>{await o.terminate()})}},gm}var ym,uS;function VB(){return uS||(uS=1,ym={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),ym}var bm,lS;function GB(){return lS||(lS=1,bm={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),bm}var xm,cS;function qB(){if(cS)return xm;cS=1,AB();const t=kB(),n=BE(),e=jB(),r=VB(),a=IE(),o=GB(),{setLogging:u}=by();return xm={languages:r,OEM:a,PSM:o,createScheduler:t,createWorker:n,setLogging:u,...e},xm}var $B=qB();const KB=Fg($B);function XB(){const[t,n]=L.useState(null),[e,r]=L.useState(""),[a,o]=L.useState(!1),u=c=>{const d=c.target.files[0];d&&(n(URL.createObjectURL(d)),r(""))},l=()=>{t&&(o(!0),KB.recognize(t,"eng").then(({data:c})=>{const d=c.text.replace(/\s+/g," ").trim(),h=/[a-zA-Z0-9]/.test(d);if(o(!1),!h){r(""),alert("No readable text detected in this image");return}r(d)}).catch(()=>{o(!1),alert("Text recognition failed")}))};return re.jsx(Qv,{sx:{minHeight:"85vh",bgcolor:"#f4f6f8",display:"flex",justifyContent:"center",alignItems:"center"},children:re.jsx(H4,{sx:{width:500,borderRadius:3,boxShadow:5},children:re.jsxs(q4,{children:[re.jsx(Rw,{variant:"h5",fontWeight:"bold",children:"Image Text Recognition"}),re.jsxs(Nw,{variant:"contained",component:"label",fullWidth:!0,sx:{mb:2},children:["Upload Image",re.jsx("input",{hidden:!0,type:"file",accept:"image/*",onChange:u})]}),t&&re.jsx(Qv,{textAlign:"center",mb:2,children:re.jsx("img",{src:t,alt:"preview",style:{maxWidth:"100%",borderRadius:10}})}),t&&re.jsx(Nw,{variant:"outlined",fullWidth:!0,onClick:l,disabled:a,sx:{mb:2},children:"Recognize Text"}),a&&re.jsx(Qv,{display:"flex",justifyContent:"center",my:2,children:re.jsx(EE,{})}),e&&re.jsxs(re.Fragment,{children:[re.jsx(Rw,{fontWeight:"bold",mb:1,children:"Recognized Text"}),re.jsx(TB,{multiline:!0,rows:8,fullWidth:!0,value:e,InputProps:{readOnly:!0}})]})]})})})}var FE=function(t,n){return(FE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])})(t,n)};function ia(t,n){function e(){this.constructor=t}FE(t,n),t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function Ae(t,n,e,r){return new(e||(e=Promise))((function(a,o){function u(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):new e((function(h){h(d.value)})).then(u,l)}c((r=r.apply(t,[])).next())}))}function ke(t,n){var e,r,a,o,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(d){return(function(h){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(a=2&h[0]?r.return:h[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,h[1])).done)return a;switch(r=0,a&&(h=[2&h[0],a.value]),h[0]){case 0:case 1:a=h;break;case 4:return u.label++,{value:h[1],done:!1};case 5:u.label++,r=h[1],h=[0];continue;case 7:h=u.ops.pop(),u.trys.pop();continue;default:if(!(a=(a=u.trys).length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){u=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){u.label=h[1];break}if(h[0]===6&&u.label<a[1]){u.label=a[1],a=h;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(h);break}a[2]&&u.ops.pop(),u.trys.pop();continue}h=n.call(t,u)}catch(v){h=[6,v],r=0}finally{e=a=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}})([c,d])}}}var YB=(function(){function t(n){this.global=n,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return t.prototype.setPlatform=function(n,e){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+e+"."),this.platformName=n,this.platform=e},t.prototype.registerFlag=function(n,e,r){if(this.flagRegistry[n]={evaluationFn:e,setHook:r},this.urlFlags[n]!=null){var a=this.urlFlags[n];console.warn("Setting feature override from URL "+n+": "+a+"."),this.set(n,a)}},t.prototype.get=function(n){return n in this.flags?this.flags[n]:(this.flags[n]=this.evaluateFlag(n),this.flags[n])},t.prototype.getNumber=function(n){return this.get(n)},t.prototype.getBool=function(n){return this.get(n)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(n,e){if(this.flagRegistry[n]==null)throw new Error("Cannot set flag "+n+" as it has not been registered.");this.flags[n]=e,this.flagRegistry[n].setHook!=null&&this.flagRegistry[n].setHook(e)},t.prototype.evaluateFlag=function(n){if(this.flagRegistry[n]==null)throw new Error("Cannot evaluate flag '"+n+"': no evaluation function found.");return this.flagRegistry[n].evaluationFn()},t.prototype.setFlags=function(n){this.flags=Object.assign({},n)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var n=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var e,r,a=(e=this.global.location.search,r={},e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(o){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];return QB(r,u[0],u[1]),u.join("=")})),r);"tfjsflags"in a&&a.tfjsflags.split(",").forEach((function(o){var u=o.split(":"),l=u[0],c=u[1];n.urlFlags[l]=(function(d,h){if((h=h.toLowerCase())==="true"||h==="false")return h==="true";if(""+ +h===h)return+h;throw new Error("Could not parse value flag value "+h+" for flag "+d+".")})(l,c)}))}},t})();function QB(t,n,e){t[decodeURIComponent(n)]=decodeURIComponent(e||"")}function de(){return LE}var LE=null,md=new Map,hg=new Map;function PE(t,n){var e=UE(t,n);return md.get(e)}function ZB(t){return hg.get(t)}function fS(t){for(var n=md.entries(),e=[];;){var r=n.next(),a=r.done,o=r.value;if(a)break;var u=o[0],l=o[1];u.split("_")[0]===t&&e.push(l)}return e}function zE(t){var n=t.kernelName,e=t.backendName,r=UE(n,e);if(md.has(r))throw new Error("The kernel '"+n+"' for backend '"+e+"' is already registered");md.set(r,t)}function JB(t){var n=t.kernelName;hg.has(n)&&console.warn("Overriding the gradient for '"+n+"'"),hg.set(n,t)}function UE(t,n){return n+"_"+t}function pg(t,n,e){return Math.max(t,Math.min(n,e))}function WE(t){return t%2==0?t:t+1}function eF(t){for(var n=0,e=0;e<t.length;e++)n+=t[e];return n}function W(t,n){if(!t)throw new Error(typeof n=="string"?n:n())}function gt(t,n,e){e===void 0&&(e=""),W(Cn(t,n),(function(){return e+" Shapes "+t+" and "+n+" must match"}))}function mu(t){W(t!=null,(function(){return"The input to the tensor constructor must be a non-null value."}))}function su(t,n,e){if(n===void 0&&(n=[]),e===void 0&&(e=!1),n==null&&(n=[]),Array.isArray(t)||Ra(t)&&!e)for(var r=0;r<t.length;++r)su(t[r],n,e);else n.push(t);return n}function Ne(t){if(t.length===0)return 1;for(var n=t[0],e=1;e<t.length;e++)n*=t[e];return n}function Cn(t,n){if(t===n)return!0;if(t==null||n==null||t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function en(t){return t%1==0}function tF(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var n=Math.exp(2*t);return(n-1)/(n+1)}function vg(t){var n=Math.ceil(Math.sqrt(t));return[n,Math.ceil(t/n)]}function Zs(t,n){return n<=t.length?t:t+" ".repeat(n-t.length)}function dS(t,n,e){return n===void 0&&(n=function(r){return 0}),new Promise((function(r,a){var o=0,u=function(){if(t())r();else{o++;var l=n(o);e!=null&&o>=e?a():setTimeout(u,l)}};u()}))}function nF(t,n){for(var e=1,r=-1,a=0;a<t.length;++a)if(t[a]>=0)e*=t[a];else if(t[a]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(t[a]<0)throw Error("Shapes can not be < 0. Found "+t[a]+" at dim "+a);if(r===-1){if(n>0&&n!==e)throw Error("Size("+n+") must match the product of shape "+t);return t}if(e===0)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(n%e!=0)throw Error("The implicit shape can't be a fractional number. Got "+n+" / "+e);var o=t.slice();return o[r]=n/e,o}function bn(t,n){var e=n.length;return W((t=t==null?n.map((function(r,a){return a})):[].concat(t)).every((function(r){return r>=-e&&r<e})),(function(){return"All values in axis param must be in range [-"+e+", "+e+") but got axis "+t})),W(t.every((function(r){return en(r)})),(function(){return"All values in axis param must be integers but got axis "+t})),t.map((function(r){return r<0?e+r:r}))}function Ni(t,n){for(var e=[],r=[],a=n!=null&&Array.isArray(n)&&n.length===0,o=n==null||a?null:bn(n,t).sort(),u=0,l=0;l<t.length;++l){if(o!=null){if(o[u]===l&&t[l]!==1)throw new Error("Can't squeeze axis "+l+" since its dim '"+t[l]+"' is not 1");(o[u]==null||o[u]>l)&&t[l]===1&&(e.push(t[l]),r.push(l)),o[u]<=l&&u++}t[l]!==1&&(e.push(t[l]),r.push(l))}return{newShape:e,keptDims:r}}function Pl(t,n){var e=null;if(t==null||t==="float32")e=new Float32Array(n);else if(t==="int32")e=new Int32Array(n);else{if(t!=="bool")throw new Error("Unknown data type "+t);e=new Uint8Array(n)}return e}function gd(t,n){var e=null;if(t==null||t==="float32")e=new Float32Array(n);else if(t==="int32")e=new Int32Array(n);else if(t==="bool")e=new Uint8Array(n);else{if(t!=="string")throw new Error("Unknown data type "+t);e=new Array(n)}return e}function rF(t,n){for(var e=0;e<t.length;e++){var r=t[e];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+n+" being uploaded contains "+r+".")}}function aF(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function oF(t,n){return n!=="complex64"&&(n!=="float32"||t==="complex64")&&(n!=="int32"||t==="float32"||t==="complex64")&&(n!=="bool"||t!=="bool")}function Ra(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function HE(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype "+t)}function iF(t){if(t==null)return 0;var n=0;return t.forEach((function(e){return n+=e.length})),n}function xy(t){return typeof t=="string"||t instanceof String}function sF(t){return typeof t=="boolean"}function uF(t){return typeof t=="number"}function rc(t){return Array.isArray(t)?rc(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":uF(t)?"float32":xy(t)?"string":sF(t)?"bool":"float32"}function mg(t){return!!(t&&t.constructor&&t.call&&t.apply)}function gg(t,n){for(var e=n;e<t;++e)if(t%e==0)return e;return t}function _a(t){var n=t.length;if(n<2)return[];var e=new Array(n-1);e[n-2]=t[n-1];for(var r=n-3;r>=0;--r)e[r]=e[r+1]*t[r+1];return e}function jE(t,n,e){if(n==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=su(t)),e&&rF(t,n),(function(o,u){return o instanceof Float32Array&&u==="float32"||o instanceof Int32Array&&u==="int32"||o instanceof Uint8Array&&u==="bool"})(t,n))return t;if(n==null||n==="float32"||n==="complex64")return new Float32Array(t);if(n==="int32")return new Int32Array(t);if(n==="bool"){for(var r=new Uint8Array(t.length),a=0;a<r.length;++a)Math.round(t[a])!==0&&(r[a]=1);return r}throw new Error("Unknown data type "+n)}function hS(t,n){if(t.length===0)return n[0];var e=t.reduce((function(r,a){return r*a}));if(e===0)return[];if(e!==n.length)throw new Error("["+t+"] does not match the input size.");return(function r(a,o,u){var l=new Array;if(o.length===1)for(var c=o[0],d=0;d<c;d++)l[d]=u[a+d];else{c=o[0];var h=o.slice(1),v=h.reduce((function(m,g){return m*g}));for(d=0;d<c;d++)l[d]=r(a+d*v,h,u)}return l})(0,t,n)}function VE(t,n){for(var e=ac(t,n),r=0;r<e.length;r++)e[r]=1;return e}function ac(t,n){if(n==null||n==="float32"||n==="complex64")return new Float32Array(t);if(n==="int32")return new Int32Array(t);if(n==="bool")return new Uint8Array(t);throw new Error("Unknown data type "+n)}function ya(){return de().platform.now()}function GE(t){t.forEach((function(n){W(Number.isInteger(n)&&n>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+t+"]."}))}))}function lF(t,n){return n===void 0&&(n="utf-8"),n=n||"utf-8",de().platform.encode(t,n)}function yd(t,n){return n===void 0&&(n="utf-8"),n=n||"utf-8",de().platform.decode(t,n)}function pS(t,n,e){if(n===0)return 0;if(n===1)return t[0];for(var r=t[t.length-1],a=0;a<t.length-1;++a)r+=e[a]*t[a];return r}function cF(t,n,e){if(n===0)return[];if(n===1)return[t];for(var r=new Array(n),a=0;a<r.length-1;++a)r[a]=Math.floor(t/e[a]),t-=r[a]*e[a];return r[r.length-1]=t,r}var fF=(function(){function t(n,e){this.backendTimer=n,this.logger=e,e==null&&(this.logger=new dF)}return t.prototype.profileKernel=function(n,e,r){var a,o=this,u=this.backendTimer.time((function(){a=r()}));return a.forEach((function(l){l.data().then((function(c){(function(d,h,v){if(h!=="float32")return!1;for(var m=0;m<d.length;m++){var g=d[m];if(isNaN(g)||!isFinite(g))return console.warn("Found "+g+" in the result of '"+v+"'"),!0}})(c,l.dtype,n),u.then((function(d){var h="";d.getExtraProfileInfo!=null&&(h=d.getExtraProfileInfo()),o.logger.logKernelProfile(n,l,c,d.kernelMs,e,h)}))}))})),a},t})(),dF=(function(){function t(){}return t.prototype.logKernelProfile=function(n,e,r,a,o,u){var l=typeof a=="number"?Zs(a+"ms",9):a.error,c=Zs(n,25),d=e.rank,h=e.size,v=Zs(e.shape.toString(),14),m="";for(var g in o){var b=o[g].shape||e.shape,x=b.length;m+=g+": "+x+"D "+(x>0?b:"")+" "}console.log("%c"+c+"	%c"+l+"	%c"+d+"D "+v+"	%c"+h+"	%c"+m+"	%c"+u,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t})(),vS=20,yl=3,wm=7;function hF(t,n,e,r){var a=_a(n),o=(function(d,h,v,m){var g=Ne(h),b=m[m.length-1],x=new Array(b).fill(0),S=h.length,C=v==="complex64"?xl(d):d;if(S>1)for(var _=0;_<g/b;_++)for(var R=_*b,E=0;E<b;E++)x[E]=Math.max(x[E],bl(C[R+E],0,v).length);return x})(t,n,e,a),u=n.length,l=(function d(h,v,m,g,b,x){x===void 0&&(x=!0);var S=m==="complex64"?2:1,C=v[0],_=v.length;if(_===0)return m==="complex64"?[bl(xl(h)[0],0,m)]:m==="bool"?[qE(h[0])]:[h[0].toString()];if(_===1){if(C>vS){var R=yl*S,E=Array.from(h.slice(0,R)),T=Array.from(h.slice((C-yl)*S,C*S));return m==="complex64"&&(E=xl(E),T=xl(T)),["["+E.map((function(V,P){return bl(V,b[P],m)})).join(", ")+", ..., "+T.map((function(V,P){return bl(V,b[C-yl+P],m)})).join(", ")+"]"]}return["["+(m==="complex64"?xl(h):Array.from(h)).map((function(V,P){return bl(V,b[P],m)})).join(", ")+"]"]}var D=v.slice(1),N=g.slice(1),O=g[0]*S,I=[];if(C>vS){for(var B=0;B<yl;B++){var H=(A=B*O)+O;I.push.apply(I,d(h.slice(A,H),D,m,N,b,!1))}for(I.push("..."),B=C-yl;B<C;B++)H=(A=B*O)+O,I.push.apply(I,d(h.slice(A,H),D,m,N,b,B===C-1))}else for(B=0;B<C;B++){var A;H=(A=B*O)+O,I.push.apply(I,d(h.slice(A,H),D,m,N,b,B===C-1))}var q=_===2?",":"";for(I[0]="["+I[0]+q,B=1;B<I.length-1;B++)I[B]=" "+I[B]+q;var j=`,
`;for(B=2;B<_;B++)j+=`
`;return I[I.length-1]=" "+I[I.length-1]+"]"+(x?"":j),I})(t,n,e,a,o),c=["Tensor"];return r&&(c.push("  dtype: "+e),c.push("  rank: "+u),c.push("  shape: ["+n+"]"),c.push("  values:")),c.push(l.map((function(d){return"    "+d})).join(`
`)),c.join(`
`)}function bl(t,n,e){return Zs(Array.isArray(t)?parseFloat(t[0].toFixed(wm))+" + "+parseFloat(t[1].toFixed(wm))+"j":xy(t)?"'"+t+"'":e==="bool"?qE(t):parseFloat(t.toFixed(wm)).toString(),n)}function qE(t){return t===0?"false":"true"}function xl(t){for(var n=[],e=0;e<t.length;e+=2)n.push([t[e],t[e+1]]);return n}var zl=(function(){function t(n,e,r){var a=this;if(this.dtype=e,this.shape=n.slice(),this.size=Ne(n),r!=null){var o=r.length;W(o===this.size,(function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+a.size+"'."}))}if(e==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||gd(e,this.size),this.strides=_a(n)}return t.prototype.set=function(n){for(var e=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];r.length===0&&(r=[0]),W(r.length===this.rank,(function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+e.rank+")"}));var o=this.locToIndex(r);this.values[o]=n},t.prototype.get=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];n.length===0&&(n=[0]);for(var r=0,a=0,o=n;a<o.length;a++){var u=o[a];if(u<0||u>=this.shape[r]){var l="Requested out of range element at "+n+".   Buffer shape="+this.shape;throw new Error(l)}r++}for(var c=n[n.length-1],d=0;d<n.length-1;++d)c+=this.strides[d]*n[d];return this.values[c]},t.prototype.locToIndex=function(n){if(this.rank===0)return 0;if(this.rank===1)return n[0];for(var e=n[n.length-1],r=0;r<n.length-1;++r)e+=this.strides[r]*n[r];return e},t.prototype.indexToLoc=function(n){if(this.rank===0)return[];if(this.rank===1)return[n];for(var e=new Array(this.shape.length),r=0;r<e.length-1;++r)e[r]=Math.floor(n/this.strides[r]),n-=e[r]*this.strides[r];return e[e.length-1]=n,e},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return xa().makeTensor(this.values,this.shape,this.dtype)},t})(),xa=null,le=null,$E=null,Ut=(function(){function t(n,e,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=n.slice(),this.dtype=e||"float32",this.size=Ne(n),this.strides=_a(n),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),W(this.size===1,(function(){return"The array must have only 1 element."})),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(n,e){return this.throwIfDisposed(),this.reshape([n,e])},t.prototype.as3D=function(n,e,r){return this.throwIfDisposed(),this.reshape([n,e,r])},t.prototype.as4D=function(n,e,r,a){return this.throwIfDisposed(),this.reshape([n,e,r,a])},t.prototype.as5D=function(n,e,r,a,o){return this.throwIfDisposed(),this.reshape([n,e,r,a,o])},t.prototype.asType=function(n){return this.throwIfDisposed(),le.cast(this,n)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return Ae(this,void 0,void 0,(function(){var n;return ke(this,(function(e){switch(e.label){case 0:return[4,this.data()];case 1:return n=e.sent(),[2,le.buffer(this.shape,this.dtype,n)]}}))}))},t.prototype.bufferSync=function(){return le.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return Ae(this,void 0,void 0,(function(){var n;return ke(this,(function(e){switch(e.label){case 0:return[4,this.data()];case 1:return n=e.sent(),[2,hS(this.shape,n)]}}))}))},t.prototype.arraySync=function(){return hS(this.shape,this.dataSync())},t.prototype.data=function(){return Ae(this,void 0,void 0,(function(){var n,e;return ke(this,(function(r){switch(r.label){case 0:return this.throwIfDisposed(),n=xa().read(this.dataId),this.dtype!=="string"?[3,2]:[4,n];case 1:e=r.sent();try{return[2,e.map((function(a){return yd(a)}))]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,n]}}))}))},t.prototype.dataSync=function(){this.throwIfDisposed();var n=xa().readSync(this.dataId);if(this.dtype==="string")try{return n.map((function(e){return yd(e)}))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return n},t.prototype.bytes=function(){return Ae(this,void 0,void 0,(function(){var n;return ke(this,(function(e){switch(e.label){case 0:return this.throwIfDisposed(),[4,xa().read(this.dataId)];case 1:return n=e.sent(),this.dtype==="string"?[2,n]:[2,new Uint8Array(n.buffer)]}}))}))},t.prototype.dispose=function(){this.isDisposed||(xa().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(n){return n===void 0&&(n=!1),le.print(this,n)},t.prototype.reshape=function(n){return this.throwIfDisposed(),le.reshape(this,n)},t.prototype.reshapeAs=function(n){return this.throwIfDisposed(),this.reshape(n.shape)},t.prototype.expandDims=function(n){return n===void 0&&(n=0),le.expandDims(this,n)},t.prototype.cumsum=function(n,e,r){return n===void 0&&(n=0),e===void 0&&(e=!1),r===void 0&&(r=!1),le.cumsum(this,n,e,r)},t.prototype.squeeze=function(n){return this.throwIfDisposed(),le.squeeze(this,n)},t.prototype.clone=function(){return this.throwIfDisposed(),le.clone(this)},t.prototype.oneHot=function(n,e,r){return this.throwIfDisposed(),le.oneHot(this,n,e,r)},t.prototype.toString=function(n){return n===void 0&&(n=!1),hF(this.dataSync(),this.shape,this.dtype,n)},t.prototype.tile=function(n){return this.throwIfDisposed(),le.tile(this,n)},t.prototype.gather=function(n,e){return e===void 0&&(e=0),this.throwIfDisposed(),le.gather(this,n,e)},t.prototype.matMul=function(n,e,r){return e===void 0&&(e=!1),r===void 0&&(r=!1),this.throwIfDisposed(),le.matMul(this,n,e,r)},t.prototype.dot=function(n){return this.throwIfDisposed(),le.dot(this,n)},t.prototype.norm=function(n,e,r){return n===void 0&&(n="euclidean"),e===void 0&&(e=null),r===void 0&&(r=!1),this.throwIfDisposed(),le.norm(this,n,e,r)},t.prototype.slice=function(n,e){return this.throwIfDisposed(),le.slice(this,n,e)},t.prototype.reverse=function(n){return this.throwIfDisposed(),le.reverse(this,n)},t.prototype.concat=function(n,e){return e===void 0&&(e=0),this.throwIfDisposed(),n instanceof t&&(n=[n]),le.concat([this].concat(n),e)},t.prototype.split=function(n,e){return e===void 0&&(e=0),this.throwIfDisposed(),le.split(this,n,e)},t.prototype.stack=function(n,e){return e===void 0&&(e=0),le.stack([this,n],e)},t.prototype.unstack=function(n){return n===void 0&&(n=0),le.unstack(this,n)},t.prototype.pad=function(n,e){return e===void 0&&(e=0),le.pad(this,n,e)},t.prototype.batchNormalization=function(n,e,r,a,o){return r===void 0&&(r=.001),$E("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(n,e,o,a,r)},t.prototype.batchNorm=function(n,e,r,a,o){return o===void 0&&(o=.001),this.throwIfDisposed(),le.batchNorm(this,n,e,r,a,o)},t.prototype.all=function(n,e){return n===void 0&&(n=null),e===void 0&&(e=!1),this.throwIfDisposed(),le.all(this,n,e)},t.prototype.any=function(n,e){return n===void 0&&(n=null),e===void 0&&(e=!1),this.throwIfDisposed(),le.any(this,n,e)},t.prototype.logSumExp=function(n,e){return n===void 0&&(n=null),e===void 0&&(e=!1),this.throwIfDisposed(),le.logSumExp(this,n,e)},t.prototype.sum=function(n,e){return n===void 0&&(n=null),e===void 0&&(e=!1),this.throwIfDisposed(),le.sum(this,n,e)},t.prototype.prod=function(n,e){return n===void 0&&(n=null),e===void 0&&(e=!1),this.throwIfDisposed(),le.prod(this,n,e)},t.prototype.mean=function(n,e){return n===void 0&&(n=null),e===void 0&&(e=!1),this.throwIfDisposed(),le.mean(this,n,e)},t.prototype.min=function(n,e){return n===void 0&&(n=null),e===void 0&&(e=!1),this.throwIfDisposed(),le.min(this,n,e)},t.prototype.max=function(n,e){return n===void 0&&(n=null),e===void 0&&(e=!1),this.throwIfDisposed(),le.max(this,n,e)},t.prototype.argMin=function(n){return n===void 0&&(n=null),this.throwIfDisposed(),le.argMin(this,n)},t.prototype.argMax=function(n){return n===void 0&&(n=null),this.throwIfDisposed(),le.argMax(this,n)},t.prototype.cast=function(n){return this.throwIfDisposed(),le.cast(this,n)},t.prototype.add=function(n){return this.throwIfDisposed(),le.add(this,n)},t.prototype.addStrict=function(n){return this.throwIfDisposed(),le.addStrict(this,n)},t.prototype.atan2=function(n){return this.throwIfDisposed(),le.atan2(this,n)},t.prototype.sub=function(n){return this.throwIfDisposed(),le.sub(this,n)},t.prototype.subStrict=function(n){return this.throwIfDisposed(),le.subStrict(this,n)},t.prototype.pow=function(n){return this.throwIfDisposed(),le.pow(this,n)},t.prototype.powStrict=function(n){return this.throwIfDisposed(),le.powStrict(this,n)},t.prototype.mul=function(n){return this.throwIfDisposed(),le.mul(this,n)},t.prototype.mulStrict=function(n){return this.throwIfDisposed(),le.mulStrict(this,n)},t.prototype.div=function(n){return this.throwIfDisposed(),le.div(this,n)},t.prototype.divNoNan=function(n){return this.throwIfDisposed(),le.divNoNan(this,n)},t.prototype.floorDiv=function(n){return this.throwIfDisposed(),le.floorDiv(this,n)},t.prototype.divStrict=function(n){return this.throwIfDisposed(),le.divStrict(this,n)},t.prototype.minimum=function(n){return this.throwIfDisposed(),le.minimum(this,n)},t.prototype.minimumStrict=function(n){return this.throwIfDisposed(),le.minimumStrict(this,n)},t.prototype.maximum=function(n){return this.throwIfDisposed(),le.maximum(this,n)},t.prototype.maximumStrict=function(n){return this.throwIfDisposed(),le.maximumStrict(this,n)},t.prototype.mod=function(n){return this.throwIfDisposed(),le.mod(this,n)},t.prototype.modStrict=function(n){return this.throwIfDisposed(),le.modStrict(this,n)},t.prototype.squaredDifferenceStrict=function(n){return this.throwIfDisposed(),le.squaredDifferenceStrict(this,n)},t.prototype.transpose=function(n){return this.throwIfDisposed(),le.transpose(this,n)},t.prototype.notEqual=function(n){return this.throwIfDisposed(),le.notEqual(this,n)},t.prototype.notEqualStrict=function(n){return this.throwIfDisposed(),le.notEqualStrict(this,n)},t.prototype.less=function(n){return this.throwIfDisposed(),le.less(this,n)},t.prototype.lessStrict=function(n){return this.throwIfDisposed(),le.lessStrict(this,n)},t.prototype.equal=function(n){return this.throwIfDisposed(),le.equal(this,n)},t.prototype.equalStrict=function(n){return this.throwIfDisposed(),le.equalStrict(this,n)},t.prototype.lessEqual=function(n){return this.throwIfDisposed(),le.lessEqual(this,n)},t.prototype.lessEqualStrict=function(n){return this.throwIfDisposed(),le.lessEqualStrict(this,n)},t.prototype.greater=function(n){return this.throwIfDisposed(),le.greater(this,n)},t.prototype.greaterStrict=function(n){return this.throwIfDisposed(),le.greaterStrict(this,n)},t.prototype.greaterEqual=function(n){return this.throwIfDisposed(),le.greaterEqual(this,n)},t.prototype.greaterEqualStrict=function(n){return this.throwIfDisposed(),le.greaterEqualStrict(this,n)},t.prototype.logicalAnd=function(n){return this.throwIfDisposed(),le.logicalAnd(this,n)},t.prototype.logicalOr=function(n){return this.throwIfDisposed(),le.logicalOr(this,n)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),le.logicalNot(this)},t.prototype.logicalXor=function(n){return this.throwIfDisposed(),le.logicalXor(this,n)},t.prototype.where=function(n,e){return this.throwIfDisposed(),le.where(n,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),le.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),le.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),le.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),le.sign(this)},t.prototype.isNaN=function(){return this.throwIfDisposed(),le.isNaN(this)},t.prototype.isInf=function(){return this.throwIfDisposed(),le.isInf(this)},t.prototype.isFinite=function(){return this.throwIfDisposed(),le.isFinite(this)},t.prototype.exp=function(){return this.throwIfDisposed(),le.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),le.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),le.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),le.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),le.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),le.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),le.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),le.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),le.abs(this)},t.prototype.clipByValue=function(n,e){return this.throwIfDisposed(),le.clipByValue(this,n,e)},t.prototype.relu=function(){return this.throwIfDisposed(),le.relu(this)},t.prototype.relu6=function(){return this.throwIfDisposed(),le.relu6(this)},t.prototype.elu=function(){return this.throwIfDisposed(),le.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),le.selu(this)},t.prototype.leakyRelu=function(n){return n===void 0&&(n=.2),this.throwIfDisposed(),le.leakyRelu(this,n)},t.prototype.prelu=function(n){return this.throwIfDisposed(),le.prelu(this,n)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),le.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),le.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),le.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),le.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),le.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),le.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),le.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),le.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),le.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),le.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),le.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),le.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),le.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),le.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),le.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),le.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),le.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),le.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),le.round(this)},t.prototype.step=function(n){return n===void 0&&(n=0),this.throwIfDisposed(),le.step(this,n)},t.prototype.softmax=function(n){return n===void 0&&(n=-1),this.throwIfDisposed(),le.softmax(this,n)},t.prototype.logSoftmax=function(n){return n===void 0&&(n=-1),this.throwIfDisposed(),le.logSoftmax(this,n)},t.prototype.resizeBilinear=function(n,e){return e===void 0&&(e=!1),this.throwIfDisposed(),le.image.resizeBilinear(this,n,e)},t.prototype.resizeNearestNeighbor=function(n,e){return e===void 0&&(e=!1),this.throwIfDisposed(),le.image.resizeNearestNeighbor(this,n,e)},t.prototype.conv1d=function(n,e,r,a,o,u){return a===void 0&&(a="NWC"),o===void 0&&(o=1),this.throwIfDisposed(),le.conv1d(this,n,e,r,a,o,u)},t.prototype.conv2d=function(n,e,r,a,o,u){return a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),le.conv2d(this,n,e,r,a,o,u)},t.prototype.conv2dTranspose=function(n,e,r,a,o){return this.throwIfDisposed(),le.conv2dTranspose(this,n,e,r,a,o)},t.prototype.depthwiseConv2D=function(n,e,r,a,o,u){return a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),le.depthwiseConv2d(this,n,e,r,a,o,u)},t.prototype.separableConv2d=function(n,e,r,a,o,u){return o===void 0&&(o=[1,1]),u===void 0&&(u="NHWC"),this.throwIfDisposed(),le.separableConv2d(this,n,e,r,a,o,u)},t.prototype.avgPool=function(n,e,r,a){return this.throwIfDisposed(),le.avgPool(this,n,e,r,a)},t.prototype.maxPool=function(n,e,r,a){return this.throwIfDisposed(),le.maxPool(this,n,e,r,a)},t.prototype.localResponseNormalization=function(n,e,r,a){return n===void 0&&(n=5),e===void 0&&(e=1),r===void 0&&(r=1),a===void 0&&(a=.5),le.localResponseNormalization(this,n,e,r,a)},t.prototype.pool=function(n,e,r,a,o){return this.throwIfDisposed(),le.pool(this,n,e,r,a,o)},t.prototype.variable=function(n,e,r){return n===void 0&&(n=!0),this.throwIfDisposed(),xa().makeVariable(this,n,e,r)},t.prototype.unsortedSegmentSum=function(n,e){return this.throwIfDisposed(),le.unsortedSegmentSum(this,n,e)},t.prototype.batchToSpaceND=function(n,e){return this.throwIfDisposed(),le.batchToSpaceND(this,n,e)},t.prototype.spaceToBatchND=function(n,e){return this.throwIfDisposed(),le.spaceToBatchND(this,n,e)},t.prototype.topk=function(n,e){return n===void 0&&(n=1),e===void 0&&(e=!0),this.throwIfDisposed(),le.topk(this,n,e)},t.prototype.stridedSlice=function(n,e,r,a,o,u,l,c){return a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=0),l===void 0&&(l=0),c===void 0&&(c=0),this.throwIfDisposed(),le.stridedSlice(this,n,e,r,a,o,u,l,c)},t.prototype.depthToSpace=function(n,e){return this.throwIfDisposed(),le.depthToSpace(this,n,e)},t.prototype.fft=function(){return this.throwIfDisposed(),le.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),le.spectral.ifft(this)},t.prototype.rfft=function(){return this.throwIfDisposed(),le.spectral.rfft(this)},t.prototype.irfft=function(){return this.throwIfDisposed(),le.spectral.irfft(this)},t})();Object.defineProperty(Ut,Symbol.hasInstance,{value:function(t){return!!t&&t.dataId!=null&&t.shape!=null&&t.dtype!=null}});var mS,yg,bg,xg,wg,uu=(function(t){function n(e,r,a,o){var u=t.call(this,e.shape,e.dtype,e.dataId,o)||this;return u.trainable=r,u.name=a,u}return ia(n,t),n.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!Cn(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");xa().disposeTensor(this),this.dataId=e.dataId,xa().incRef(this,null)},n.prototype.dispose=function(){xa().disposeVariable(this),this.isDisposedInternal=!0},n})(Ut);Object.defineProperty(uu,Symbol.hasInstance,{value:function(t){return t instanceof Ut&&t.assign!=null&&t.assign instanceof Function}}),(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(mS||(mS={})),(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(yg||(yg={})),(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(bg||(bg={})),(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(xg||(xg={})),(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(wg||(wg={}));var pF={float32:xg,int32:yg,bool:bg,complex64:wg};function Mn(t,n){if(t==="string"||n==="string"){if(t==="string"&&n==="string")return"string";throw new Error("Can not upcast "+t+" with "+n)}return pF[t][n]}function Sm(t){return Mn(t,"int32")}function jt(t,n){if(t.dtype===n.dtype)return[t,n];var e=Mn(t.dtype,n.dtype);return[t.cast(e),n.cast(e)]}function vF(t,n){W(t.dtype===n.dtype,(function(){return"The dtypes of the first("+t.dtype+") and second("+n.dtype+") input must match"}))}function KE(t){var n=[];return(function e(r,a,o){if(r!=null){if(r instanceof Ut)return void a.push(r);if(u=r,!(!Array.isArray(u)&&typeof u!="object")){var u,l=r;for(var c in l){var d=l[c];o.has(d)||(o.add(d),e(d,a,o))}}}})(t,n,new Set),n}var Cm,gS=(function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.dispose=function(){for(var n in this.registeredVariables)this.registeredVariables[n].dispose()},t})(),mF=(function(){function t(n){this.ENV=n,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new gS}return t.prototype.ready=function(){return Ae(this,void 0,void 0,(function(){var n,e,r;return ke(this,(function(a){switch(a.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then((function(){}))];if(this.backendInstance!=null)return[2];n=this.getSortedBackends(),e=0,a.label=1;case 1:return e<n.length?(r=n[e],[4,this.initializeBackend(r).success]):[3,5];case 2:return a.sent()?[4,this.setBackend(r)]:[3,4];case 3:return a.sent(),[2];case 4:return e++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(t.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var n=this.initializeBackendsAndReturnBest(),e=n.name;if(n.asyncInit)throw new Error("The highest priority backend '"+e+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(n){return!(n in this.registry)&&(!(n in this.registryFactory)||this.initializeBackend(n).asyncInit)?null:this.registry[n]},t.prototype.findBackendFactory=function(n){return n in this.registryFactory?this.registryFactory[n].factory:null},t.prototype.registerBackend=function(n,e,r){return r===void 0&&(r=1),n in this.registryFactory?(console.warn(n+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[n]={factory:e,priority:r},!0)},t.prototype.setBackend=function(n){return Ae(this,void 0,void 0,(function(){var e,r,a;return ke(this,(function(o){switch(o.label){case 0:if(this.registryFactory[n]==null)throw new Error("Backend name '"+n+"' not found in registry");return this.backendName=n,this.registry[n]!=null?[3,4]:(this.backendInstance=null,e=this.initializeBackend(n),r=e.success,e.asyncInit?[4,r]:[3,2]);case 1:return a=o.sent(),[3,3];case 2:a=r,o.label=3;case 3:if(!a)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[n],this.setupRegisteredKernels(),this.profiler=new fF(this.backendInstance),[2,!0]}}))}))},t.prototype.setupRegisteredKernels=function(){var n=this;fS(this.backendName).forEach((function(e){e.setupFunc!=null&&e.setupFunc(n.backendInstance)}))},t.prototype.disposeRegisteredKernels=function(n){var e=this;fS(n).forEach((function(r){r.disposeFunc!=null&&r.disposeFunc(e.registry[n])}))},t.prototype.initializeBackend=function(n){var e=this,r=this.registryFactory[n];if(r==null)throw new Error("Cannot initialize backend "+n+", no registration found.");try{var a=r.factory();if(Promise.resolve(a)===a){var o=++this.pendingBackendInitId,u=a.then((function(l){return!(o<e.pendingBackendInitId)&&(e.registry[n]=l,e.pendingBackendInit=null,!0)})).catch((function(l){return!(o<e.pendingBackendInitId)&&(e.pendingBackendInit=null,console.warn("Initialization of backend "+n+" failed"),console.warn(l.stack||l.message),!1)}));return this.pendingBackendInit=u,{success:u,asyncInit:!0}}return this.registry[n]=a,{success:!0,asyncInit:!1}}catch(l){return console.warn("Initialization of backend "+n+" failed"),console.warn(l.stack||l.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(n){if(!(n in this.registryFactory))throw new Error(n+" backend not found in registry");this.backendName===n&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,n in this.registry&&(this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n]),delete this.registryFactory[n],this.backendName===n&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var n=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(e,r){return n.registryFactory[r].priority-n.registryFactory[e].priority}))},t.prototype.initializeBackendsAndReturnBest=function(){for(var n=this.getSortedBackends(),e=0;e<n.length;e++){var r=n[e],a=this.initializeBackend(r),o=a.success,u=a.asyncInit;if(u||o)return{name:r,asyncInit:u}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(n,e){var r=this.state.tensorInfo.get(e),a=r.backend,o=this.readSync(e);a.disposeData(e),r.backend=n,n.move(e,o,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(n,e){var r,a=this,o=null;if(e==null){if(typeof n!="function")throw new Error("Please provide a function to tidy()");e=n}else{if(typeof n!="string"&&!(n instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof e!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=n}return this.scopedRun((function(){return a.startScope(o)}),(function(){return a.endScope(r)}),(function(){return(r=e())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r}))},t.prototype.scopedRun=function(n,e,r){n();try{var a=r();return e(),a}catch(o){throw e(),o}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(n){var e=this.makeTensorFromDataId(n.dataId,n.shape,n.dtype),r={x:n};return this.addTapeNode(this.state.activeScope.name,r,[e],(function(a){return{x:function(){return a.toFloat()}}}),[]),e},t.prototype.runKernel=function(n,e,r,a,o){return this.runKernelFunc(null,e,null,n,r,a,o)},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(n,e,r){var a=this.backend.numDataIds(),o=0;r.forEach((function(c){o+=c.dtype==="complex64"?3:1}));var u=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],l=a-e-o-u;if(l>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+l+" data ids) after running '"+n+"'")},t.prototype.runKernelFunc=function(n,e,r,a,o,u,l){var c,d=this;u===void 0&&(u=[]),l===void 0&&(l=[]);var h=[],v=this.isTapeOn();a==null&&(a=this.state.activeScope!=null?this.state.activeScope.name:"");var m,g=function(_){v&&(h=_.map((function(R){return d.keep(d.clone(R))})))},b=this.state.numBytes,x=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var S,C=PE(a,this.backendName);return m=C!=null?function(){var _=d.backend.numDataIds();S=C.kernelFunc({inputs:e,attrs:o,backend:d.backend});var R=Array.isArray(S)?S:[S];d.shouldCheckForMemLeaks()&&d.checkKernelForMemLeak(a,_,R);var E=R.map((function(D){var N=D.dataId,O=D.shape,I=D.dtype;return d.makeTensorFromDataId(N,O,I)})),T=E.filter((function(D,N){return l[N]}));return g((u||[]).slice().concat(T)),E}:function(){var _=d.backend.numDataIds();S=d.tidy((function(){return n(d.backend,g)}));var R=Array.isArray(S)?S:[S];return d.shouldCheckForMemLeaks()&&d.checkKernelForMemLeak(a,_,R),R},this.scopedRun((function(){return d.state.kernelDepth++}),(function(){return d.state.kernelDepth--}),(function(){c=d.ENV.getBool("DEBUG")?d.profiler.profileKernel(a,e,(function(){return m()})):m()})),v&&this.addTapeNode(a,e,c,r,h),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-b,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-x,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map((function(_){return e[_].shape})),outputShapes:c.map((function(_){return _.shape}))}),Array.isArray(S)?c:c[0]},t.prototype.makeTensor=function(n,e,r,a){if(n==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;var o=n;r==="string"&&xy(n[0])&&(o=n.map((function(h){return lF(h)})));var u=a.write(o,e,r),l=new Ut(e,r,u,this.nextTensorId());if(this.incRef(l,a),r==="string"){var c=this.state.tensorInfo.get(u),d=iF(o);this.state.numBytes+=d-c.bytes,c.bytes=d}return l},t.prototype.makeTensorFromDataId=function(n,e,r,a){var o=new Ut(e,r=r||"float32",n,this.nextTensorId());return this.incRef(o,a),o},t.prototype.makeVariable=function(n,e,r,a){e===void 0&&(e=!0),r=r||this.nextVariableId().toString(),a!=null&&a!==n.dtype&&(n=n.asType(a));var o=new uu(n,e,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},t.prototype.incRef=function(n,e){var r=this.state.tensorInfo.has(n.dataId)?this.state.tensorInfo.get(n.dataId).refCount:0;if(this.state.numTensors++,n.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var a=0;n.dtype!=="complex64"&&n.dtype!=="string"&&(a=n.size*HE(n.dtype)),this.state.tensorInfo.set(n.dataId,{backend:e||this.backend,dtype:n.dtype,shape:n.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(n.dataId).refCount++,n instanceof uu||this.track(n)},t.prototype.disposeTensor=function(n){if(this.state.tensorInfo.has(n.dataId)){this.state.numTensors--,n.dtype==="string"&&this.state.numStringTensors--;var e=this.state.tensorInfo.get(n.dataId);e.refCount<=1?(n.dtype!=="complex64"&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(n.dataId),this.state.tensorInfo.delete(n.dataId)):this.state.tensorInfo.get(n.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var n in this.state.registeredVariables){var e=this.state.registeredVariables[n];this.disposeVariable(e)}},t.prototype.disposeVariable=function(n){this.disposeTensor(n),this.state.registeredVariables[n.name]!=null&&delete this.state.registeredVariables[n.name]},t.prototype.memory=function(){var n=this.backend.memory();return n.numTensors=this.state.numTensors,n.numDataBuffers=this.state.numDataBuffers,n.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(n.unreliable=!0,n.reasons==null&&(n.reasons=[]),n.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),n},t.prototype.profile=function(n){return Ae(this,void 0,void 0,(function(){var e,r;return ke(this,(function(a){return this.state.profiling=!0,e=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=n(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(o){return o.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]}))}))},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},t.prototype.addTapeNode=function(n,e,r,a,o){var u=this,l={id:this.state.nextTapeNodeId++,kernelName:n,inputs:e,outputs:r,saved:o},c=ZB(n);c!=null&&(a=c.gradFunc),a!=null&&(l.gradient=function(d){return d=d.map((function(h,v){if(h==null){var m=r[v],g=ac(m.size,m.dtype);return u.makeTensor(g,m.shape,m.dtype)}return h})),a(d.length>1?d:d[0],o)}),this.state.activeTape.push(l)},t.prototype.keep=function(n){return n.kept=!0,n},t.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(n){var e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};n&&(e.name=n),this.state.scopeStack.push(e),this.state.activeScope=e},t.prototype.endScope=function(n){for(var e=this,r=KE(n),a=new Set(r.map((function(c){return c.id}))),o=0;o<this.state.activeScope.track.length;o++){var u=this.state.activeScope.track[o];u.kept||a.has(u.id)||u.dispose()}var l=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach((function(c){c.kept||c.scopeId!==l.id||e.track(c)}))},t.prototype.gradients=function(n,e,r,a){var o=this;if(a===void 0&&(a=!1),W(e.length>0,(function(){return"gradients() received an empty list of xs."})),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var u=this.scopedRun((function(){return o.startTape()}),(function(){return o.endTape()}),(function(){return o.tidy("forward",n)}));W(u instanceof Ut,(function(){return"The result y returned by f() must be a tensor."}));var l=(function(c,d,h){for(var v={},m={},g=0;g<d.length;g++)v[d[g].id]=!0;for(g=0;g<c.length;g++){var b=(D=c[g]).inputs;for(var x in b){for(var S=b[x],C=!1,_=0;_<d.length;_++)if(v[S.id]){D.outputs.forEach((function(B){return v[B.id]=!0})),C=!0,m[D.id]=!0;break}if(C)break}}var R={};R[h.id]=!0;var E={};for(g=c.length-1;g>=0;g--)for(b=(D=c[g]).inputs,_=0;_<D.outputs.length;_++)if(R[D.outputs[_].id]){for(var x in b)R[b[x].id]=!0,E[D.id]=!0;break}var T=[];for(g=0;g<c.length;g++){var D;if(m[(D=c[g]).id]&&E[D.id]){var N={};for(var x in D.inputs){var O=D.inputs[x];v[O.id]&&(N[x]=O)}var I=Object.assign({},D);I.inputs=N,I.outputs=D.outputs,T.push(I)}}return T})(this.state.activeTape,e,u);if(!a&&l.length===0&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var c,d,h={};h[u.id]=r??(c=u.shape,d=VE(Ne(c),"float32"),ee.makeTensor(d,c,"float32")),(function(m,g,b){for(var x=function(C){var _=g[C],R=[];if(_.outputs.forEach((function(N){var O=m[N.id];O!=null?R.push(O):R.push(null)})),_.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+_.kernelName+".");var E=_.gradient(R),T=function(N){if(!(N in E))throw new Error("Cannot backprop through input "+N+". Available gradients found: "+Object.keys(E)+".");var O=b((function(){return E[N]()}));if(O.dtype!=="float32")throw new Error("Error in gradient for op "+_.kernelName+". The gradient of input "+N+" must have 'float32' dtype, but has '"+O.dtype+"'");var I=_.inputs[N];if(!Cn(O.shape,I.shape))throw new Error("Error in gradient for op "+_.kernelName+". The gradient of input '"+N+"' has shape '"+O.shape+"', which does not match the shape of the input '"+I.shape+"'");if(m[I.id]==null)m[I.id]=O;else{var B=m[I.id];m[I.id]=B.add(O),B.dispose()}};for(var D in _.inputs)T(D)},S=g.length-1;S>=0;S--)x(S)})(h,l,(function(m){return o.tidy(m)}));var v=e.map((function(m){return h[m.id]}));return o.state.gradientDepth===0&&(o.state.activeTape.forEach((function(m){for(var g=0,b=m.saved;g<b.length;g++)b[g].dispose()})),o.state.activeTape=null),{value:u,grads:v}}))},t.prototype.customGrad=function(n){var e=this;return W(mg(n),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var r,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];W(a.every((function(l){return l instanceof Ut})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var u={};return a.forEach((function(l,c){u[c]=l})),e.runKernelFunc((function(l,c){return W((r=n.apply(void 0,a.concat([c]))).value instanceof Ut,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),W(mg(r.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),r.value}),u,(function(l,c){var d=r.gradFunc(l,c),h=Array.isArray(d)?d:[d];W(h.length===a.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),W(h.every((function(m){return m instanceof Ut})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var v={};return h.forEach((function(m,g){v[g]=function(){return m}})),v}))}},t.prototype.readSync=function(n){return this.state.tensorInfo.get(n).backend.readSync(n)},t.prototype.read=function(n){return this.state.tensorInfo.get(n).backend.read(n)},t.prototype.time=function(n){return Ae(this,void 0,void 0,(function(){var e,r;return ke(this,(function(a){switch(a.label){case 0:return e=ya(),[4,this.backend.time(n)];case 1:return(r=a.sent()).wallMs=ya()-e,[2,r]}}))}))},t.prototype.track=function(n){return this.state.activeScope!=null&&(n.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(n)),n},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){for(var n in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new gS,this.registry)this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t.nextTensorId=0,t.nextVariableId=0,t})(),ee=(function(){var t=(function(){if(Cm==null){var e=void 0;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else{if(typeof self>"u")throw new Error("Could not find a global object");e=self}Cm=e}return Cm})();if(t._tfengine==null){var n=new YB(t);t._tfengine=new mF(n)}return(function(e){LE=e})(t._tfengine.ENV),xa=function(){return t._tfengine},t._tfengine})();function XE(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var to=de();to.registerFlag("DEBUG",(function(){return!1}),(function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),to.registerFlag("IS_BROWSER",(function(){return XE()})),to.registerFlag("IS_NODE",(function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0})),to.registerFlag("IS_CHROME",(function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),to.registerFlag("PROD",(function(){return!1})),to.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return to.getBool("DEBUG")})),to.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),to.registerFlag("IS_TEST",(function(){return!1}));var Ul,Cr,wr,ki={},Em={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function gF(t,n){ki[t]=n}function Ma(t){t in ki||(ki[t]=(function(e){if(e!==1&&e!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=(function(a){if(typeof OffscreenCanvas<"u"&&a===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")})(e);return r.addEventListener("webglcontextlost",(function(a){a.preventDefault(),delete ki[e]}),!1),e===1?r.getContext("webgl",Em)||r.getContext("experimental-webgl",Em):r.getContext("webgl2",Em)})(t));var n=ki[t];return n.isContextLost()?(delete ki[t],Ma(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),ki[t])}function oh(t,n){return[n,t]}function Dl(t){var n=Ne(t);return vg(Math.ceil(n/4))}function oc(t,n){return[Math.max(1,Math.ceil(n/2)),Math.max(1,Math.ceil(t/2))]}function wy(t,n){var e,r,a,o,u,l,c,d,h,v=t;return de().getNumber("WEBGL_VERSION")===2?(e=v.R32F,r=v.R16F,a=v.RGBA16F,o=v.RGBA32F,u=v.RED,l=4,c=1,d=v.HALF_FLOAT,h=v.FLOAT):(e=t.RGBA,r=t.RGBA,a=t.RGBA,o=v.RGBA,u=t.RGBA,l=4,c=4,d=n!=null?n.HALF_FLOAT_OES:null,h=t.FLOAT),{internalFormatFloat:e,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:u,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:l,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:h}}function Oe(t,n,e){var r=e();return n&&(function(a){var o=a.getError();if(o!==a.NO_ERROR)throw new Error("WebGL Error: "+wF(a,o))})(t),r}(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(Ul||(Ul={})),(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(Cr||(Cr={})),(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(wr||(wr={}));var yF=596e-10,bF=65504;function xF(t){return!!(de().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||yF<Math.abs(t)&&Math.abs(t)<bF)}function wF(t,n){switch(n){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+n}}function Bf(t,n,e){return co(t,n,(function(){return t.getExtension(e)}),'Extension "'+e+'" not supported on this browser.')}function SF(t,n,e){var r=co(t,n,(function(){return t.createShader(t.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Oe(t,n,(function(){return t.shaderSource(r,e)})),Oe(t,n,(function(){return t.compileShader(r)})),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function CF(t,n,e){var r=co(t,n,(function(){return t.createShader(t.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Oe(t,n,(function(){return t.shaderSource(r,e)})),Oe(t,n,(function(){return t.compileShader(r)})),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw(function(a,o){var u=EF.exec(o);if(u==null)return console.log("Couldn't parse line number in error: "+o),void console.log(a);for(var l=+u[1],c=a.split(`
`),d=c.length.toString().length+2,h=c.map((function(S,C){return Zs((C+1).toString(),d)+S})),v=0,m=0;m<h.length;m++)v=Math.max(h[m].length,v);var g=h.slice(0,l-1),b=h.slice(l-1,l),x=h.slice(l);console.log(g.join(`
`)),console.log(o.split(`
`)[0]),console.log("%c "+Zs(b[0],v),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(x.join(`
`))})(e,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var Rm,_m,EF=/ERROR: [0-9]+:([0-9]+):/g;function RF(t,n){return co(t,n,(function(){return t.createProgram()}),"Unable to create WebGLProgram.")}function _F(t,n,e){if(Oe(t,n,(function(){return t.linkProgram(e)})),t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function Tm(t,n,e){if(Oe(t,n,(function(){return t.validateProgram(e)})),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function TF(t,n,e){var r=co(t,n,(function(){return t.createBuffer()}),"Unable to create WebGLBuffer");return Oe(t,n,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),Oe(t,n,(function(){return t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)})),r}function AF(t,n,e){var r=co(t,n,(function(){return t.createBuffer()}),"Unable to create WebGLBuffer");return Oe(t,n,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)})),Oe(t,n,(function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)})),r}function kF(t,n){return co(t,n,(function(){return t.createTexture()}),"Unable to create WebGLTexture.")}function DF(t,n){var e=de().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||n<=0){var r="["+t+"x"+n+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(t>e||n>e)throw r="["+t+"x"+n+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+e+"x"+e+"]")+".")}function NF(t,n){return co(t,n,(function(){return t.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function yS(t,n,e,r,a,o,u,l){var c=t.getAttribLocation(e,r);return c!==-1&&(Oe(t,n,(function(){return t.bindBuffer(t.ARRAY_BUFFER,a)})),Oe(t,n,(function(){return t.vertexAttribPointer(c,o,t.FLOAT,!1,u,l)})),Oe(t,n,(function(){return t.enableVertexAttribArray(c)})),!0)}function MF(t,n,e,r){LF(t,r),Oe(t,n,(function(){return t.activeTexture(t.TEXTURE0+r)})),Oe(t,n,(function(){return t.bindTexture(t.TEXTURE_2D,e)}))}function OF(t,n,e,r){return co(t,n,(function(){return t.getUniformLocation(e,r)}),'uniform "'+r+'" not present in program.')}function IF(t,n,e){return t.getUniformLocation(n,e)}function BF(t,n,e,r,a,o){Oe(t,n,(function(){return MF(t,n,r,o)})),Oe(t,n,(function(){return t.uniform1i(a,o)}))}function Am(t,n,e,r){Oe(t,n,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)})),Oe(t,n,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)}))}function bS(t,n,e){Oe(t,n,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,e)})),Oe(t,n,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)}))}function Ff(t){var n=t.checkFramebufferStatus(t.FRAMEBUFFER);if(n!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+FF(t,n))}function FF(t,n){switch(n){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+n}}function co(t,n,e,r){var a=Oe(t,n,(function(){return e()}));if(a==null)throw new Error(r);return a}function LF(t,n){var e=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=n+t.TEXTURE0;if(r<t.TEXTURE0||r>e)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+e+"]")+".")}function bd(t,n){return n===void 0&&(n=2),Ne(t.slice(0,t.length-n))}function xd(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function km(t){var n=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(n=[bd(t)].concat(xd(t))),n}function PF(t,n){var e;n===void 0&&(n=!1);var r=de().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n&&(r*=2,(t=t.map((function(d,h){return h>=t.length-2?WE(t[h]):t[h]}))).length===1&&(t=[2,t[0]])),t.length!==2){var a=Ni(t);t=a.newShape}var o=Ne(t);if(t.length<=1&&o<=r)return[1,o];if(t.length===2&&t[0]<=r&&t[1]<=r)return t;if(t.length===3&&t[0]*t[1]<=r&&t[2]<=r)return[t[0]*t[1],t[2]];if(t.length===3&&t[0]<=r&&t[1]*t[2]<=r)return[t[0],t[1]*t[2]];if(t.length===4&&t[0]*t[1]*t[2]<=r&&t[3]<=r)return[t[0]*t[1]*t[2],t[3]];if(t.length===4&&t[0]<=r&&t[1]*t[2]*t[3]<=r)return[t[0],t[1]*t[2]*t[3]];if(n){var u=bd(t),l=2,c=2;return t.length&&(l=(e=xd(t))[0],c=e[1]),vg(o=u*(l/2)*(c/2)).map((function(d){return 2*d}))}return vg(o)}function Lf(t){return t%2==0}function Pf(t,n){if(Cn(t=t.slice(-2),n=n.slice(-2))||!t.length||!n.length||t[0]===0||t[1]===0||n[0]===0||n[1]===0)return!0;if(t.length!==n.length){var e=t.slice(-1)[0],r=n.slice(-1)[0];if(e===r||Lf(e)&&Lf(r)&&(t[0]===1||n[0]===1))return!0}return t[1]===n[1]&&Lf(t[0])&&Lf(n[0])}function zF(t){if(Rm==null){var n=Ma(t);Rm=n.getParameter(n.MAX_TEXTURE_SIZE)}return Rm}function UF(t){if(_m==null){var n=Ma(t);_m=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,_m)}function WF(t){if(t===0)return 0;var n=Ma(t);return Vr(n,"EXT_disjoint_timer_query_webgl2")&&t===2?2:Vr(n,"EXT_disjoint_timer_query")?1:0}function Vr(t,n){return t.getExtension(n)!=null}function xS(t){try{if(Ma(t)!=null)return!0}catch{return!1}return!1}function HF(t){if(t===0)return!1;var n=Ma(t);if(t===1){if(!Vr(n,"OES_texture_float"))return!1}else if(!Vr(n,"EXT_color_buffer_float"))return!1;return Sg(n)}function jF(t){if(t===0)return!1;var n=Ma(t);if(t!==1){if(Vr(n,"EXT_color_buffer_float"))return Sg(n);if(Vr(n,"EXT_color_buffer_half_float")){var e=n.getExtension("EXT_color_buffer_half_float");return(function(r,a){var o=wy(r,a),u=r.createTexture();r.bindTexture(r.TEXTURE_2D,u),r.texImage2D(r.TEXTURE_2D,0,o.internalFormatHalfFloat,1,1,0,o.textureFormatFloat,o.textureTypeHalfFloat,null);var l=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,l),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,u,0);var c=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(u),r.deleteFramebuffer(l),c})(n,e)}return!1}return!!Vr(n,"OES_texture_float")&&!!Vr(n,"WEBGL_color_buffer_float")&&Sg(n)}function Sg(t){var n=wy(t),e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatFloat,1,1,0,n.textureFormatFloat,n.textureTypeFloat,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0);var a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(e),t.deleteFramebuffer(r),a}function VF(t){return t===2&&Ma(t).fenceSync!=null}var je=de();function YE(t){de().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function _e(t,n){return ee.tidy(t,n)}function sr(t){KE(t).forEach((function(n){return n.dispose()}))}function GF(t){return ee.keep(t)}function wd(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];de().getBool("IS_TEST")||console.warn.apply(console,t)}function Jo(t,n){var e=t;if(Ra(t))return n==="string"?[]:[t.length];if(!Array.isArray(t))return[];for(var r=[];Array.isArray(e)||Ra(e)&&n!=="string";)r.push(e.length),e=e[0];return Array.isArray(t)&&de().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&(function a(o,u,l){if(l=l||[],!Array.isArray(o)&&!Ra(o))return void W(u.length===0,(function(){return"Element arr["+l.join("][")+"] is a primitive, but should be an array/TypedArray of "+u[0]+" elements"}));W(u.length>0,(function(){return"Element arr["+l.join("][")+"] should be a primitive, but is an array of "+o.length+" elements"})),W(o.length===u[0],(function(){return"Element arr["+l.join("][")+"] should have "+u[0]+" elements, but has "+o.length+" elements"}));for(var c=u.slice(1),d=0;d<o.length;++d)a(o[d],c,l.concat(d))})(t,r,[]),r}function wS(t,n,e,r){if(t!=null&&(t!=="numeric"&&t!==n||t==="numeric"&&n==="string"))throw new Error("Argument '"+e+"' passed to '"+r+"' must be "+t+" tensor, but got "+n+" tensor")}function z(t,n,e,r){if(r===void 0&&(r="numeric"),t instanceof Ut)return wS(r,t.dtype,n,e),t;var a=rc(t);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),wS(r,a,n,e),t==null||!Ra(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){var o=t==null?"null":t.constructor.name;throw new Error("Argument '"+n+"' passed to '"+e+"' must be a Tensor or TensorLike, but got '"+o+"'")}var u=Jo(t,a);Ra(t)||Array.isArray(t)||(t=[t]);var l=a!=="string"?jE(t,a,de().getBool("DEBUG")):su(t,[],!0);return ee.makeTensor(l,u,a)}function Sd(t,n,e,r){if(r===void 0&&(r="numeric"),!Array.isArray(t))throw new Error("Argument "+n+" passed to "+e+" must be a `Tensor[]` or `TensorLike[]`");return t.map((function(a,o){return z(a,n+"["+o+"]",e)}),r)}function QE(t,n){for(var e=0;e<t.length;++e)if(t[t.length-e-1]!==n-1-e)return!1;return!0}function qF(t,n,e){for(var r=t.length+n.length,a=[],o=0,u=0,l=0;l<r;l++)e.indexOf(l)===-1?a.push(t[o++]):a.push(n[u++]);return a}function Un(t,n){for(var e=[],r=t.length,a=0;a<r;a++)n.indexOf(a)===-1&&e.push(t[a]);return[e,n.map((function(o){return t[o]}))]}function cr(t,n){return qF(t,n.map((function(e){return 1})),n)}function xr(t,n,e){W(QE(n,e),(function(){return t+" supports only inner-most axes for now. Got axes "+n+" and rank-"+e+" input."}))}function Oa(t,n){if(QE(t,n))return null;for(var e=[],r=0;r<n;++r)t.indexOf(r)===-1&&e.push(r);return t.forEach((function(a){return e.push(a)})),e}function Sy(t){return t.map((function(n,e){return[e,n]})).sort((function(n,e){return n[1]-e[1]})).map((function(n){return n[0]}))}function Ia(t,n){for(var e=[],r=n-t;r<n;++r)e.push(r);return e}function $F(t,n){var e=t[0].length;t.forEach((function(a,o){W(a.length===e,(function(){return"Error in concat"+e+"D: rank of tensors["+o+"] must be the same as the rank of the rest ("+e+")"}))})),W(n>=0&&n<e,(function(){return"Error in concat"+e+"D: axis must be between 0 and "+(e-1)+"."}));var r=t[0];t.forEach((function(a,o){for(var u=0;u<e;u++)W(u===n||a[u]===r[u],(function(){return"Error in concat"+e+"D: Shape of tensors["+o+"] ("+a+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."}))}))}function lu(t,n){for(var e=t[0].slice(),r=1;r<t.length;r++)e[n]+=t[r][n];return e}function Y(t){var n=Object.keys(t);if(n.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+n.length+" keys.");var e=n[0],r=t[e];e.endsWith("_")&&(e=e.substring(0,e.length-1));var a=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];ee.startScope(e);try{var l=r.apply(void 0,o);return l instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),ee.endScope(l),l}catch(c){throw ee.endScope(null),c}};return Object.defineProperty(a,"name",{value:e,configurable:!0}),a}je.registerFlag("HAS_WEBGL",(function(){return je.getNumber("WEBGL_VERSION")>0})),je.registerFlag("WEBGL_VERSION",(function(){return xS(2)?2:xS(1)?1:0})),je.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return je.get("WEBGL_VERSION")===2})),je.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),je.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),je.registerFlag("WEBGL_PACK",(function(){return je.getBool("HAS_WEBGL")})),je.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return je.getBool("WEBGL_PACK")})),je.registerFlag("WEBGL_PACK_CLIP",(function(){return je.getBool("WEBGL_PACK")})),je.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),je.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return je.getBool("WEBGL_PACK")})),je.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return je.getBool("WEBGL_PACK")})),je.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return je.getBool("WEBGL_PACK")})),je.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return je.getBool("WEBGL_PACK")})),je.registerFlag("WEBGL_PACK_REDUCE",(function(){return je.getBool("WEBGL_PACK")})),je.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return je.getBool("WEBGL_PACK")})),je.registerFlag("WEBGL_CONV_IM2COL",(function(){return je.getBool("WEBGL_PACK")})),je.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return zF(je.getNumber("WEBGL_VERSION"))})),je.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return UF(je.getNumber("WEBGL_VERSION"))})),je.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var t=je.getNumber("WEBGL_VERSION");return t===0?0:WF(t)})),je.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return je.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(t=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))));var t})),je.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return HF(je.getNumber("WEBGL_VERSION"))})),je.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!je.getBool("WEBGL_FORCE_F16_TEXTURES")&&je.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),je.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return jF(je.getNumber("WEBGL_VERSION"))})),je.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return VF(je.getNumber("WEBGL_VERSION"))})),je.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return je.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),$E=YE;var Nn=Y({complex_:function(t,n){var e=z(t,"real","complex"),r=z(n,"imag","complex");return gt(e.shape,r.shape,"real and imag shapes, "+e.shape+" and "+r.shape+", must match in call to tf.complex()."),ee.runKernelFunc((function(a){return a.complex(e,r)}),{$real:e,$imag:r})}}),jr=Y({real_:function(t){var n=z(t,"input","real");return ee.runKernelFunc((function(e){return e.real(n)}),{$input:n})}}),wa=Y({imag_:function(t){var n=z(t,"input","imag");return ee.runKernelFunc((function(e){return e.imag(n)}),{$input:n})}});function In(t,n,e){return ei(t,n,Jo(t,e),e)}function ei(t,n,e,r){if(r==null&&(r=rc(t)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Ra(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(n!=null){GE(n);var a=Ne(n),o=Ne(e);W(a===o,(function(){return"Based on the provided shape, ["+n+"], the tensor should have "+a+" values but has "+o}));for(var u=0;u<e.length;++u){var l=e[u],c=u!==e.length-1||l!==Ne(n.slice(u));W(e[u]===n[u]||!c,(function(){return"Error creating a new Tensor. Inferred shape ("+e+") does not match the provided shape ("+n+"). "}))}}return Ra(t)||Array.isArray(t)||(t=[t]),n=n||e,t=r!=="string"?jE(t,r,de().getBool("DEBUG")):su(t,[],!0),ee.makeTensor(t,n,r)}function Ee(t,n){if((Ra(t)&&n!=="string"||Array.isArray(t))&&n!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(n==="string"&&Ra(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return ei(t,[],[],n)}function cn(t,n){mu(t);var e=Jo(t,n);if(e.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return ei(t,null,e,n)}function $o(t,n,e){if(mu(t),n!=null&&n.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=Jo(t,e);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return ei(t,n,r,e)}function Cy(t,n,e){if(mu(t),n!=null&&n.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=Jo(t,e);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return ei(t,n,r,e)}function or(t,n,e){if(mu(t),n!=null&&n.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=Jo(t,e);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return ei(t,n,r,e)}function KF(t,n,e){if(mu(t),n!=null&&n.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=Jo(t,e);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return ei(t,n,r,e)}function XF(t,n,e){if(mu(t),n!=null&&n.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=Jo(t,e);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return ei(t,n=n||r,r,e)}function YF(t,n,e,r){return n===void 0&&(n=!0),ee.makeVariable(t,n,e,r)}function gu(t,n){if(n===void 0&&(n="float32"),n==="complex64"){var e=gu(t,"float32"),r=It(t,"float32");return Nn(e,r)}var a=VE(Ne(t),n);return ee.makeTensor(a,t,n)}function It(t,n){if(n===void 0&&(n="float32"),n==="complex64"){var e=It(t,"float32"),r=It(t,"float32");return Nn(e,r)}var a=ac(Ne(t),n);return ee.makeTensor(a,t,n)}function Ta(t,n,e){return ee.runKernelFunc((function(r){return r.fill(t,n,e)}),{})}function QF(t,n,e){if(e<=0)throw new Error("The number of values should be positive.");return ee.runKernelFunc((function(r){return r.linspace(t,n,e)}),{})}function Cd(t,n,e,r){if(e===void 0&&(e=1),r===void 0&&(r="float32"),e===0)throw new Error("Cannot have a step of zero");if(t===n||t<n&&e<0||n<t&&e>1)return It([0],r);var a=ac(Math.abs(Math.ceil((n-t)/e)),r);n<t&&e===1&&(e=-1),a[0]=t;for(var o=1;o<a.length;o++)a[o]=a[o-1]+e;return cn(a,r)}var ZE=Y({onesLike_:function(t){var n=z(t,"x","onesLike");if(n.dtype==="complex64"){var e=ZE(jr(n)),r=it(wa(n));return Nn(e,r)}return ee.runKernelFunc((function(a){return a.onesLike(n)}),{$x:n},(function(a,o){return{$x:function(){return it(a)}}}))}}),it=Y({zerosLike_:function(t){var n=z(t,"x","zerosLike");return ee.runKernelFunc((function(e){return e.zerosLike(n)}),{$x:n},(function(e,r){return{$x:function(){return it(e)}}}))}}),vn=Y({concat_:function(t,n){n===void 0&&(n=0),W(t.length>=1,(function(){return"Pass at least one tensor to concat"}));var e=Sd(t,"tensors","concat");e[0].dtype==="complex64"&&e.forEach((function(l){if(l.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+l.dtype+". ")})),n=bn(n,e[0].shape)[0];var r=lu(e.map((function(l){return l.shape})),n);if(Ne(r)===0)return In([],r);if((e=e.filter((function(l){return l.size>0}))).length===1)return e[0];var a=e.map((function(l){return l.shape}));$F(a,n);var o=e,u={axis:n};return ee.runKernelFunc((function(l){return l.concat(e,n)}),o,(function(l){var c=a.map((function(d){return d[n]}));return Ey(l,c,n).map((function(d){return function(){return d}}))}),"Concat",u)}}),ZF=Y({concat1d_:function(t){return vn(t,0)}}),JF=Y({concat2d_:function(t,n){return vn(t,n)}}),eL=Y({concat3d_:function(t,n){return vn(t,n)}}),tL=Y({concat4d_:function(t,n){return vn(t,n)}}),Ey=Y({split_:function(t,n,e){e===void 0&&(e=0);var r,a=z(t,"x","split");return e=bn(e,a.shape)[0],typeof n=="number"?(W(a.shape[e]%n==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(n).fill(a.shape[e]/n)):(W(a.shape[e]===n.reduce((function(o,u){return o+u})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=n),ee.runKernelFunc((function(o){return o.split(a,r,e)}),{$x:a},(function(o){return{$x:function(){return vn(o,e)}}}))}});function Gi(t,n){return t(n={exports:{}},n.exports),n.exports}var nL=Gi((function(t){(function(n,e,r){function a(l){var c,d=this,h=(c=4022871197,function(v){v=v.toString();for(var m=0;m<v.length;m++){var g=.02519603282416938*(c+=v.charCodeAt(m));g-=c=g>>>0,c=(g*=c)>>>0,c+=4294967296*(g-=c)}return 23283064365386963e-26*(c>>>0)});d.next=function(){var v=2091639*d.s0+23283064365386963e-26*d.c;return d.s0=d.s1,d.s1=d.s2,d.s2=v-(d.c=0|v)},d.c=1,d.s0=h(" "),d.s1=h(" "),d.s2=h(" "),d.s0-=h(l),d.s0<0&&(d.s0+=1),d.s1-=h(l),d.s1<0&&(d.s1+=1),d.s2-=h(l),d.s2<0&&(d.s2+=1),h=null}function o(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function u(l,c){var d=new a(l),h=c&&c.state,v=d.next;return v.int32=function(){return 4294967296*d.next()|0},v.double=function(){return v()+11102230246251565e-32*(2097152*v()|0)},v.quick=v,h&&(typeof h=="object"&&o(h,d),v.state=function(){return o(d,{})}),v}e&&e.exports?e.exports=u:this.alea=u})(0,t)})),rL=Gi((function(t){(function(n,e,r){function a(l){var c=this,d="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var v=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^v^v>>>8},l===(0|l)?c.x=l:d+=l;for(var h=0;h<d.length+64;h++)c.x^=0|d.charCodeAt(h),c.next()}function o(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c}function u(l,c){var d=new a(l),h=c&&c.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=((d.next()>>>11)+(d.next()>>>0)/4294967296)/2097152;while(m===0);return m},v.int32=d.next,v.quick=v,h&&(typeof h=="object"&&o(h,d),v.state=function(){return o(d,{})}),v}e&&e.exports?e.exports=u:this.xor128=u})(0,t)})),aL=Gi((function(t){(function(n,e,r){function a(l){var c=this,d="";c.next=function(){var v=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^v^v<<1)|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,l===(0|l)?c.x=l:d+=l;for(var h=0;h<d.length+64;h++)c.x^=0|d.charCodeAt(h),h==d.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function o(l,c){return c.x=l.x,c.y=l.y,c.z=l.z,c.w=l.w,c.v=l.v,c.d=l.d,c}function u(l,c){var d=new a(l),h=c&&c.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=((d.next()>>>11)+(d.next()>>>0)/4294967296)/2097152;while(m===0);return m},v.int32=d.next,v.quick=v,h&&(typeof h=="object"&&o(h,d),v.state=function(){return o(d,{})}),v}e&&e.exports?e.exports=u:this.xorwow=u})(0,t)})),oL=Gi((function(t){(function(n,e,r){function a(l){var c=this;c.next=function(){var d,h,v=c.x,m=c.i;return d=v[m],h=(d^=d>>>7)^d<<24,h^=(d=v[m+1&7])^d>>>10,h^=(d=v[m+3&7])^d>>>3,h^=(d=v[m+4&7])^d<<7,d=v[m+7&7],h^=(d^=d<<13)^d<<9,v[m]=h,c.i=m+1&7,h},(function(d,h){var v,m=[];if(h===(0|h))m[0]=h;else for(h=""+h,v=0;v<h.length;++v)m[7&v]=m[7&v]<<15^h.charCodeAt(v)+m[v+1&7]<<13;for(;m.length<8;)m.push(0);for(v=0;v<8&&m[v]===0;++v);for(v==8?m[7]=-1:m[v],d.x=m,d.i=0,v=256;v>0;--v)d.next()})(c,l)}function o(l,c){return c.x=l.x.slice(),c.i=l.i,c}function u(l,c){l==null&&(l=+new Date);var d=new a(l),h=c&&c.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=((d.next()>>>11)+(d.next()>>>0)/4294967296)/2097152;while(m===0);return m},v.int32=d.next,v.quick=v,h&&(h.x&&o(h,d),v.state=function(){return o(d,{})}),v}e&&e.exports?e.exports=u:this.xorshift7=u})(0,t)})),iL=Gi((function(t){(function(n,e,r){function a(l){var c=this;c.next=function(){var d,h,v=c.w,m=c.X,g=c.i;return c.w=v=v+1640531527|0,h=m[g+34&127],d=m[g=g+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,h=m[g]=h^d,c.i=g,h+(v^v>>>16)|0},(function(d,h){var v,m,g,b,x,S=[],C=128;for(h===(0|h)?(m=h,h=null):(h+="\0",m=0,C=Math.max(C,h.length)),g=0,b=-32;b<C;++b)h&&(m^=h.charCodeAt((b+32)%h.length)),b===0&&(x=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,b>=0&&(x=x+1640531527|0,g=(v=S[127&b]^=m+x)==0?g+1:0);for(g>=128&&(S[127&(h&&h.length||0)]=-1),g=127,b=512;b>0;--b)m=S[g+34&127],v=S[g=g+1&127],m^=m<<13,v^=v<<17,m^=m>>>15,v^=v>>>12,S[g]=m^v;d.w=x,d.X=S,d.i=g})(c,l)}function o(l,c){return c.i=l.i,c.w=l.w,c.X=l.X.slice(),c}function u(l,c){l==null&&(l=+new Date);var d=new a(l),h=c&&c.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=((d.next()>>>11)+(d.next()>>>0)/4294967296)/2097152;while(m===0);return m},v.int32=d.next,v.quick=v,h&&(h.X&&o(h,d),v.state=function(){return o(d,{})}),v}e&&e.exports?e.exports=u:this.xor4096=u})(0,t)})),sL=Gi((function(t){(function(n,e,r){function a(l){var c=this,d="";c.next=function(){var v=c.b,m=c.c,g=c.d,b=c.a;return v=v<<25^v>>>7^m,m=m-g|0,g=g<<24^g>>>8^b,b=b-v|0,c.b=v=v<<20^v>>>12^m,c.c=m=m-g|0,c.d=g<<16^m>>>16^b,c.a=b-v|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,l===Math.floor(l)?(c.a=l/4294967296|0,c.b=0|l):d+=l;for(var h=0;h<d.length+20;h++)c.b^=0|d.charCodeAt(h),c.next()}function o(l,c){return c.a=l.a,c.b=l.b,c.c=l.c,c.d=l.d,c}function u(l,c){var d=new a(l),h=c&&c.state,v=function(){return(d.next()>>>0)/4294967296};return v.double=function(){do var m=((d.next()>>>11)+(d.next()>>>0)/4294967296)/2097152;while(m===0);return m},v.int32=d.next,v.quick=v,h&&(typeof h=="object"&&o(h,d),v.state=function(){return o(d,{})}),v}e&&e.exports?e.exports=u:this.tychei=u})(0,t)})),Di=Gi((function(t){(function(n,e){var r,a=this,o=256,u=6,l="random",c=e.pow(o,u),d=e.pow(2,52),h=2*d,v=o-1;function m(C,_,R){var E=[],T=x((function O(I,B){var H,A=[],q=typeof I;if(B&&q=="object")for(H in I)try{A.push(O(I[H],B-1))}catch{}return A.length?A:q=="string"?I:I+"\0"})((_=_==1?{entropy:!0}:_||{}).entropy?[C,S(n)]:C??(function(){try{var O;return r&&(O=r.randomBytes)?O=O(o):(O=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(O)),S(O)}catch{var I=a.navigator,B=I&&I.plugins;return[+new Date,a,B,a.screen,S(n)]}})(),3),E),D=new g(E),N=function(){for(var O=D.g(u),I=c,B=0;O<d;)O=(O+B)*o,I*=o,B=D.g(1);for(;O>=h;)O/=2,I/=2,B>>>=1;return(O+B)/I};return N.int32=function(){return 0|D.g(4)},N.quick=function(){return D.g(4)/4294967296},N.double=N,x(S(D.S),n),(_.pass||R||function(O,I,B,H){return H&&(H.S&&b(H,D),O.state=function(){return b(D,{})}),B?(e[l]=O,I):O})(N,T,"global"in _?_.global:this==e,_.state)}function g(C){var _,R=C.length,E=this,T=0,D=E.i=E.j=0,N=E.S=[];for(R||(C=[R++]);T<o;)N[T]=T++;for(T=0;T<o;T++)N[T]=N[D=v&D+C[T%R]+(_=N[T])],N[D]=_;(E.g=function(O){for(var I,B=0,H=E.i,A=E.j,q=E.S;O--;)I=q[H=v&H+1],B=B*o+q[v&(q[H]=q[A=v&A+I])+(q[A]=I)];return E.i=H,E.j=A,B})(o)}function b(C,_){return _.i=C.i,_.j=C.j,_.S=C.S.slice(),_}function x(C,_){for(var R,E=C+"",T=0;T<E.length;)_[v&T]=v&(R^=19*_[v&T])+E.charCodeAt(T++);return S(_)}function S(C){return String.fromCharCode.apply(0,C)}if(e["seed"+l]=m,x(e.random(),n),t.exports){t.exports=m;try{r=require("crypto")}catch{}}})([],Math)}));Di.alea=nL,Di.xor128=rL,Di.xorwow=aL,Di.xorshift7=oL,Di.xor4096=iL,Di.tychei=sL;var ih=Di.alea,Ry=(function(){function t(n,e,r,a,o){this.mean=n,this.stdDev=e,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var u=o||Math.random();this.random=ih(u.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var n=this.nextVal;return this.nextVal=NaN,n}for(var e,r,a=!1;!a;){var o=void 0,u=void 0,l=void 0;do l=(o=2*this.random()-1)*o+(u=2*this.random()-1)*u;while(l>=1||l===0);var c=Math.sqrt(-2*Math.log(l)/l);e=this.mean+this.stdDev*o*c,r=this.mean+this.stdDev*u*c,this.truncated&&!this.isValidTruncated(e)||(a=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(e)},t.prototype.convertValue=function(n){return this.dtype==null||this.dtype==="float32"?n:Math.round(n)},t.prototype.isValidTruncated=function(n){return n<=this.upper&&n>=this.lower},t})(),uL=(function(){function t(n,e,r,a){this.alpha=n,this.beta=1/e,this.dtype=r;var o=a||Math.random();this.randu=ih(o.toString()),this.randn=new Ry(0,1,r,!1,this.randu()),this.d=n<1?n+2/3:n-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var n,e,r,a,o,u;;){do a=this.randn.nextValue(),u=1+this.c*a;while(u<=0);if(u*=u*u,e=1-.331*(n=a*a)*n,r=.5*n+this.d*(1-u+Math.log(u)),(o=this.randu())<e||Math.log(o)<r)break}return u=1/this.beta*this.d*u,this.alpha<1&&(u*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(u)},t.prototype.convertValue=function(n){return this.dtype==="float32"?n:Math.round(n)},t})(),lL=(function(){function t(n,e,r,a){var o=this;if(n===void 0&&(n=0),e===void 0&&(e=1),this.canReturnFloat=function(){return o.dtype==null||o.dtype==="float32"},this.min=n,this.range=e-n,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+n+" - "+e+" <= 1 and dtype is not float");this.random=ih(a)}return t.prototype.convertValue=function(n){return this.canReturnFloat()?n:Math.round(n)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t})();function qe(t,n,e){return n===void 0&&(n="float32"),n=n||"float32",GE(t),new zl(t,n,e)}function cL(t,n){n===void 0&&(n=!1),console.log(t.toString(n))}var JE=Y({batchToSpaceND_:function(t,n,e){var r=z(t,"x","batchToSpaceND"),a=n.reduce((function(o,u){return o*u}));return W(r.rank>=1+n.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+n.length})),W(e.length===n.length,(function(){return"crops.length is "+e.length+" but should be equal to blockShape.length  "+n.length})),W(r.shape[0]%a==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+n.join(" * ")+" === "+a})),ee.runKernelFunc((function(o){return o.batchToSpaceND(r,n,e)}),{$x:r},(function(o){return{$x:function(){return o.spaceToBatchND(n,e)}}}))}}),fL=Y({broadcastTo_:function(t,n){var e=z(t,"broadcastTo","x"),r=e.shape;if(n.some((function(c){return!(c>0)||c%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+n+"].");if(n.length<e.rank)throw new Error("broadcastTo(): shape.length="+n.length+" < input.rank="+e.rank+".");if(n.length>e.rank){for(var a=e.shape.slice();a.length<n.length;)a.unshift(1);e=e.reshape(a)}for(var o=Array.from(n),u=n.length-1;u>=0;u--)if(e.shape[u]===n[u])o[u]=1;else if(e.shape[u]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+n+"].");var l=o.map((function(c,d){return c>1?d:-1})).filter((function(c){return c>=0}));return l.length===0?e.clone():ee.runKernelFunc((function(c){return c.tile(e,o)}),{input:e},(function(c){return{input:function(){return c.sum(l,!0)}}}))}}),dL=Y({cast_:function(t,n){var e=z(t,"x","cast");if(!aF(n))throw new Error("Failed to cast to unknown dtype "+n);if(n==="string"&&e.dtype!=="string"||n!=="string"&&e.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:n};return ee.runKernelFunc((function(a){return a.cast(e,n)}),{x:e},(function(a){return{x:function(){return a.clone()}}}),"Cast",r)}}),hL=Y({clone_:function(t){var n=z(t,"x","clone",null);return ee.runKernelFunc((function(){return ee.makeTensorFromDataId(n.dataId,n.shape,n.dtype)}),{$x:n},(function(e){return{$x:function(){return e.toFloat()}}}))}}),pL=Y({cumsum_:function(t,n,e,r){n===void 0&&(n=0),e===void 0&&(e=!1),r===void 0&&(r=!1);var a=z(t,"x","cumsum"),o=Oa([n|=0],a.rank),u=a;o!=null&&(u=a.transpose(o));var l=Ia(1,a.rank)[0],c=ee.runKernelFunc((function(d){return d.cumsum(u,l,e,r)}),{permutedX:u},(function(d){return{permutedX:function(){return d.cumsum(n,e,!r)}}}));return o!=null&&(c=c.transpose(o)),c}}),vL=Y({depthToSpace_:function(t,n,e){e===void 0&&(e="NHWC");var r=z(t,"x","depthToSpace"),a=e==="NHWC"?r.shape[1]:r.shape[2],o=e==="NHWC"?r.shape[2]:r.shape[3],u=e==="NHWC"?r.shape[3]:r.shape[1];return W(a*n>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+n+`  for depthToSpace with input shape
      `+r.shape})),W(o*n>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+o+" and "+n+` for depthToSpace with input shape
          `+r.shape})),W(u%(n*n)==0,(function(){return"Dimension size must be evenly divisible by "+n*n+" but is "+u+" for depthToSpace with input shape "+r.shape})),ee.runKernelFunc((function(l){return l.depthToSpace(r,n,e)}),{$x:r})}}),Hr=Y({expandDims_:function(t,n){n===void 0&&(n=0);var e=z(t,"x","expandDims",null);W(n<=e.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=e.shape.slice();return n<0&&(W(-(e.rank+1)<=n,(function(){return"Axis must be in the interval ["+-(e.rank+1)+", "+e.rank+"]"})),n=e.rank+n+1),r.splice(n,0,1),na(e,r)}}),eR=Y({eye_:function(t,n,e,r){r===void 0&&(r="float32"),n==null&&(n=t);for(var a=qe([t,n],r),o=t<=n?t:n,u=0;u<o;++u)a.set(1,u,u);var l=a.toTensor().as2D(t,n);if(e==null)return l;if(e.length===1)return Js(Hr(l,0),[e[0],1,1]);if(e.length===2)return Js(Hr(Hr(l,0),0),[e[0],e[1],1,1]);if(e.length===3)return Js(Hr(Hr(Hr(l,0),0),0),[e[0],e[1],e[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+e.length+"D.")}}),mL=Y({multinomial_:function(t,n,e,r){r===void 0&&(r=!1);var a=z(t,"logits","multinomial"),o=a.size,u=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(u>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+u);e=e||Math.random();var l=u===1?a.as2D(1,-1):a,c=ee.runKernelFunc((function(d){return d.multinomial(l,r,n,e)}),{logits2D:l});return u===1?c.as1D():c}}),Cg=Y({oneHot_:function(t,n,e,r){if(e===void 0&&(e=1),r===void 0&&(r=0),n<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+n);var a=z(t,"indices","oneHot","int32"),o=a.shape.concat([n]);return a=a.flatten(),ee.runKernelFunc((function(u){return u.oneHot(a,n,e,r)}),{$indices:a},(function(u){return{$indices:function(){return It(a.shape,"float32")}}})).reshape(o)}}),qi=Y({pad_:function(t,n,e){e===void 0&&(e=0);var r=z(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:n,constantValue:e};return ee.runKernelFunc((function(o){return o.pad(r,n,e)}),{x:r},(function(o){var u=n.map((function(l){return l[0]}));return{x:function(){return o.slice(u,r.shape)}}}),"PadV2",a)}}),gL=Y({pad1d_:function(t,n,e){return e===void 0&&(e=0),W(n.length===2,(function(){return"Invalid number of paddings. Must be length of 2."})),qi(t,[n],e)}}),yL=Y({pad2d_:function(t,n,e){return e===void 0&&(e=0),W(n.length===2&&n[0].length===2&&n[1].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),qi(t,n,e)}}),bL=Y({pad3d_:function(t,n,e){return e===void 0&&(e=0),W(n.length===3&&n[0].length===2&&n[1].length===2&&n[2].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),qi(t,n,e)}}),xL=Y({pad4d_:function(t,n,e){return e===void 0&&(e=0),W(n.length===4&&n[0].length===2&&n[1].length===2&&n[2].length===2&&n[3].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),qi(t,n,e)}}),wL=Y({rand_:function(t,n,e){var r=Ne(t),a=null;if(e==null||e==="float32")a=new Float32Array(r);else if(e==="int32")a=new Int32Array(r);else{if(e!=="bool")throw new Error("Unknown data type "+e);a=new Uint8Array(r)}for(var o=0;o<r;o++)a[o]=n();return ee.makeTensor(a,t,e)}}),SL=Y({randomNormal_:function(t,n,e,r,a){if(n===void 0&&(n=0),e===void 0&&(e=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var o=new Ry(n,e,r,!1,a),u=qe(t,r),l=0;l<u.values.length;l++)u.values[l]=o.nextValue();return u.toTensor()}}),CL=Y({randomGamma_:function(t,n,e,r,a){if(e===void 0&&(e=1),r===void 0&&(r="float32"),e==null&&(e=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var o=new uL(n,e,r,a),u=qe(t,r),l=0;l<u.values.length;l++)u.values[l]=o.nextValue();return u.toTensor()}}),tR=Y({randomUniform_:function(t,n,e,r,a){n===void 0&&(n=0),e===void 0&&(e=1),r===void 0&&(r="float32");for(var o=qe(t,r),u=new lL(n,e,null,a),l=0;l<o.values.length;l++)o.values[l]=u.nextValue();return o.toTensor()}}),na=Y({reshape_:function(t,n){var e=z(t,"x","reshape",null);n=nF(n,e.size),W(e.size===Ne(n),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:n};return ee.runKernelFunc((function(a){return a.reshape(e,n)}),{x:e},(function(a){return{x:function(){return a.reshape(e.shape)}}}),"Reshape",r)}}),nR=Y({spaceToBatchND_:function(t,n,e){var r=z(t,"x","spaceToBatchND");return W(r.rank>=1+n.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+n.length})),W(e.length===n.length,(function(){return"paddings.shape[0] "+e.length+" must be equal to [blockShape] "+n.length})),W(r.shape.reduce((function(a,o,u){return u>0&&u<=n.length?a&&(o+e[u-1][0]+e[u-1][1])%n[u-1]==0:a}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+e.toString()+" must be divisible by blockShapes "+n.toString()})),ee.runKernelFunc((function(a){return a.spaceToBatchND(r,n,e)}),{$x:r},(function(a){return{$x:function(){return a.batchToSpaceND(n,e)}}}))}}),rR=Y({squeeze_:function(t,n){var e=z(t,"x","squeeze");return na(e,Ni(e.shape,n).newShape)}}),Tr=Y({stack_:function(t,n){n===void 0&&(n=0);var e=Sd(t,"tensors","stack");if(W(e.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),e.length===1)return e[0].expandDims(n);var r=e[0].rank,a=e[0].shape,o=e[0].dtype;W(n<=r,(function(){return"Axis must be <= rank of the tensor"})),e.forEach((function(l){gt(a,l.shape,"All tensors passed to stack must have matching shapes")})),e.forEach((function(l){W(o===l.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var u=e.map((function(l){return l.expandDims(n)}));return vn(u,n)}}),Js=Y({tile_:function(t,n){var e=z(t,"x","tile",null);W(e.rank===n.length,(function(){return"Error in transpose: rank of input "+e.rank+" must match length of reps "+n+"."}));var r=[e],a={reps:n};return ee.runKernelFunc((function(o,u){var l=o.tile(e,n);return u([e]),l}),{x:e},(function(o,u){var l=u[0];return{x:function(){var c=it(l);if(l.rank===1)for(var d=0;d<n[0];++d)c=c.add(o.slice([d*l.shape[0]],[l.shape[0]]));else if(l.rank===2)for(d=0;d<n[0];++d)for(var h=0;h<n[1];++h)c=c.add(o.slice([d*l.shape[0],h*l.shape[1]],[l.shape[0],l.shape[1]]));else if(l.rank===3)for(d=0;d<n[0];++d)for(h=0;h<n[1];++h)for(var v=0;v<n[2];++v)c=c.add(o.slice([d*l.shape[0],h*l.shape[1],v*l.shape[2]],[l.shape[0],l.shape[1],l.shape[2]]));else{if(l.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+l.rank+" tensors yet.");for(d=0;d<n[0];++d)for(h=0;h<n[1];++h)for(v=0;v<n[2];++v)for(var m=0;m<n[3];++m)c=c.add(o.slice([d*l.shape[0],h*l.shape[1],v*l.shape[2],m*l.shape[3]],[l.shape[0],l.shape[1],l.shape[2],l.shape[3]]))}return c}}}),"Tile",a,r)}}),EL=Y({truncatedNormal_:function(t,n,e,r,a){if(n===void 0&&(n=0),e===void 0&&(e=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var o=new Ry(n,e,r,!0,a),u=qe(t,r),l=0;l<u.values.length;l++)u.values[l]=o.nextValue();return u.toTensor()}}),mn=Y({unstack_:function(t,n){n===void 0&&(n=0),n=n||0;var e=z(t,"x","unstack");W(n>=-e.shape.length&&n<e.shape.length,(function(){return"Axis = "+n+" is not in [-"+e.shape.length+", "+e.shape.length+")"})),n<0&&(n+=e.shape.length);var r={axis:n};return ee.runKernelFunc((function(a){return a.unstack(e,n)}),{x:e},(function(a){return{x:function(){return Tr(a,n)}}}),"Unpack",r)}}),RL=function(t,n){return Ae(this,void 0,void 0,(function(){var e,r,a,o,u,l,c,d,h,v;return ke(this,(function(m){switch(m.label){case 0:return e=z(t,"x","setdiff1d"),r=z(n,"y","setdiff1d"),W(e.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+e.dtype+") and y ("+r.dtype+")."})),W(e.rank===1,(function(){return"x should be 1D tensor, but got x ("+e.shape+")."})),W(r.rank===1,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,e.data()];case 1:return a=m.sent(),[4,r.data()];case 2:for(o=m.sent(),u=new Set(o),l=0,h=0;h<a.length;h++)u.has(a[h])||l++;for(c=new zl([l],e.dtype),d=new zl([l],"int32"),h=0,v=0;h<a.length;h++)u.has(a[h])||(c.values[v]=a[h],d.values[v]=h,v++);return[2,[c.toTensor(),d.toTensor()]]}}))}))};function Ed(t,n,e,r){r===void 0&&(r=!0);var a=[];if(r)(a=a.concat(n.slice(0))).push(t[0]/e),a=a.concat(t.slice(1));else{a=a.concat(t[0]);for(var o=n.length,u=0;u<o;++u)a=a.concat([t[u+1]/n[u],n[u]]);a=a.concat(t.slice(o+1))}return a}function Rd(t,n,e){e===void 0&&(e=!0);var r=[];if(e){r.push(n);for(var a=n+1;a<t;++a)a<=2*n?(r.push(a),r.push(a-(n+1))):r.push(a)}else{var o=[],u=[];for(a=1;a<t;++a)a>=2*n+1||a%2==1?u.push(a):o.push(a);r.push.apply(r,o),r.push(0),r.push.apply(r,u)}return r}function _d(t,n,e,r){r===void 0&&(r=!0);var a=[];r?a.push(t[0]/e):a.push(t[0]*e);for(var o=1;o<t.length;++o)o<=n.length?r?a.push(n[o-1]*t[o]):a.push(t[o]/n[o-1]):a.push(t[o]);return a}function aR(t,n){for(var e=[0],r=0;r<n;++r)e.push(t[r][0]);return e}function oR(t,n,e){for(var r=t.slice(0,1),a=0;a<e;++a)r.push(t[a+1]-n[a][0]-n[a][1]);return r}function iR(t,n){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+t.rank+".");if(n.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if(n.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+n.dtype+".");if(n.shape[n.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+n.shape[n.rank-1]+" vs. "+t.rank);if(t.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+t.shape+".");for(var e=n.shape,r=e[e.length-1],a=1,o=0;o<e.length-1;++o)a*=e[o];var u=t.shape,l=e.slice();l.pop();var c=1;for(o=r;o<t.rank;++o)c*=u[o],l.push(u[o]);var d=_a(t.shape).map((function(h){return h/c})).concat([1]).slice(0,r);return[l,a,c,d]}var sR=30;function Dm(t){return t<=sR?t:gg(t,Math.floor(Math.sqrt(t)))}function _L(t,n,e){var r=n.rank>1?n.shape[n.rank-1]:1,a=n.rank>1?n.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+e.shape+", indices.shape: "+n.shape+", shape: "+t+", sliceDim: "+r+", and batchDim: "+a+".";if(e.rank<a)throw new Error(o+" update.rank < "+a+". ");if(t.length<r+(e.rank-a))throw new Error(o+" Output shape length < "+(r+(e.rank-a)));if(e.rank!==a+t.length-r)throw new Error(o+" update.rank != "+(a+t.length-r));for(var u=0;u<a;++u)if(e.shape[u]!==n.shape[u])throw new Error(o+" updates.shape["+u+"] ("+e.shape[u]+") != indices.shape["+u+"] ("+n.shape[u]+").");for(u=0;u<e.rank-a;++u)if(e.shape[u+a]!==t[u+r])throw new Error(o+" updates.shape["+(u+a)+"] ("+e.shape[u+a]+") != shape["+(u+a)+"] ("+t[u+a]+")")}function TL(t,n,e){if(n.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+t.rank+".");if(n.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+n.dtype);if(e.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+e);if(e.length===0){if(n.size===0)throw new Error("Indices specified for empty output. indices shape: "+n.shape);if(t.size===0)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}_L(e,n,t)}function Td(t,n,e){for(var r=n.shape.length,a=r>1?n.shape[r-1]:1,o=e.length,u=1,l=a;l<o;++l)u*=e[l];var c=a<1?1:a;return{sliceRank:a,numUpdates:Ne(n.shape)/c,sliceSize:u,strides:_a(e.slice(0,a)).concat([1]),outputSize:Ne(e)}}function AL(t,n,e){W(t.rank===n.length,(function(){return"Error in slice"+t.rank+"D: Length of begin "+n+" must match the rank of the array ("+t.rank+")."})),W(t.rank===e.length,(function(){return"Error in slice"+t.rank+"D: Length of size "+e+" must match the rank of the array ("+t.rank+")."}));for(var r=function(o){W(n[o]+e[o]<=t.shape[o],(function(){return"Error in slice"+t.rank+"D: begin["+o+"] + size["+o+"] ("+(n[o]+e[o])+") would overflow input.shape["+o+"] ("+t.shape[o]+")"}))},a=0;a<t.rank;++a)r(a)}function SS(t){for(var n=[],e=0;t>0;)1&t&&n.push(e),t/=2,e++;return n}function _y(t,n,e){for(var r=[],a=0;a<t.length;a++)r[a]=Math.ceil((n[a]-t[a])/e[a]);return r}function kL(t,n,e,r,a){var o=n[a],u=e[a]||1;(t&1<<a||o==null)&&(o=u>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var l=r[a];return o<0&&(o+=l),o=pg(0,o,l-1)}function DL(t,n,e,r,a){var o=n[a],u=e[a]||1;(t&1<<a||o==null)&&(o=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var l=r[a];return o<0&&(o+=l),o=u>0?pg(0,o,l):pg(-1,o,l-1)}function uR(t,n,e){for(var r=e.length,a=0;a<e.length;a++)if(e[a]>1){r=a;break}for(a=r+1;a<e.length;a++)if(n[a]>0||e[a]!==t[a])return!1;return!0}function lR(t,n){for(var e=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)e+=t[r]*n[r];return e}function NL(t,n){W(mg(t),(function(){return"The f passed in variableGrads(f) must be a function"})),W(n==null||Array.isArray(n)&&n.every((function(h){return h instanceof uu})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var e=n!=null;if(!e)for(var r in n=[],ee.registeredVariables)n.push(ee.registeredVariables[r]);var a=e?n.filter((function(h){return!h.trainable})):null,o=n.length;W((n=n.filter((function(h){return h.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+o+" variables is trainable."}));var u=ee.gradients(t,n,null,!0),l=u.value,c=u.grads;W(c.some((function(h){return h!=null})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),W(l.rank===0,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+l.rank+" tensor"}));var d={};return n.forEach((function(h,v){c[v]!=null&&(d[h.name]=c[v])})),a?.forEach((function(h){return d[h.name]=null})),{value:l,grads:d}}function sh(t){return ee.customGrad(t)}var fo=Y({softmax_:function(t,n){n===void 0&&(n=-1);var e=z(t,"logits","softmax","float32");if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and dim was "+n);return ee.runKernelFunc((function(r,a){var o=r.softmax(e,n);return a([o]),o}),{logits:e},(function(r,a){var o=a[0],u=r.mul(o);return{logits:function(){return u.sub(u.sum([n],!0).mul(o))}}}),"Softmax",{dim:n},[],[!0])}}),ML=Y({logSoftmax_:function(t,n){n===void 0&&(n=-1);var e=z(t,"logits","logSoftmax");if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and axis was "+n);return sh((function(r,a){var o=r.max(n,!0),u=r.sub(o),l=u.toFloat().sub(u.exp().sum(n,!0).log());return a([l]),{value:l,gradFunc:function(c,d){var h=d[0].exp();return c.sub(c.sum(n,!0).mul(h))}}}))(e)}}),cR=(function(){function t(n,e){this.backend=n,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(n){return this.data.has(n)||this.dataMover.moveData(this.backend,n),this.data.get(n)},t.prototype.set=function(n,e){this.dataIdsCount++,this.data.set(n,e)},t.prototype.has=function(n){return this.data.has(n)},t.prototype.delete=function(n){return this.dataIdsCount--,this.data.delete(n)},t.prototype.numDataIds=function(){return this.dataIdsCount},t})(),fR=(function(){function t(){}return t.prototype.time=function(n){return se("time")},t.prototype.read=function(n){return se("read")},t.prototype.readSync=function(n){return se("readSync")},t.prototype.numDataIds=function(){return se("numDataIds")},t.prototype.disposeData=function(n){return se("disposeData")},t.prototype.write=function(n,e,r){return se("write")},t.prototype.move=function(n,e,r,a){return se("move")},t.prototype.memory=function(){return se("memory")},t.prototype.floatPrecision=function(){return se("floatPrecision")},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.batchMatMul=function(n,e,r,a){return se("batchMatMul")},t.prototype.fusedBatchMatMul=function(n){return n.a,n.b,n.transposeA,n.transposeB,n.bias,n.activation,n.preluActivationWeights,se("fusedBatchMatMul")},t.prototype.slice=function(n,e,r){return se("slice")},t.prototype.stridedSlice=function(n,e,r,a){return se("stridedSlice")},t.prototype.unstack=function(n,e){return se("unstack")},t.prototype.reverse=function(n,e){return se("reverse")},t.prototype.concat=function(n,e){return se("concat")},t.prototype.neg=function(n){return se("neg")},t.prototype.add=function(n,e){return se("add")},t.prototype.addN=function(n){return se("addN")},t.prototype.subtract=function(n,e){return se("subtract")},t.prototype.multiply=function(n,e){return se("multiply")},t.prototype.realDivide=function(n,e){return se("realDivide")},t.prototype.floorDiv=function(n,e){return se("floorDiv")},t.prototype.sum=function(n,e){return se("sum")},t.prototype.prod=function(n,e){return se("prod")},t.prototype.unsortedSegmentSum=function(n,e,r){return se("unsortedSegmentSum")},t.prototype.argMin=function(n,e){return se("argMin")},t.prototype.argMax=function(n,e){return se("argMax")},t.prototype.equal=function(n,e){return se("equal")},t.prototype.notEqual=function(n,e){return se("notEqual")},t.prototype.less=function(n,e){return se("less")},t.prototype.lessEqual=function(n,e){return se("lessEqual")},t.prototype.greater=function(n,e){return se("greater")},t.prototype.greaterEqual=function(n,e){return se("greaterEqual")},t.prototype.logicalNot=function(n){return se("logicalNot")},t.prototype.logicalAnd=function(n,e){return se("logicalAnd")},t.prototype.logicalOr=function(n,e){return se("logicalOr")},t.prototype.where=function(n){return se("where")},t.prototype.select=function(n,e,r){return se("select")},t.prototype.topk=function(n,e,r){return se("topk")},t.prototype.min=function(n,e){return se("min")},t.prototype.minimum=function(n,e){return se("minimum")},t.prototype.mod=function(n,e){return se("mod")},t.prototype.max=function(n,e){return se("max")},t.prototype.maximum=function(n,e){return se("maximum")},t.prototype.all=function(n,e){return se("all")},t.prototype.any=function(n,e){return se("any")},t.prototype.squaredDifference=function(n,e){return se("squaredDifference")},t.prototype.ceil=function(n){return se("ceil")},t.prototype.floor=function(n){return se("floor")},t.prototype.round=function(n){return se("round")},t.prototype.sign=function(n){return se("sign")},t.prototype.isNaN=function(n){return se("isNaN")},t.prototype.isInf=function(n){return se("isInf")},t.prototype.isFinite=function(n){return se("isFinite")},t.prototype.pow=function(n,e){return se("pow")},t.prototype.exp=function(n){return se("exp")},t.prototype.expm1=function(n){return se("expm1")},t.prototype.softmax=function(n,e){return se("softmax")},t.prototype.log=function(n){return se("log")},t.prototype.log1p=function(n){return se("log1p")},t.prototype.sqrt=function(n){return se("sqrt")},t.prototype.rsqrt=function(n){return se("rsqrt")},t.prototype.square=function(n){return se("square")},t.prototype.reciprocal=function(n){return se("reciprocal")},t.prototype.relu=function(n){return se("relu")},t.prototype.relu6=function(n){return se("relu6")},t.prototype.prelu=function(n,e){return se("prelu")},t.prototype.elu=function(n){return se("elu")},t.prototype.eluDer=function(n,e){return se("eluDer")},t.prototype.selu=function(n){return se("selu")},t.prototype.int=function(n){return se("int")},t.prototype.clip=function(n,e,r){return se("clip")},t.prototype.abs=function(n){return se("abs")},t.prototype.complexAbs=function(n){return se("complexAbs")},t.prototype.sigmoid=function(n){return se("sigmoid")},t.prototype.softplus=function(n){return se("softplus")},t.prototype.sin=function(n){return se("sin")},t.prototype.cos=function(n){return se("cos")},t.prototype.tan=function(n){return se("tan")},t.prototype.asin=function(n){return se("asin")},t.prototype.acos=function(n){return se("acos")},t.prototype.atan=function(n){return se("atan")},t.prototype.atan2=function(n,e){return se("atan2")},t.prototype.sinh=function(n){return se("sinh")},t.prototype.cosh=function(n){return se("cosh")},t.prototype.tanh=function(n){return se("tanh")},t.prototype.asinh=function(n){return se("asinh")},t.prototype.acosh=function(n){return se("acosh")},t.prototype.atanh=function(n){return se("atanh")},t.prototype.erf=function(n){return se("erf")},t.prototype.step=function(n,e){return se("step")},t.prototype.fusedConv2d=function(n){return n.input,n.filter,n.convInfo,n.bias,n.activation,n.preluActivationWeights,se("fusedConv2d")},t.prototype.conv2d=function(n,e,r){return se("conv2d")},t.prototype.conv2dDerInput=function(n,e,r){return se("conv2dDerInput")},t.prototype.conv2dDerFilter=function(n,e,r){return se("conv2dDerFilter")},t.prototype.fusedDepthwiseConv2D=function(n){return n.input,n.filter,n.convInfo,n.bias,n.activation,n.preluActivationWeights,se("fusedDepthwiseConv2D")},t.prototype.depthwiseConv2D=function(n,e,r){return se("depthwiseConv2D")},t.prototype.depthwiseConv2DDerInput=function(n,e,r){return se("depthwiseConv2DDerInput")},t.prototype.depthwiseConv2DDerFilter=function(n,e,r){return se("depthwiseConv2DDerFilter")},t.prototype.conv3d=function(n,e,r){return se("conv3d")},t.prototype.conv3dDerInput=function(n,e,r){return se("conv3dDerInput")},t.prototype.conv3dDerFilter=function(n,e,r){return se("conv3dDerFilter")},t.prototype.maxPool=function(n,e){return se("maxPool")},t.prototype.maxPoolBackprop=function(n,e,r,a){return se("maxPoolBackprop")},t.prototype.avgPool=function(n,e){return se("avgPool")},t.prototype.avgPoolBackprop=function(n,e,r){return se("avgPoolBackprop")},t.prototype.avgPool3d=function(n,e){return se("avgPool3d")},t.prototype.avgPool3dBackprop=function(n,e,r){return se("avgPool3dBackprop")},t.prototype.maxPool3d=function(n,e){return se("maxPool3d")},t.prototype.maxPool3dBackprop=function(n,e,r,a){return se("maxPool3dBackprop")},t.prototype.reshape=function(n,e){return se("reshape")},t.prototype.cast=function(n,e){return se("cast")},t.prototype.tile=function(n,e){return se("tile")},t.prototype.pad=function(n,e,r){return se("pad")},t.prototype.transpose=function(n,e){return se("transpose")},t.prototype.gather=function(n,e,r){return se("gather")},t.prototype.gatherND=function(n,e){return se("gatherND")},t.prototype.scatterND=function(n,e,r){return se("scatterND")},t.prototype.batchToSpaceND=function(n,e,r){return se("batchToSpaceND")},t.prototype.spaceToBatchND=function(n,e,r){return se("spaceToBatchND")},t.prototype.resizeBilinear=function(n,e,r,a){return se("resizeBilinear")},t.prototype.resizeBilinearBackprop=function(n,e,r){return se("resizeBilinearBackprop")},t.prototype.resizeNearestNeighbor=function(n,e,r,a){return se("resizeNearestNeighbor")},t.prototype.resizeNearestNeighborBackprop=function(n,e,r){return se("resizeNearestNeighborBackprop")},t.prototype.batchNormalization=function(n,e,r,a,o,u){return se("batchNormalization")},t.prototype.localResponseNormalization4D=function(n,e,r,a,o){return se("localResponseNormalization4D")},t.prototype.LRNGrad=function(n,e,r,a,o,u,l){return se("LRNGrad")},t.prototype.multinomial=function(n,e,r,a){return se("multinomial")},t.prototype.oneHot=function(n,e,r,a){return se("oneHot")},t.prototype.cumsum=function(n,e,r,a){return se("cumsum")},t.prototype.nonMaxSuppression=function(n,e,r,a,o){return se("nonMaxSuppression")},t.prototype.fft=function(n){return se("fft")},t.prototype.ifft=function(n){return se("ifft")},t.prototype.complex=function(n,e){return se("complex")},t.prototype.real=function(n){return se("real")},t.prototype.imag=function(n){return se("imag")},t.prototype.cropAndResize=function(n,e,r,a,o,u){return se("cropAndResize")},t.prototype.depthToSpace=function(n,e,r){return se("depthToSpace")},t.prototype.split=function(n,e,r){return se("split")},t.prototype.sparseToDense=function(n,e,r,a){return se("sparseToDense")},t.prototype.diag=function(n){return se("diag")},t.prototype.fill=function(n,e,r){return se("fill")},t.prototype.onesLike=function(n){return se("onesLike")},t.prototype.zerosLike=function(n){return se("zerosLike")},t.prototype.linspace=function(n,e,r){return se("linspace")},t.prototype.dispose=function(){return se("dispose")},t})();function se(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function jo(t,n){for(var e=t.length,r=[],a=0;a<e;a++){var o=e-1-a,u=t[o]||1;(n[n.length-1-a]||1)>1&&u===1&&r.unshift(o)}return r}function gn(t,n){for(var e=[],r=0;r<n.length;r++){var a=t[t.length-r-1],o=n.length-r-1,u=n[o];(a==null||a===1&&u>1)&&e.unshift(o)}return e}function nt(t,n){for(var e=[],r=Math.max(t.length,n.length),a=0;a<r;a++){var o=t[t.length-a-1];o==null&&(o=1);var u=n[n.length-a-1];if(u==null&&(u=1),o===1)e.unshift(u);else if(u===1)e.unshift(o);else{if(o!==u)throw Error("Operands could not be broadcast together with shapes "+t+" and "+n+".");e.unshift(o)}}return e}function Wl(t,n,e,r,a,o,u){u===void 0&&(u="channelsLast");var l,c=Dd(n),d=c[0],h=c[1];if(u==="channelsLast")l=[d,h,t[3],t[3]];else{if(u!=="channelsFirst")throw new Error("Unknown dataFormat "+u);l=[d,h,t[1],t[1]]}return $i(t,l,e,r,a,o,!1,u)}function Ad(t,n,e,r,a,o,u){u===void 0&&(u="NDHWC");var l,c,d=Eg(n),h=d[0],v=d[1],m=d[2];if(u==="NDHWC")c="channelsLast",l=[h,v,m,t[4],t[4]];else{if(u!=="NCDHW")throw new Error("Unknown dataFormat "+u);c="channelsFirst",l=[h,v,m,t[1],t[1]]}return kd(t,l,e,r,a,!1,c,o)}function $i(t,n,e,r,a,o,u,l){u===void 0&&(u=!1),l===void 0&&(l="channelsLast");var c=[-1,-1,-1,-1],d=c[0],h=c[1],v=c[2],m=c[3];if(l==="channelsLast")d=t[0],h=t[1],v=t[2],m=t[3];else{if(l!=="channelsFirst")throw new Error("Unknown dataFormat "+l);d=t[0],m=t[1],h=t[2],v=t[3]}var g,b=n[0],x=n[1],S=n[3],C=Dd(e),_=C[0],R=C[1],E=Dd(r),T=E[0],D=E[1],N=eu(b,T),O=eu(x,D),I=(function(j,V,P,$,Q,U,G,M){var K,Z,ie;if(typeof j=="number"){K={top:j,bottom:j,left:j,right:j,type:j===0?"VALID":"NUMBER"};var pe=(function(we,Re,Me,Se,Fe){Se==null&&(Se=dR(we,Re,Me));var He=we[0],vt=we[1],ut=Nl((He-Re+2*Se)/Me+1,Fe);W(en(ut),(function(){return"The output # of rows ("+ut+") must be an integer. Change the stride and/or zero pad parameters"}));var yt=Nl((vt-Re+2*Se)/Me+1,Fe);return W(en(yt),(function(){return"The output # of columns ("+yt+") must be an integer. Change the stride and/or zero pad parameters"})),[ut,yt]})([V,P],U,$,j,M);Z=pe[0],ie=pe[1]}else if(j==="same"){Z=Math.ceil(V/$),ie=Math.ceil(P/Q);var ge=Math.max(0,(Z-1)*$+U-V),xe=Math.max(0,(ie-1)*Q+G-P),Ce=Math.floor(ge/2),he=ge-Ce,be=Math.floor(xe/2);K={top:Ce,bottom:he,left:be,right:xe-be,type:"SAME"}}else{if(j!=="valid")throw Error("Unknown padding parameter: "+j);K={top:0,bottom:0,left:0,right:0,type:"VALID"},Z=Math.ceil((V-U+1)/$),ie=Math.ceil((P-G+1)/Q)}return{padInfo:K,outHeight:Z,outWidth:ie}})(a,h,v,_,R,N,O,o),B=I.padInfo,H=I.outHeight,A=I.outWidth,q=u?S*m:S;return l==="channelsFirst"?g=[d,q,H,A]:l==="channelsLast"&&(g=[d,H,A,q]),{batchSize:d,dataFormat:l,inHeight:h,inWidth:v,inChannels:m,outHeight:H,outWidth:A,outChannels:q,padInfo:B,strideHeight:_,strideWidth:R,filterHeight:b,filterWidth:x,effectiveFilterHeight:N,effectiveFilterWidth:O,dilationHeight:T,dilationWidth:D,inShape:t,outShape:g,filterShape:n}}function kd(t,n,e,r,a,o,u,l){o===void 0&&(o=!1),u===void 0&&(u="channelsLast");var c=[-1,-1,-1,-1,-1],d=c[0],h=c[1],v=c[2],m=c[3],g=c[4];if(u==="channelsLast")d=t[0],h=t[1],v=t[2],m=t[3],g=t[4];else{if(u!=="channelsFirst")throw new Error("Unknown dataFormat "+u);d=t[0],g=t[1],h=t[2],v=t[3],m=t[4]}var b,x=n[0],S=n[1],C=n[2],_=n[4],R=Eg(e),E=R[0],T=R[1],D=R[2],N=Eg(r),O=N[0],I=N[1],B=N[2],H=eu(x,O),A=eu(S,I),q=eu(C,B),j=(function(G,M,K,Z,ie,pe,ge,xe,Ce,he,be){var we,Re,Me,Se;if(typeof G=="number"){we={top:G,bottom:G,left:G,right:G,front:G,back:G,type:G===0?"VALID":"NUMBER"};var Fe=(function(Ye,Bn,Kn,Rn,rn,kr){rn==null&&(rn=dR(Ye,Bn,Rn));var Xr=Ye[0],Tt=Ye[1],dr=Ye[2],Fn=Nl((Xr-Bn+2*rn)/Rn+1,kr);W(en(Fn),(function(){return"The output # of depths ("+Fn+") must be an integer. Change the stride and/or zero pad parameters"}));var Yt=Nl((Tt-Bn+2*rn)/Rn+1,kr);W(en(Yt),(function(){return"The output # of rows ("+Yt+") must be an integer. Change the stride and/or zero pad parameters"}));var Yn=Nl((dr-Bn+2*rn)/Rn+1,kr);return W(en(Yn),(function(){return"The output # of columns ("+Yn+") must be an integer. Change the stride and/or zero pad parameters"})),[Fn,Yt,Yn,Kn]})([M,K,Z,1],xe,1,ie,G,be);Re=Fe[0],Me=Fe[1],Se=Fe[2]}else if(G==="same"){Re=Math.ceil(M/ie),Me=Math.ceil(K/pe),Se=Math.ceil(Z/ge);var He=(Re-1)*ie+xe-M,vt=(Me-1)*pe+Ce-K,ut=(Se-1)*ge+he-Z,yt=Math.floor(He/2),Vt=He-yt,st=Math.floor(vt/2),Le=vt-st,fn=Math.floor(ut/2);we={top:st,bottom:Le,left:fn,right:ut-fn,front:yt,back:Vt,type:"SAME"}}else{if(G!=="valid")throw Error("Unknown padding parameter: "+G);we={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},Re=Math.ceil((M-xe+1)/ie),Me=Math.ceil((K-Ce+1)/pe),Se=Math.ceil((Z-he+1)/ge)}return{padInfo:we,outDepth:Re,outHeight:Me,outWidth:Se}})(a,h,v,m,E,T,D,H,A,q,l),V=j.padInfo,P=j.outDepth,$=j.outHeight,Q=j.outWidth,U=o?_*g:_;return u==="channelsFirst"?b=[d,U,P,$,Q]:u==="channelsLast"&&(b=[d,P,$,Q,U]),{batchSize:d,dataFormat:u,inDepth:h,inHeight:v,inWidth:m,inChannels:g,outDepth:P,outHeight:$,outWidth:Q,outChannels:U,padInfo:V,strideDepth:E,strideHeight:T,strideWidth:D,filterDepth:x,filterHeight:S,filterWidth:C,effectiveFilterDepth:H,effectiveFilterHeight:A,effectiveFilterWidth:q,dilationDepth:O,dilationHeight:I,dilationWidth:B,inShape:t,outShape:b,filterShape:n}}function dR(t,n,e,r){r===void 0&&(r=1);var a=eu(n,r);return Math.floor((t[0]*(e-1)-e+a)/2)}function Dd(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function Eg(t){return typeof t=="number"?[t,t,t]:t}function eu(t,n){return n<=1?t:t+(t-1)*(n-1)}function Nl(t,n){if(!n)return t;switch(n){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+n)}}function cu(t){var n=Dd(t),e=n[0],r=n[1],a=n[2];return e===1&&r===1&&a===1}function fr(t,n){return cu(t)||cu(n)}function Ty(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+t)}function hR(t,n,e){if(n==="complex64"){if(t.dtype==="complex64")return t.clone();var r=It(t.shape),a=t.toFloat(),o=e.complex(a,r);return r.dispose(),a.dispose(),o}if(!oF(t.dtype,n))return ee.makeTensorFromDataId(t.dataId,t.shape,n);if(t.dtype==="complex64"){var u=e.real(t);return o=u.cast(n),u.dispose(),o}if(n==="int32")return e.int(t);if(n==="bool"){var l=Ee(0,t.dtype);return o=e.notEqual(t,l),l.dispose(),o}throw new Error("Error in Cast: failed to cast "+t.dtype+" to "+n)}function Rg(t,n){return ee.makeTensorFromDataId(t.dataId,n,t.dtype)}function pR(t,n,e){var r=(n-t)/(e-1),a=ac(e,"float32");a[0]=t;for(var o=1;o<a.length;o++)a[o]=a[o-1]+r;return cn(a,"float32")}function _g(t,n){if(t.length!==n.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+t.length+", imag: "+n.length+".");for(var e=new Float32Array(2*t.length),r=0;r<e.length;r+=2)e[r]=t[r/2],e[r+1]=n[r/2];return e}function CS(t,n){return{real:t[2*n],imag:t[2*n+1]}}function OL(t,n,e,r){t[2*r]=n,t[2*r+1]=e}function IL(t,n,e){var r=(e?2:-2)*Math.PI*(t/n);return{real:Math.cos(r),imag:Math.sin(r)}}function BL(t,n,e){var r=(function(o,u,l){return(function(c,d,h){for(var v=0,m=c.length,g=0,b=!1;v<m;){var x=h(d,c[g=v+(m-v>>>1)]);x>0?v=g+1:(m=g,b=!x)}return b?v:-v-1})(o,u,l||FL)})(t,n,e),a=r<0?-(r+1):r;t.splice(a,0,n)}function FL(t,n){return t>n?1:t<n?-1:0}function Ay(t,n,e,r,a){return vR(t,n,e,r,a,0).selectedIndices}function ky(t,n,e,r,a,o){var u=vR(t,n,e,r,a,o);return u.numValidOutputs.dispose(),{selectedIndices:u.selectedIndices,selectedScores:u.selectedScores}}function vR(t,n,e,r,a,o,u,l){l===void 0&&(l=!1);for(var c=Array.from(n).map((function(E,T){return{score:E,boxIndex:T,suppressBeginIndex:0}})).filter((function(E){return E.score>a})).sort(ES),d=o>0?-.5/o:0,h=[],v=[];h.length<e&&c.length>0;){var m=c.pop(),g=m.score,b=m.boxIndex,x=m.suppressBeginIndex;if(g<a)break;for(var S=!1,C=h.length-1;C>=x;--C){var _=LL(t,b,h[C]);if(_>=r){S=!0;break}if(m.score=m.score*PL(r,d,_),m.score<=a)break}m.suppressBeginIndex=h.length,S||(m.score===g?(h.push(b),v.push(m.score)):m.score>a&&BL(c,m,ES))}var R=h.length;return l&&(h.fill(0,R),v.fill(0,R)),{selectedIndices:cn(h,"int32"),selectedScores:cn(v,"float32"),numValidOutputs:Ee(R,"int32")}}function LL(t,n,e){var r=t.subarray(4*n,4*n+4),a=t.subarray(4*e,4*e+4),o=Math.min(r[0],r[2]),u=Math.min(r[1],r[3]),l=Math.max(r[0],r[2]),c=Math.max(r[1],r[3]),d=Math.min(a[0],a[2]),h=Math.min(a[1],a[3]),v=Math.max(a[0],a[2]),m=Math.max(a[1],a[3]),g=(l-o)*(c-u),b=(v-d)*(m-h);if(g<=0||b<=0)return 0;var x=Math.max(o,d),S=Math.max(u,h),C=Math.min(l,v),_=Math.min(c,m),R=Math.max(C-x,0)*Math.max(_-S,0);return R/(g+b-R)}function PL(t,n,e){var r=Math.exp(n*e*e);return e<=t?r:0}function ES(t,n){return t.score-n.score||t.score===n.score&&n.boxIndex-t.boxIndex}function mR(t,n,e){var r=new Array(t.rank).fill(0),a=t.shape.slice();return n.map((function(o){a[e]=o;var u=t.slice(r,a);return r[e]+=o,u}))}function gR(t,n){for(var e=new Array(t.rank),r=0;r<e.length;r++)e[r]=t.shape[r]*n[r];var a=qe(e,t.dtype);for(r=0;r<a.values.length;++r){for(var o=a.indexToLoc(r),u=new Array(t.rank),l=0;l<u.length;l++)u[l]=o[l]%t.shape[l];var c=t.locToIndex(u);a.values[r]=t.values[c]}return a.toTensor()}function yR(t,n,e,r,a){for(var o=n[n.length-1],u=[t.length/o,o],l=u[0],c=u[1],d=Pl(e,l*r),h=Pl("int32",l*r),v=0;v<l;v++){for(var m=v*c,g=t.subarray(m,m+c),b=[],x=0;x<g.length;x++)b.push({value:g[x],index:x});b.sort((function(E,T){return T.value-E.value}));var S=v*r,C=d.subarray(S,S+r),_=h.subarray(S,S+r);for(x=0;x<r;x++)C[x]=b[x].value,_[x]=b[x].index}var R=n.slice();return R[R.length-1]=r,[In(d,R,e),In(h,R,"int32")]}function Dy(t,n){for(var e=[],r=0;r<n.length;r++)n[r]&&e.push(r);var a=qe(t,"int32"),o=qe([e.length,t.length],"int32");for(r=0;r<e.length;r++){var u=a.indexToLoc(e[r]),l=r*t.length;o.values.set(u,l)}return o.toTensor()}var zL=function(t,n){this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(a,o){return"T"+o}));var e=[];this.variableNames.forEach((function(a){e.push("float v"+a+" = get"+a+"AtOutCoords();")}));var r=this.variableNames.map((function(a){return"v"+a})).join(" + ");this.userCode=`
      void main() {
        `+e.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},UL=function(t,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(a,o){return"T"+o}));var e=[];this.variableNames.forEach((function(a){e.push("vec4 v"+a+" = get"+a+"AtOutCoords();")}));var r=this.variableNames.map((function(a){return"v"+a})).join(" + ");this.userCode=`
      void main() {
        `+e.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},WL=function(t,n,e){this.variableNames=["A"];var r=t.windowSize,a=t.batchSize,o=t.inSize,u=Math.ceil(o/r);e||this.variableNames.push("bestIndicesA"),this.outputShape=[a,u];var l=n==="max"?">":"<",c=e?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+c+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+l+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function bR(t,n){return["x","y","z","w","u","v"].slice(0,n).map((function(e){return t+"."+e}))}function ir(t,n){return n===1?[t]:bR(t,n)}function jn(){var t,n,e,r,a,o,u,l,c,d;return de().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",n="in",e="out",r="in",a="texture",o="outputColor",u="out vec4 outputColor;",l=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,c="",d=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",n="attribute",e="varying",r="varying",a="texture2D",o="gl_FragColor",u="",l=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,c=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,d=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:n,varyingVs:e,varyingFs:r,texture2D:a,output:o,defineOutput:u,defineSpecialNaN:l,defineSpecialInf:c,defineRound:d}}function Ii(t,n,e){e===void 0&&(e="index");var r=_a(n);return r.map((function(a,o){return"int "+t[o]+" = "+e+" / "+a+"; "+(o===r.length-1?"int "+t[o+1]+" = "+e+" - "+t[o]+" * "+a:"index -= "+t[o]+" * "+a)+";"})).join("")}function Ny(t){var n=_a(t).map((function(e){return e.toString()}));return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+n[0]+" + coords.y * "+n[1]+` + coords.z;
  }
`}var xR=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function HL(t,n,e,r){var a=[];t.forEach((function(g){var b=Ne(g.shapeInfo.logicalShape);g.shapeInfo.isUniform?a.push("uniform float "+g.name+(b>1?"["+b+"]":"")+";"):(a.push("uniform sampler2D "+g.name+";"),a.push("uniform int offset"+g.name+";"))}));var o,u,l=a.join(`
`),c=t.map((function(g){return(function(b,x,S){S===void 0&&(S=!1);var C="";C+=S?wR(b):qs(b);var _=b.shapeInfo.logicalShape,R=x.logicalShape;return _.length<=R.length&&(C+=S?(function(E,T){var D,N=E.name,O=N.charAt(0).toUpperCase()+N.slice(1),I="get"+O+"AtOutCoords",B=E.shapeInfo.logicalShape.length,H=T.logicalShape.length,A=jo(E.shapeInfo.logicalShape,T.logicalShape),q=Dt(H),j=H-B,V=["x","y","z","w","u","v"];D=B===0?"":H<2&&A.length>=1?"coords = 0;":A.map((function(K){return"coords."+V[K+j]+" = 0;"})).join(`
`);var P="";P=H<2&&B>0?"coords":E.shapeInfo.logicalShape.map((function(K,Z){return"coords."+V[Z+j]})).join(", ");var $="return outputValue;",Q=Ne(E.shapeInfo.logicalShape)===1,U=Ne(T.logicalShape)===1;if(B!==1||Q||U){if(Q&&!U)$=H===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(A.length){var G=B-2,M=B-1;A.indexOf(G)>-1&&A.indexOf(M)>-1?$="return vec4(outputValue.x);":A.indexOf(G)>-1?$="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":A.indexOf(M)>-1&&($="return vec4(outputValue.xx, outputValue.zz);")}}else $=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+I+`() {
      `+q+` coords = getOutputCoords();
      `+D+`
      vec4 outputValue = get`+O+"("+P+`);
      `+$+`
    }
  `})(b,x):(function(E,T){var D=E.name,N=D.charAt(0).toUpperCase()+D.slice(1),O="get"+N+"AtOutCoords",I=T.texShape,B=E.shapeInfo.texShape,H=E.shapeInfo.logicalShape.length,A=T.logicalShape.length;if(!E.shapeInfo.isUniform&&H===A&&E.shapeInfo.flatOffset==null&&Cn(B,I))return`
      float `+O+`() {
        return sampleTexture(`+D+`, resultUV);
      }
    `;var q,j=Dt(A),V=jo(E.shapeInfo.logicalShape,T.logicalShape),P=A-H,$=["x","y","z","w","u","v"];q=H===0?"":A<2&&V.length>=1?"coords = 0;":V.map((function(U){return"coords."+$[U+P]+" = 0;"})).join(`
`);var Q="";return Q=A<2&&H>0?"coords":E.shapeInfo.logicalShape.map((function(U,G){return"coords."+$[G+P]})).join(", "),`
    float `+O+`() {
      `+j+` coords = getOutputCoords();
      `+q+`
      return get`+N+"("+Q+`);
    }
  `})(b,x)),C})(g,n,r)})).join(`
`),d=n.texShape,h=jn(),v=(function(g){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+g.texture2D+`(textureSampler, uv).r;
    }
  `})(h),m=(function(g){return g.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+g.varyingFs+` vec2 resultUV;
    `+g.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+g.defineSpecialNaN+`
    `+g.defineSpecialInf+`
    `+g.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+jL+`
    `+VL+`
    `+GL+`
  `})(h);return n.isPacked?(o=(function(g,b){switch(g.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(E,T){var D=[Math.ceil(T[0]/2),Math.ceil(T[1]/2)];return D[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+D[1]+`.0);
      }
    `:D[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+D[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+D[0]+", "+D[1]+`));
      return 2 * (resTexRC.x * `+D[1]+` + resTexRC.y);
    }
  `})(0,b);case 2:return(function(E,T){var D=[Math.ceil(T[0]/2),Math.ceil(T[1]/2)];if(Cn(E,T))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+D[0]+", "+D[1]+`));
      }
    `;var N=Math.ceil(E[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+D[0]+", "+D[1]+`));

      int index = resTexRC.x * `+D[1]+` + resTexRC.y;
      int r = 2 * (index / `+N+`);
      int c = imod(index, `+N+`) * 2;

      return ivec2(r, c);
    }
  `})(g,b);case 3:return x=g,S=b,C=[Math.ceil(S[0]/2),Math.ceil(S[1]/2)],_=Math.ceil(x[2]/2),R=_*Math.ceil(x[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+C[0]+", "+C[1]+`));
      int index = resTexRC.x * `+C[1]+` + resTexRC.y;

      int b = index / `+R+`;
      index -= b * `+R+`;

      int r = 2 * (index / `+_+`);
      int c = imod(index, `+_+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return(function(E,T){for(var D=[Math.ceil(T[0]/2),Math.ceil(T[1]/2)],N=Math.ceil(E[E.length-1]/2),O=N*Math.ceil(E[E.length-2]/2),I=O,B="",H="b, r, c",A=2;A<E.length-1;A++)I*=E[E.length-A-1],B=`
      int b`+A+" = index / "+I+`;
      index -= b`+A+" * "+I+`;
    `+B,H="b"+A+", "+H;return`
    ivec`+E.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+D[0]+", "+D[1]+`));
      int index = resTexRC.x * `+D[1]+` + resTexRC.y;

      `+B+`

      int b = index / `+O+`;
      index -= b * `+O+`;

      int r = 2 * (index / `+N+`);
      int c = imod(index, `+N+`) * 2;

      return ivec`+E.length+"("+H+`);
    }
  `})(g,b)}var x,S,C,_,R})(n.logicalShape,d),u=(function(g){return`
    void setOutput(vec4 val) {
      `+g.output+` = val;
    }
  `})(h)):(o=(function(g,b){switch(g.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(C,_){return _[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+_[1]+`.0);
      }
    `:_[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+_[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+_[0]+", "+_[1]+`));
      return resTexRC.x * `+_[1]+` + resTexRC.y;
    }
  `})(0,b);case 2:return(function(C,_){return Cn(C,_)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+_[0]+", "+_[1]+`));
      }
    `:C[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+_[0]+", "+_[1]+`));
        int index = resTexRC.x * `+_[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:C[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+_[0]+", "+_[1]+`));
        int index = resTexRC.x * `+_[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+_[0]+", "+_[1]+`));
      int index = resTexRC.x * `+_[1]+` + resTexRC.y;
      int r = index / `+C[1]+`;
      int c = index - r * `+C[1]+`;
      return ivec2(r, c);
    }
  `})(g,b);case 3:return x=b,S=Ii(["r","c","d"],g),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;
      `+S+`
      return ivec3(r, c, d);
    }
  `;case 4:return(function(C,_){var R=Ii(["r","c","d","d2"],C);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+_[0]+", "+_[1]+`));
      int index = resTexRC.x * `+_[1]+` + resTexRC.y;
      `+R+`
      return ivec4(r, c, d, d2);
    }
  `})(g,b);case 5:return(function(C,_){var R=Ii(["r","c","d","d2","d3"],C);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+_[0]+`,
                             `+_[1]+`));

      int index = resTexRC.x * `+_[1]+` + resTexRC.y;

      `+R+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `})(g,b);case 6:return(function(C,_){var R=Ii(["r","c","d","d2","d3","d4"],C);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+_[0]+", "+_[1]+`));
      int index = resTexRC.x * `+_[1]+` + resTexRC.y;

      `+R+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `})(g,b);default:throw new Error(g.length+"-D output sampling is not yet supported")}var x,S})(n.logicalShape,d),u=(function(g){return`
    void setOutput(float val) {
      `+g.output+` = vec4(val, 0, 0, 0);
    }
  `})(h)),r&&(m+=qL),[m,v,u,l,o,c,e].join(`
`)}function qs(t){var n=t.shapeInfo.logicalShape;switch(n.length){case 0:return(function(e){var r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return"float "+a+"() {return "+r+";}";var o=e.shapeInfo.texShape,u=o[0],l=o[1];if(u===1&&l===1)return`
      float `+a+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var c=e.shapeInfo.texShape,d=c[0],h=c[1],v=Ei(r);return`
    float `+a+`() {
      vec2 uv = uvFromFlat(`+d+", "+h+", "+v+`);
      return sampleTexture(`+r+`, uv);
    }
  `})(t);case 1:return(function(e){var r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return`
      float `+a+`(int index) {
        `+Us(e)+`
      }
    `;var o=e.shapeInfo.texShape,u=o[0],l=o[1];if(l===1&&u===1)return`
      float `+a+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var c=Ei(r);return l===1?`
      float `+a+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+c+") + 0.5) / "+u+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:u===1?`
      float `+a+`(int index) {
        vec2 uv = vec2((float(index + `+c+") + 0.5) / "+l+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+a+`(int index) {
      vec2 uv = uvFromFlat(`+u+", "+l+", index + "+c+`);
      return sampleTexture(`+r+`, uv);
    }
  `})(t);case 2:return(function(e){var r=e.shapeInfo.logicalShape,a=e.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),u=e.shapeInfo.texShape;if(u!=null&&Cn(r,u)){var l=u[0],c=u[1];return`
    float `+o+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+c+".0, "+l+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `}var d=Ni(r),h=d.newShape,v=d.keptDims,m=h;if(m.length<r.length){var g=$s(e,m);return`
      `+qs(g)+`
      float `+o+`(int row, int col) {
        return `+o+"("+Ks(["row","col"],v)+`);
      }
    `}if(e.shapeInfo.isUniform)return`
      float `+o+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+Us(e)+`
      }
    `;var b=u[0],x=u[1],S=Ei(a);return x===1?`
    float `+o+`(int row, int col) {
      float index = dot(vec3(row, col, `+S+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+b+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `:b===1?`
    float `+o+`(int row, int col) {
      float index = dot(vec3(row, col, `+S+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+x+`.0, 0.5);
      return sampleTexture(`+a+`, uv);
    }
  `:`
  float `+o+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+S+`;
    vec2 uv = uvFromFlat(`+b+", "+x+`, index);
    return sampleTexture(`+a+`, uv);
  }
`})(t);case 3:return(function(e){var r=e.shapeInfo.logicalShape,a=e.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),u=r[1]*r[2],l=r[2],c=Ni(r),d=c.newShape,h=c.keptDims,v=d;if(v.length<r.length){var m=$s(e,v);return`
        `+qs(m)+`
        float `+o+`(int row, int col, int depth) {
          return `+o+"("+Ks(["row","col","depth"],h)+`);
        }
      `}if(e.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+u+", "+l+`, 1)));
        `+Us(e)+`
      }
    `;var g=e.shapeInfo.texShape,b=g[0],x=g[1],S=e.shapeInfo.flatOffset;if(x===u&&S==null)return`
        float `+o+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+l+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+x+".0, "+b+`.0);
          return sampleTexture(`+a+`, uv);
        }
      `;if(x===l&&S==null)return`
    float `+o+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+x+".0, "+b+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `;var C=Ei(a);return`
      float `+o+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+u+" + col * "+l+" + depth + "+C+`;
        vec2 uv = uvFromFlat(`+b+", "+x+`, index);
        return sampleTexture(`+a+`, uv);
      }
  `})(t);case 4:return(function(e){var r=e.shapeInfo.logicalShape,a=e.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),u=r[3],l=r[2]*u,c=r[1]*l,d=Ni(r),h=d.newShape,v=d.keptDims;if(h.length<r.length){var m=$s(e,h);return`
      `+qs(m)+`
      float `+o+`(int row, int col, int depth, int depth2) {
        return `+o+"("+Ks(["row","col","depth","depth2"],v)+`);
      }
    `}if(e.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+c+", "+l+", "+u+`, 1)));
        `+Us(e)+`
      }
    `;var g=e.shapeInfo.flatOffset,b=e.shapeInfo.texShape,x=b[0],S=b[1];if(S===c&&g==null)return`
      float `+o+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+l+", "+u+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+S+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(S===u&&g==null)return`
      float `+o+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+S+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var C=Ei(a);return`
    float `+o+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+c+" + col * "+l+` +
          depth * `+u+` + depth2;
      vec2 uv = uvFromFlat(`+x+", "+S+", index + "+C+`);
      return sampleTexture(`+a+`, uv);
    }
  `})(t);case 5:return(function(e){var r=e.shapeInfo.logicalShape,a=e.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),u=r[4],l=r[3]*u,c=r[2]*l,d=r[1]*c,h=Ni(r),v=h.newShape,m=h.keptDims;if(v.length<r.length){var g=$s(e,v);return`
      `+qs(g)+`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        return `+o+"("+Ks(["row","col","depth","depth2","depth3"],m)+`);
      }
    `}if(e.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+d+", "+c+", "+l+", "+u+`)) +
          depth3;
        `+Us(e)+`
      }
    `;var b=e.shapeInfo.flatOffset,x=e.shapeInfo.texShape,S=x[0],C=x[1];if(C===d&&b==null)return`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+c+", "+l+", "+u+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+C+".0, "+S+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(C===u&&b==null)return`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+C+".0, "+S+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var _=Ei(a);return`
    float `+o+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+d+" + col * "+c+" + depth * "+l+` +
          depth2 * `+u+" + depth3 + "+_+`;
      vec2 uv = uvFromFlat(`+S+", "+C+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `})(t);case 6:return(function(e){var r=e.shapeInfo.logicalShape,a=e.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),u=Ni(r),l=u.newShape,c=u.keptDims;if(l.length<r.length){var d=$s(e,l);return`
      `+qs(d)+`
      float `+o+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+o+"("+Ks(["row","col","depth","depth2","depth3","depth4"],c)+`);
      }
    `}var h=r[5],v=r[4]*h,m=r[3]*v,g=r[2]*m,b=r[1]*g;if(e.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+b+", "+g+", "+m+", "+v+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+h+`, 1)));
        `+Us(e)+`
      }
    `;var x=e.shapeInfo.flatOffset,S=e.shapeInfo.texShape,C=S[0],_=S[1];if(_===b&&x==null)return`
      float `+o+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+g+", "+m+", "+v+", "+h+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+_+".0, "+C+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(_===h&&x==null)return`
      float `+o+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+_+".0, "+C+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var R=Ei(a);return`
    float `+o+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+b+" + col * "+g+" + depth * "+m+` +
          depth2 * `+v+" + depth3 * "+h+" + depth4 + "+R+`;
      vec2 uv = uvFromFlat(`+C+", "+_+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `})(t);default:throw new Error(n.length+"-D input sampling is not yet supported")}}function wR(t){var n,e,r;switch(t.shapeInfo.logicalShape.length){case 0:return n=t.name,e="get"+n.charAt(0).toUpperCase()+n.slice(1),r=jn(),`
    vec4 `+e+`() {
      return `+r.texture2D+"("+n+`, halfCR);
    }
  `;case 1:return(function(a){var o=a.name,u="get"+o.charAt(0).toUpperCase()+o.slice(1),l=a.shapeInfo.texShape,c=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],d=jn();return`
    vec4 `+u+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+c[0]+", "+c[1]+`, index);
      return `+d.texture2D+"("+o+`, uv);
    }
  `})(t);case 2:return(function(a){var o=a.shapeInfo.logicalShape,u=a.name,l="get"+u.charAt(0).toUpperCase()+u.slice(1),c=a.shapeInfo.texShape,d=c[0],h=c[1],v=jn();if(c!=null&&Cn(o,c))return`
      vec4 `+l+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+h+".0, "+d+`.0);

        return `+v.texture2D+"("+u+`, uv);
      }
    `;var m=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],g=Math.ceil(o[1]/2);return`
    vec4 `+l+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+g+", "+m[0]+", "+m[1]+`, row, col);
      return `+v.texture2D+"("+u+`, uv);
    }
  `})(t);case 3:return(function(a){var o=a.shapeInfo.logicalShape,u=a.name,l="get"+u.charAt(0).toUpperCase()+u.slice(1),c=a.shapeInfo.texShape,d=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];if(o[0]===1){var h=o.slice(1),v=$s(a,h);return`
        `+wR(v)+`
        vec4 `+l+`(int b, int row, int col) {
          return `+l+"("+Ks(["b","row","col"],[1,2])+`);
        }
      `}var m=d[0],g=d[1],b=Math.ceil(o[2]/2),x=b*Math.ceil(o[1]/2),S=jn();return`
    vec4 `+l+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+m+", "+g+", "+x+", "+b+`, b, row, col);
      return `+S.texture2D+"("+u+`, uv);
    }
  `})(t);default:return(function(a){for(var o=a.shapeInfo.logicalShape,u=o.length,l=a.name,c="get"+l.charAt(0).toUpperCase()+l.slice(1),d=a.shapeInfo.texShape,h=[Math.ceil(d[0]/2),Math.ceil(d[1]/2)],v=h[0],m=h[1],g=Math.ceil(o[u-1]/2),b=g*Math.ceil(o[u-2]/2),x="int b, int row, int col",S="b * "+b+" + (row / 2) * "+g+" + (col / 2)",C=2;C<u-1;C++)x="int b"+C+", "+x,b*=o[u-C-1],S="b"+C+" * "+b+" + "+S;var _=jn();return`
    vec4 `+c+"("+x+`) {
      int index = `+S+`;
      int texR = index / `+m+`;
      int texC = index - texR * `+m+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+m+", "+v+`);
      return `+_.texture2D+"("+l+`, uv);
    }
  `})(t)}}var jL=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,VL=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,GL=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,qL=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Ei(t){return"offset"+t}function Us(t){var n=t.name,e=Ne(t.shapeInfo.logicalShape);return e<2?"return "+n+";":`
    for (int i = 0; i < `+e+`; i++) {
      if (i == index) {
        return `+n+`[i];
      }
    }
  `}function Dt(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function $s(t,n){var e=JSON.parse(JSON.stringify(t));return e.shapeInfo.logicalShape=n,e}function Ks(t,n){return n.map((function(e){return t[e]})).join(", ")}var $L=function(t,n,e,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,W(t.length>2,(function(){return"Packed arg"+(e.charAt(0).toUpperCase()+e.slice(1))+" supports only inputs with rank above 2."}));var a=t[t.length-1],o=Math.ceil(a/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");var u,l,c=this.outputShape,d=c.length,h=Dt(d),v=ir("coords",d);if(o===1){var m=Dt(l=d+1);u=`
        `+m+" sourceLocR = "+m+"("+v.join()+`, 0);
        ++`+v[d-1]+`;
        `+m+" sourceLocG = "+m+"("+v.join()+`, 0);
        ++`+v[d-2]+`;
        `+m+" sourceLocA = "+m+"("+v.join()+`, 0);
        --`+v[d-1]+`;
        `+m+" sourceLocB = "+m+"("+v.join()+`, 0);
        --`+v[d-2]+";"}else l=d,u=`
        `+h+` sourceLocR = coords;
        ++`+v[d-1]+`;
        `+h+` sourceLocG = coords;
        ++`+v[d-2]+`;
        `+h+` sourceLocA = coords;
        --`+v[d-1]+`;
        `+h+` sourceLocB = coords;
        --`+v[d-2]+";";var g=["x","y","z","w","u","v"].slice(0,l),b="."+g[l-1],x=g.map((function(O){return"int "+O})),S=ir("sourceLocR",l-1).concat("inIdx.r"),C=ir("sourceLocG",l-1).concat("inIdx.g"),_=ir("sourceLocB",l-1).concat("inIdx.b"),R=ir("sourceLocA",l-1).concat("inIdx.a"),E=e==="max"?"greaterThan":"lessThan",T=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+S.join()+`),
                             getBestIndicesAChannel(`+C.join()+`),
                             getBestIndicesAChannel(`+_.join()+`),
                             getBestIndicesAChannel(`+R.join()+")));",D=`vec4(
            getAChannel(`+S.join()+`),
            hasNextCol ? getAChannel(`+C.join()+`) : 0.,
            hasNextRow ? getAChannel(`+_.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+R.join()+") : 0.)",N=r?"":`
      float getBestIndicesAChannel(`+x.join()+`) {
        return getChannel(getBestIndicesA(`+g.join()+`),
                                          vec2(`+g.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+x.join()+`) {
        return getChannel(getA(`+g.join()+`),
                               vec2(`+g.slice(-2).join()+`));
      }
      `+N+`
      void main() {
        `+h+` coords = getOutputCoords();
        bool hasNextCol = `+v[d-1]+" < "+(c[d-1]-1)+`;
        bool hasNextRow = `+v[d-2]+" < "+(c[d-2]-1)+`;
        `+u+`
        ivec4 srcIdx = ivec4(sourceLocR`+b+", sourceLocG"+b+`,
          sourceLocB`+b+", sourceLocA"+b+") * "+n+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+D+`;

        for (int i = 0; i < `+n+`; i++) {
          inIdx = srcIdx;
          `+T+`
          vec4 candidate = `+D+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+E+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},KL=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,e=t.filterWidth,r=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterHeight,c=t.effectiveFilterWidth,d=l-1-t.padInfo.top,h=c-1-t.padInfo.left,v=1/(n*e);this.userCode=`
      const ivec2 pads = ivec2(`+d+", "+h+`);
      const float avgMultiplier = float(`+v+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+l+`;
            wR += `+o+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+c+`;
            wC+= `+u+`) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},XL=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,e=t.filterHeight,r=t.filterWidth,a=t.strideDepth,o=t.strideHeight,u=t.strideWidth,l=t.dilationDepth,c=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,v=t.effectiveFilterHeight,m=t.effectiveFilterWidth,g=h-1-t.padInfo.front,b=v-1-t.padInfo.top,x=m-1-t.padInfo.left,S=1/(n*e*r);this.userCode=`
      const ivec3 pads = ivec3(`+g+", "+b+", "+x+`);
      const float avgMultiplier = float(`+S+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+h+`;
            wD += `+l+`) {
          float dyD = float(dyDCorner + wD) / `+a+`.0;

          if (dyD < 0.0 || dyD >= `+t.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+v+`;
              wR += `+c+`) {
            float dyR = float(dyRCorner + wR) / `+o+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+m+`;
                wC += `+d+`) {
              float dyC = float(dyCCorner + wC) / `+u+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},YL=function(t,n,e,r,a,o){this.outputShape=[],this.variableNames=["x","mean","variance"],nt(t,n),nt(t,e);var u="0.0";r!=null&&(nt(t,r),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var l="1.0";a!=null&&(nt(t,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+u+`;
        float scale = `+l+`;
        float inv = scale * inversesqrt(variance + float(`+o+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},QL=function(t,n,e,r,a,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],nt(t,n),nt(t,e);var u="vec4(0.0)";r!=null&&(nt(t,r),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var l="vec4(1.0)";a!=null&&(nt(t,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        vec4 offset = `+u+`;
        vec4 scale = `+l+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+o+`));

        setOutput((x - mean) * inv + offset);
      }
    `},ZL="return areal * breal - aimag * bimag;",JL="return areal * bimag + aimag * breal;",RS=function(t,n,e){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=nt(n,e),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+t+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},Nm="return a + b;",Mm="return a - b;",_S="return a * b;",SR="return (a < 0.) ? b * a : a;",$t=function(t,n,e){this.variableNames=["A","B"],this.outputShape=nt(n,e),this.userCode=`
      float binaryOperation(float a, float b) {
        `+t+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},CR=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,no=function(t,n,e,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=nt(n,e);var a=this.outputShape.length,o="";if(r)if(a===0||Ne(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          `+Dt(a)+` coords = getOutputCoords();
        `,a===1)o+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var u=ir("coords",a);o+=`
            bool nextRowOutOfBounds =
              (`+u[a-2]+" + 1) >= "+this.outputShape[a-2]+`;
            bool nextColOutOfBounds =
              (`+u[a-1]+" + 1) >= "+this.outputShape[a-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+t+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+o+`

        setOutput(result);
      }
    `},eP=(function(){function t(n){this.variableNames=["A"],this.outputShape=n,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return t.prototype.getCustomSetupFunc=function(n,e){var r=this;return function(a,o){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(o,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(o,"maxVal")),a.gl.uniform1f(r.minLoc,n),a.gl.uniform1f(r.maxLoc,e)}},t})(),tP=(function(){function t(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return t.prototype.getCustomSetupFunc=function(n,e){var r=this;return function(a,o){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(o,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(o,"maxVal")),a.gl.uniform1f(r.minLoc,n),a.gl.uniform1f(r.maxLoc,e)}},t})(),nP=function(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},rP=function(t){this.outputShape=[],this.outputShape=lu(t,1),this.variableNames=t.map((function(l,c){return"T"+c}));var n=new Array(t.length-1);n[0]=t[0][1];for(var e=1;e<n.length;e++)n[e]=n[e-1]+t[e][1];var r=["if (yC < "+n[0]+") setOutput(getT0(yR, yC));"];for(e=1;e<n.length;e++){var a=n[e-1];r.push("else if (yC < "+n[e]+") setOutput(getT"+e+"(yR, yC-"+a+"));")}var o=n.length,u=n[n.length-1];r.push("else setOutput(getT"+o+"(yR, yC-"+u+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},aP=function(t,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=lu(t,n);var e=this.outputShape,r=e.length,a=Dt(r),o=ir("coords",r),u=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map((function(S,C){return"T"+C}));var l=new Array(t.length-1);l[0]=t[0][n];for(var c=1;c<l.length;c++)l[c]=l[c-1]+t[c][n];var d=u[n],h=u.slice(-2),v=u.join(),m="if ("+d+" < "+l[0]+`) {
        return getChannel(
            getT0(`+v+"), vec2("+h.join()+`));
        }`;for(c=1;c<l.length;c++){var g=l[c-1];m+=`
        if (`+d+" < "+l[c]+"  && "+d+" >= "+l[c-1]+`) {
          return getChannel(
            getT`+c+"("+zf(u,d,g)+`),
            vec2(`+zf(h,d,g)+`));
        }`}var b=l.length,x=l[l.length-1];m+=`
        return getChannel(
          getT`+b+"("+zf(u,d,x)+`),
          vec2(`+zf(h,d,x)+"));",this.userCode=`
      float getValue(`+u.map((function(S){return"int "+S}))+`) {
        `+m+`
      }

      void main() {
        `+a+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+o+`), 0., 0., 0.);

        `+o[r-1]+" = "+o[r-1]+` + 1;
        if (`+o[r-1]+" < "+e[r-1]+`) {
          result.g = getValue(`+o+`);
        }

        `+o[r-2]+" = "+o[r-2]+` + 1;
        if (`+o[r-2]+" < "+e[r-2]+`) {
          result.a = getValue(`+o+`);
        }

        `+o[r-1]+" = "+o[r-1]+` - 1;
        if (`+o[r-2]+" < "+e[r-2]+` &&
            `+o[r-1]+" < "+e[r-1]+`) {
          result.b = getValue(`+o+`);
        }
        setOutput(result);
      }
    `};function zf(t,n,e){var r=t.indexOf(n);return t.map((function(a,o){return o===r?a+" - "+e:a})).join()}var oP=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,e=t.strideWidth,r=t.padInfo.top,a=t.padInfo.left,o=t.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yR = 0; yR < `+t.outHeight+`; yR++) {
            int xR = wR + yR * `+n+" - "+r+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+t.outWidth+`; yC++) {
              int xC = wC + yC * `+e+" - "+a+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              if (`+o+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},iP=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,e=t.filterWidth,r=t.strideHeight,a=t.strideWidth,o=t.dataFormat==="channelsLast",u=n-1-t.padInfo.top,l=e-1-t.padInfo.left,c=o?1:2,d=o?2:3,h=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+u+", "+l+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+h+`];

        ivec2 dyCorner = ivec2(coords[`+c+"], coords["+d+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+n+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+n+` - 1 - wR;

          for (int wC = 0; wC < `+e+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+e+` - 1 - wC;

            for (int d2 = 0; d2 < `+t.outChannels+`; d2++) {

              if (`+o+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},sP=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,e=t.strideHeight,r=t.strideWidth,a=t.padInfo.front,o=t.padInfo.top,u=t.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yF = 0; yF < `+t.outDepth+`; yF++) {
            int xF = wF + yF * `+n+" - "+a+`;

            if (xF < 0 || xF >= `+t.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+t.outHeight+`; yR++) {
              int xR = wR + yR * `+e+" - "+o+`;

              if (xR < 0 || xR >= `+t.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+t.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+u+`;

                if (xC < 0 || xC >= `+t.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},uP=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,e=t.filterHeight,r=t.filterWidth,a=t.strideDepth,o=t.strideHeight,u=t.strideWidth,l=n-1-t.padInfo.front,c=e-1-t.padInfo.top,d=r-1-t.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+l+", "+c+", "+d+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+n+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+a+`.0;

          if (dyF < 0.0 || dyF >= `+t.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+n+` - 1 - wF;

          for (int wR = 0; wR < `+e+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+o+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+e+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+u+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+t.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},lP=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,e=t.strideWidth,r=t.padInfo.top,a=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+o+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yR = 0; yR < `+t.outHeight+`; yR++) {
            int xR = wR + yR * `+n+" - "+r+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+t.outWidth+`; yC++) {
              int xC = wC + yC * `+e+" - "+a+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},cP=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,e=t.filterWidth,r=t.strideHeight,a=t.strideWidth,o=n-1-t.padInfo.top,u=e-1-t.padInfo.left,l=t.outChannels/t.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+u+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+n+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+n+` - 1 - wR;

          for (int wC = 0; wC < `+e+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+e+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+l+`; dm++) {
              int d2 = d1 * `+l+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},TS=function(t,n,e,r){n===void 0&&(n=!1),e===void 0&&(e=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var a=t.padInfo.top,o=t.padInfo.left,u=t.strideHeight,l=t.strideWidth,c=t.dilationHeight,d=t.dilationWidth,h=t.filterHeight,v=t.filterWidth,m=4*Math.floor(t.inChannels/4),g=t.inChannels%4,b=t.dataFormat==="channelsLast",x=b?1:2,S=b?2:3,C=b?3:1,_="",R="";e&&(_=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+e+`
        }`:`
          float activation(float x) {
            `+e+`
          }
        `,R="result = activation(result);");var E=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+_+`

      const ivec2 strides = ivec2(`+u+", "+l+`);
      const ivec2 pads = ivec2(`+a+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+C+`];

        ivec2 xRCCorner =
            ivec2(coords[`+x+"], coords["+S+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+h+`; wR++) {
          int xR = xRCorner + wR * `+c+`;

          if (xR < 0 || xR >= `+t.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+v+`; wC++) {
            int xC = xCCorner + wC * `+d+`;

            if (xC < 0 || xC >= `+t.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+m+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+b+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(g===1)+`) {

              if (`+b+`) {
                dotProd +=
                    getX(batch, xR, xC, `+m+`) *
                    getW(wR, wC, `+m+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+m+`, xR, xC) *
                    getW(wR, wC, `+m+`, d2);
              }

            } else if (`+(g===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+m+`, d2),
                getW(wR, wC, `+m+` + 1, d2)
              );

              if (`+b+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+m+`),
                  getX(batch, xR, xC, `+m+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+m+`, xR, xC),
                  getX(batch, `+m+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(g===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+m+`, d2),
                getW(wR, wC, `+m+` + 1, d2),
                getW(wR, wC, `+m+` + 2, d2)
              );

              if (`+b+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+m+`),
                  getX(batch, xR, xC, `+m+` + 1),
                  getX(batch, xR, xC, `+m+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+m+`, xR, xC),
                  getX(batch, `+m+` + 1, xR, xC),
                  getX(batch, `+m+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+E+`
        `+R+`
        setOutput(result);
      }
    `},fP=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,e=t.padInfo.top,r=t.padInfo.left,a=t.strideDepth,o=t.strideHeight,u=t.strideWidth,l=t.dilationDepth,c=t.dilationHeight,d=t.dilationWidth,h=t.filterDepth,v=t.filterHeight,m=t.filterWidth,g=4*Math.floor(t.inChannels/4),b=t.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+a+", "+o+", "+u+`);
      const ivec3 pads = ivec3(`+n+", "+e+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+h+`; wF++) {
          int xF = xFCorner + wF * `+l+`;

          if (xF < 0 || xF >= `+t.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+v+`; wR++) {
            int xR = xRCorner + wR * `+c+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+m+`; wC++) {
              int xC = xCCorner + wC * `+d+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+g+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(b===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+g+`) *
                  getW(wF, wR, wC, `+g+`, d2);
              } else if (`+(b===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+g+`),
                  getX(batch, xF, xR, xC, `+g+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+g+`, d2),
                  getW(wF, wR, wC, `+g+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(b===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+g+`),
                  getX(batch, xF, xR, xC, `+g+` + 1),
                  getX(batch, xF, xR, xC, `+g+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+g+`, d2),
                  getW(wF, wR, wC, `+g+` + 1, d2),
                  getW(wF, wR, wC, `+g+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},AS=function(t,n,e,r){n===void 0&&(n=!1),e===void 0&&(e=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var a=t.inHeight,o=t.inWidth,u=t.padInfo.top,l=t.padInfo.left,c=t.strideHeight,d=t.strideWidth,h=t.dilationHeight,v=t.dilationWidth,m=t.filterHeight,g=t.filterWidth,b=t.outChannels/t.inChannels,x="",S="";e&&(x=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+e+`
        }`:`
          float activation(float x) {
            `+e+`
          }
        `,S="result = activation(result);");var C=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+x+`

      const ivec2 strides = ivec2(`+c+", "+d+`);
      const ivec2 pads = ivec2(`+u+", "+l+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+b+`;
        int q = d2 - d1 * `+b+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+m+`; wR++) {
          int xR = xRCorner + wR * `+h+`;

          if (xR < 0 || xR >= `+a+`) {
            continue;
          }

          for (int wC = 0; wC < `+g+`; wC++) {
            int xC = xCCorner + wC * `+v+`;

            if (xC < 0 || xC >= `+o+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+C+`
        `+S+`
        setOutput(result);
      }
    `},kS=function(t,n,e,r){n===void 0&&(n=!1),e===void 0&&(e=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.outShape;for(var a=t.inHeight,o=t.inWidth,u=t.padInfo.top,l=t.padInfo.left,c=t.strideHeight,d=t.strideWidth,h=t.dilationHeight,v=t.dilationWidth,m=t.filterHeight,g=t.filterWidth,b=g,x="int xR; int xC; int xCOffset;",S=0;S<m;S++)for(var C=0;C<g;C++)x+=`
          vec4 xTexelR`+S+"C"+2*C+` = vec4(0.);
          vec4 wR`+S+"C"+C+` = vec4(0.);
          vec4 xR`+S+"C"+C+" = vec4(0.);";for(S=0;S<m;S++)for(var _=0;_<b;_++){if(x+=`
          xR = xRCorner + `+S*h+`;
          xC = xCCorner + `+(C=2*_)*v+`;
        `,d===1){if(C<g&&(x+=l%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+o+`) {
                  xTexelR`+S+"C"+C+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+o+`) {
                    xTexelR`+S+"C"+C+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+S+"C"+C+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+o+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+o+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+S+"C"+C+" = vec4(previous.zw, xTexelR"+S+"C"+C+`.xy);
                } else {
                  xR`+S+"C"+C+" = vec4(0, 0, xTexelR"+S+"C"+C+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+a+" && xC >= 0 && xC < "+o+`) {
                  xTexelR`+S+"C"+C+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+S+"C"+C+` = vec4(0.);
                }

                xR`+S+"C"+C+" = xTexelR"+S+"C"+C+`;
              `,C+1<g)){var R=l%2==0?WE(v):v;v%2==0&&l%2==1||v%2!=0&&l%2!=1?(x+=`
                  xCOffset = xC + `+l%2+" + "+R+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+o+`) {
                    xTexelR`+S+"C"+(C+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,v>1&&(x+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+a+` &&
                      xCOffset >= 0 && xCOffset < `+o+`) {
                      xTexelR`+S+"C"+C+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+S+"C"+C+` = vec4(0.);
                    }
                  `),x+=`
                  xR`+S+"C"+(C+1)+` = vec4(
                    xTexelR`+S+"C"+C+".zw, xTexelR"+S+"C"+(C+2)+`.xy);
                `):x+=`
                  xCOffset = xC + `+R+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+o+`) {
                    xTexelR`+S+"C"+(C+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+S+"C"+(C+1)+" = xTexelR"+S+"C"+(C+2)+`;
                `}}else C<g&&(x+=`
              if(xR >= 0 && xR < `+a+`) {
            `,l%2==1?(x+=`
                xCOffset = xC + 1 - `+d+`;
                if(xCOffset >= 0 && xCOffset < `+o+`) {
                  xTexelR`+S+"C"+C+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+S+"C"+C+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+o+`) {
                  xTexelR`+S+"C"+(C+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+S+"C"+(C+2)+` = vec4(0.);
                }

                xR`+S+"C"+C+` = vec4(
                  xTexelR`+S+"C"+C+".zw, xTexelR"+S+"C"+(C+2)+`.zw);
              `,C+1<g&&(x+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+d+`;
                  if(xCOffset >= 0 && xCOffset < `+o+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+S+"C"+(C+1)+" = vec4(xTexelR"+S+"C"+(C+2)+`.xy, final.xy);
                `)):(x+=`
                if(xC >= 0 && xC < `+o+`) {
                  xTexelR`+S+"C"+C+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+S+"C"+C+` = vec4(0.);
                }

                xCOffset = xC + `+d+`;
                if(xCOffset >= 0 && xCOffset < `+o+`) {
                  xTexelR`+S+"C"+(C+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+S+"C"+(C+2)+` = vec4(0.);
                }

                xR`+S+"C"+C+` = vec4(
                  xTexelR`+S+"C"+C+".xy, xTexelR"+S+"C"+(C+2)+`.xy);
              `,C+1<g&&(x+=`
                  xR`+S+"C"+(C+1)+` = vec4(
                    xTexelR`+S+"C"+C+".zw, xTexelR"+S+"C"+(C+2)+`.zw);
                `)),x+="}");C<g&&(x+=`
            vec4 wTexelR`+S+"C"+C+" = getW("+S+", "+C+`, d1, q);
            wR`+S+"C"+C+" = vec4(wTexelR"+S+"C"+C+".xz, wTexelR"+S+"C"+C+`.xz);
          `,C+1<g&&(x+=`
              vec4 wTexelR`+S+"C"+(C+1)+" = getW("+S+", "+(C+1)+`, d1, q);
              wR`+S+"C"+(C+1)+` =
                vec4(wTexelR`+S+"C"+(C+1)+".xz, wTexelR"+S+"C"+(C+1)+".xz);"))}for(S=0;S<m;S++)for(C=0;C<g;C++)x+="dotProd += xR"+S+"C"+C+" * wR"+S+"C"+C+";";var E="",T="";e&&(E=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+e+`
        }`:`vec4 activation(vec4 x) {
          `+e+`
        }`,T="result = activation(result);");var D=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+E+`

      const ivec2 strides = ivec2(`+c+", "+d+`);
      const ivec2 pads = ivec2(`+u+", "+l+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+x+`

        vec4 result = dotProd;
        `+D+`
        `+T+`
        setOutput(result);
      }
    `},dP=function(t,n,e,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=t[0],u=t[1],l=t[2],c=t[3],d=n[0],h=e[0],v=e[1];this.outputShape=[d,h,v,c];var m=r==="bilinear"?1:0,g=[u-1+".0",l-1+".0"],b=g[0],x=g[1],S=h>1?[""+(u-1)/(h-1),"(y2-y1) * height_ratio","y1*"+b+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+b],C=S[0],_=S[1],R=S[2],E=v>1?[""+(l-1)/(v-1),"(x2-x1) * width_ratio","x1*"+x+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+x],T=E[0],D=E[1],N=E[2];this.userCode=`
      const float height_ratio = float(`+C+`);
      const float width_ratio = float(`+T+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+o+`) {
          return;
        }

        float height_scale = `+_+`;
        float width_scale = `+D+`;

        float in_y = `+R+`;
        if( in_y < 0.0 || in_y > `+b+` ) {
          setOutput(float(`+a+`));
          return;
        }
        float in_x = `+N+`;
        if( in_x < 0.0 || in_x > `+x+` ) {
          setOutput(float(`+a+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+m+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},hP=function(t,n,e){this.variableNames=["x"],this.outputShape=t;var r=t.length,a=t[t.length-1],o=e?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(e?"return "+a+" -i - 1;":"return i;")+`
      }

      void main() {
        `+Dt(r)+` coords = getOutputCoords();
        int end = `+DS(r,"coords")+`;
        float val = 0.0;
        for (int i = `+a+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+o+` end) {
            continue;
          }
          if (idx == end && `+n+`) {
            continue;
          }
          `+DS(r,"coords")+` = idx;
          val += getX(`+(function(u,l){if(u===1)return""+l;if(u===2)return l+".x, "+l+".y";if(u===3)return l+".x, "+l+".y, "+l+".z";if(u===4)return l+".x, "+l+".y, "+l+".z, "+l+".w";throw Error("Cumulative sum for rank "+u+" is not yet supported")})(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function DS(t,n){if(t===1)return""+n;if(t===2)return n+".y";if(t===3)return n+".z";if(t===4)return n+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}var pP=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Ul.DENSE;var n=Dl(t),e=jn();this.outputShape=t,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Ii(["r","c","d"],t)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+n[0]+", "+n[1]+`));
        int index = 4 * (resTexRC.x * `+n[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+e.output+` = result;
      }
    `},vP=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Ul.DENSE;var n=Dl(t),e=jn();this.outputShape=t,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Ii(["r","c","d"],t)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+n[0]+", "+n[1]+`));
        int index = 4 * (resTexRC.x * `+n[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+e.output+` = result;
      }
    `},mP=(function(){function t(n,e,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=n,this.blockSize=e,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+e+`;
      int offset_h = imod(h, `+e+`);
      int in_w = w / `+e+`;
      int offset_w = imod(w, `+e+`);
      int offset_d = (offset_h * `+e+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return t.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},t.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},t.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},t.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},t})(),gP=function(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},yP=function(t){this.variableNames=["A"],this.outTexUsage=Cr.DOWNLOAD;var n=jn();this.outputShape=t,this.userCode=`
      `+xR+`

      void main() {
        float x = getAAtOutCoords();
        `+n.output+` = encode_float(x);
      }
    `},bP=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Cr.DOWNLOAD;var n=jn();this.outputShape=t,this.userCode=`
      `+xR+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+n.output+` = encode_float(x);
      }
    `},xP=function(t,n,e){e===void 0&&(e=!1),this.variableNames=["A"];var r=jn(),a=n[0],o=n[1];this.outputShape=t;var u="result";e&&(u="floor(result * 255. + 0.5)"),this.userCode=`
      `+Ny(t)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+o+`;
        int c = imod(flatIndex, `+o+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+o+".0, "+a+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+u+`, 0., 0., 0.);
      }
    `},wP=function(t,n,e){e===void 0&&(e=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=jn(),a=n[0],o=n[1];this.outputShape=t;var u="",l="result";e&&(l="floor(result * 255. + 0.5)");for(var c=0;c<=1;c++)for(var d=0;d<=1;d++){var h=2*c+d;u+=`
          localCoords = coords;
          if(localCoords[2] + `+d+" < "+t[2]+`) {
            localCoords[2] += `+d+`;
            if(localCoords[1] + `+c+" < "+t[1]+`) {
              localCoords[1] += `+c+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+o+`;
              c = imod(flatIndex, `+o+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+o+".0, "+a+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+h+`] = values[0];
              } else if(offset == 1) {
                result[`+h+`] = values[1];
              } else if(offset == 2) {
                result[`+h+`] = values[2];
              } else {
                result[`+h+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+Ny(t)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+u+`

        `+r.output+" = "+l+`;
      }
    `},SP="return real * expR - imag * expI;",CP="return real * expI + imag * expR;",NS=function(t,n,e){this.variableNames=["real","imag"];var r=n[1];this.outputShape=n;var a=e?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,o=e?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+a+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+t+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+o+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},EP=(function(){function t(n,e){this.outputShape=[],this.variableNames=["x"],this.outputShape=n,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return t.prototype.getCustomSetupFunc=function(n){var e=this;return function(r,a){e.valueLoc==null&&(e.valueLoc=r.getUniformLocationNoThrow(a,"value")),r.gl.uniform1f(e.valueLoc,n)}},t})(),RP=function(t,n,e){this.variableNames=["A","indices"];var r=t.slice();r[e]=n,this.outputShape=r,this.rank=r.length;var a=Dt(this.rank),o=(function(u,l){var c=u.length;if(c>4)throw Error("Gather for rank "+c+" is not yet supported");if(c===1)return"int(getIndices(resRC))";for(var d=["resRC.x","resRC.y","resRC.z","resRC.w"],h=[],v=0;v<u.length;v++)v===l?h.push("int(getIndices("+d[v]+"))"):h.push(""+d[v]);return h.join()})(t,e);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+o+`));
      }
    `},_P=function(t,n,e){this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=e;var r=Dt(n.length),a=Dt(e.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+a+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+o+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function TP(t,n){var e=jn();return SF(t,n,e.version+`
    precision highp float;
    `+e.attribute+` vec3 clipSpacePos;
    `+e.attribute+` vec2 uv;
    `+e.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function AP(t,n){return TF(t,n,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function kP(t,n){return AF(t,n,new Uint16Array([0,1,2,2,1,3]))}function ic(t,n,e,r,a,o,u){DF(e,r);var l=kF(t,n),c=t.TEXTURE_2D;return Oe(t,n,(function(){return t.bindTexture(c,l)})),Oe(t,n,(function(){return t.texParameteri(c,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)})),Oe(t,n,(function(){return t.texParameteri(c,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)})),Oe(t,n,(function(){return t.texParameteri(c,t.TEXTURE_MIN_FILTER,t.NEAREST)})),Oe(t,n,(function(){return t.texParameteri(c,t.TEXTURE_MAG_FILTER,t.NEAREST)})),Oe(t,n,(function(){return t.texImage2D(c,0,a,e,r,0,o,u,null)})),Oe(t,n,(function(){return t.bindTexture(t.TEXTURE_2D,null)})),l}function DP(t,n,e,r,a){var o=oh(e,r);return ic(t,n,o[0],o[1],a.internalFormatFloat,a.textureFormatFloat,t.FLOAT)}function NP(t,n,e,r,a){var o=oh(e,r);return ic(t,n,o[0],o[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function MP(t,n,e,r,a){var o=oh(e,r);return ic(t,n,o[0],o[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function OP(t,n,e,r,a){var o=oc(e,r);return ic(t,n,o[0],o[1],a.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function IP(t,n,e,r,a){var o=oc(e,r);return ic(t,n,o[0],o[1],a.internalFormatPackedHalfFloat,t.RGBA,a.textureTypeHalfFloat)}function BP(t,n,e,r){return Oe(t,n,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),yS(t,n,e,"clipSpacePos",r,3,20,0)&&yS(t,n,e,"uv",r,2,20,12)}function FP(t,n,e,r,a,o,u){var l,c,d;Oe(t,n,(function(){return t.bindTexture(t.TEXTURE_2D,e)})),o instanceof Uint8Array?(l=new Uint8Array(r*a*4),c=t.UNSIGNED_BYTE,d=t.RGBA):(l=new Float32Array(r*a*4),c=t.FLOAT,d=u.internalFormatPackedFloat),l.set(o),Oe(t,n,(function(){return t.texImage2D(t.TEXTURE_2D,0,d,r,a,0,t.RGBA,c,l)})),Oe(t,n,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))}function LP(t,n,e,r){Oe(t,n,(function(){return t.bindTexture(t.TEXTURE_2D,e)})),r.data instanceof Uint8Array?Oe(t,n,(function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r.width,r.height,0,t.RGBA,t.UNSIGNED_BYTE,r.data)})):Oe(t,n,(function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)})),Oe(t,n,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))}function PP(t,n,e,r,a){var o=t.createBuffer();Oe(t,n,(function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,o)}));var u=16*e*r;return Oe(t,n,(function(){return t.bufferData(t.PIXEL_PACK_BUFFER,u,t.STREAM_READ)})),Oe(t,n,(function(){return t.readPixels(0,0,r,e,t.RGBA,t.FLOAT,0)})),Oe(t,n,(function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,null)})),o}function zP(t,n,e){var r=t,a=new Float32Array(e);return r.bindBuffer(r.PIXEL_PACK_BUFFER,n),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function UP(t,n,e,r,a){var o=oh(e,r),u=o[0],l=o[1],c=new Uint8Array(e*r*4);return Oe(t,n,(function(){return t.readPixels(0,0,u,l,a.downloadTextureFormat,t.UNSIGNED_BYTE,c)})),new Float32Array(c.buffer)}function WP(t,n,e,r,a,o,u,l){var c=t,d=new Float32Array((function(h,v){var m=oc(h,v);return m[0]*m[1]*4})(o,u));return c.bindBuffer(c.PIXEL_PACK_BUFFER,n),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,d),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),d}function HP(t,n,e,r){var a=new Float32Array(e*r*4);return Oe(t,n,(function(){return t.readPixels(0,0,r,e,t.RGBA,t.FLOAT,a)})),a}var jP=(function(){function t(n){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var e=de().getNumber("WEBGL_VERSION");n!=null?(this.gl=n,gF(e,n)):this.gl=Ma(e);var r="WEBGL_color_buffer_float";if(de().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=Bf(this.gl,this.debug,"OES_texture_float"),Vr(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=Bf(this.gl,this.debug,"OES_texture_half_float");else if(de().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Vr(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=Bf(this.gl,this.debug,"EXT_color_buffer_half_float");else if(de().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Vr(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Vr(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=AP(this.gl,this.debug),this.indexBuffer=kP(this.gl,this.debug),this.framebuffer=NF(this.gl,this.debug),this.textureConfig=wy(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(t.prototype,"debug",{get:function(){return de().getBool("DEBUG")},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var n=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;Oe(e,this.debug,(function(){return e.finish()})),Oe(e,this.debug,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),Oe(e,this.debug,(function(){return e.deleteFramebuffer(n.framebuffer)})),Oe(e,this.debug,(function(){return e.bindBuffer(e.ARRAY_BUFFER,null)})),Oe(e,this.debug,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)})),Oe(e,this.debug,(function(){return e.deleteBuffer(n.indexBuffer)})),this.disposed=!0}},t.prototype.createFloat32MatrixTexture=function(n,e){return this.throwIfDisposed(),DP(this.gl,this.debug,n,e,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(n,e){return this.throwIfDisposed(),NP(this.gl,this.debug,n,e,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(n,e){return this.throwIfDisposed(),MP(this.gl,this.debug,n,e,this.textureConfig)},t.prototype.uploadPixelDataToTexture=function(n,e){this.throwIfDisposed(),LP(this.gl,this.debug,n,e)},t.prototype.uploadDenseMatrixToTexture=function(n,e,r,a){this.throwIfDisposed(),FP(this.gl,this.debug,n,e,r,a,this.textureConfig)},t.prototype.createFloat16PackedMatrixTexture=function(n,e){return this.throwIfDisposed(),IP(this.gl,this.debug,n,e,this.textureConfig)},t.prototype.createPackedMatrixTexture=function(n,e){return this.throwIfDisposed(),OP(this.gl,this.debug,n,e,this.textureConfig)},t.prototype.deleteMatrixTexture=function(n){var e=this;this.throwIfDisposed(),this.outputTexture===n&&(bS(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Oe(this.gl,this.debug,(function(){return e.gl.deleteTexture(n)}))},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(n,e,r){var a=this;return this.downloadMatrixDriver(n,(function(){return UP(a.gl,a.debug,e,r,a.textureConfig)}))},t.prototype.downloadPackedMatrixFromBuffer=function(n,e,r,a,o,u){return WP(this.gl,n,0,0,0,o,u,this.textureConfig)},t.prototype.downloadFloat32MatrixFromBuffer=function(n,e){return zP(this.gl,n,e)},t.prototype.createBufferFromTexture=function(n,e,r){this.bindTextureToFrameBuffer(n);var a=PP(this.gl,this.debug,e,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a},t.prototype.createAndWaitForFence=function(){var n=this.createFence(this.gl);return this.pollFence(n)},t.prototype.createFence=function(n){var e,r,a=this;if(de().getBool("WEBGL_FENCE_API_ENABLED")){var o=n,u=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);n.flush(),r=function(){var l=o.clientWaitSync(u,0,0);return l===o.ALREADY_SIGNALED||l===o.CONDITION_SATISFIED},e=u}else de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),r=function(){return a.isQueryAvailable(e,de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:e,isFencePassed:r}},t.prototype.downloadMatrixFromPackedTexture=function(n,e,r){var a=this;return this.downloadMatrixDriver(n,(function(){return HP(a.gl,a.debug,e,r)}))},t.prototype.createProgram=function(n){this.throwIfDisposed();var e=this.gl,r=CF(e,this.debug,n),a=TP(e,this.debug),o=RF(e,this.debug);return Oe(e,this.debug,(function(){return e.attachShader(o,a)})),Oe(e,this.debug,(function(){return e.attachShader(o,r)})),_F(e,this.debug,o),this.debug&&Tm(e,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=BP(e,this.debug,this.program,this.vertexBuffer)),o},t.prototype.deleteProgram=function(n){var e=this;this.throwIfDisposed(),n===this.program&&(this.program=null),n!=null&&Oe(this.gl,this.debug,(function(){return e.gl.deleteProgram(n)}))},t.prototype.setProgram=function(n){var e=this;this.throwIfDisposed(),this.program=n,this.program!=null&&this.debug&&Tm(this.gl,this.debug,this.program),Oe(this.gl,this.debug,(function(){return e.gl.useProgram(n)}))},t.prototype.getUniformLocation=function(n,e,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?OF(this.gl,this.debug,n,e):IF(this.gl,n,e)},t.prototype.getAttributeLocation=function(n,e){var r=this;return this.throwIfDisposed(),Oe(this.gl,this.debug,(function(){return r.gl.getAttribLocation(n,e)}))},t.prototype.getUniformLocationNoThrow=function(n,e){return this.throwIfDisposed(),this.gl.getUniformLocation(n,e)},t.prototype.setInputMatrixTexture=function(n,e,r){this.throwIfDisposed(),this.throwIfNoProgram(),BF(this.gl,this.debug,this.program,n,e,r)},t.prototype.setOutputMatrixTexture=function(n,e,r){this.setOutputMatrixTextureDriver(n,r,e)},t.prototype.setOutputPackedMatrixTexture=function(n,e,r){this.throwIfDisposed();var a=oc(e,r),o=a[0],u=a[1];this.setOutputMatrixTextureDriver(n,o,u)},t.prototype.setOutputMatrixWriteRegion=function(n,e,r,a){this.setOutputMatrixWriteRegionDriver(r,n,a,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(n,e,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){this.program!=null&&Tm(this.gl,this.debug,this.program),Ff(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var n=this.gl;this.debug&&this.debugValidate(),Oe(n,this.debug,(function(){return n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)}))},t.prototype.blockUntilAllProgramsCompleted=function(){var n=this;this.throwIfDisposed(),Oe(this.gl,this.debug,(function(){return n.gl.finish()}))},t.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=Bf(this.gl,this.debug,de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var n=this.gl,e=this.getQueryTimerExtensionWebGL2(),r=n.createQuery();return n.beginQuery(e.TIME_ELAPSED_EXT,r),r}var a=this.getQueryTimerExtensionWebGL1(),o=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,o),o},t.prototype.endQuery=function(){if(de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var n=this.getQueryTimerExtensionWebGL1();n.endQueryEXT(n.TIME_ELAPSED_EXT)}else{var e=this.gl,r=this.getQueryTimerExtensionWebGL2();e.endQuery(r.TIME_ELAPSED_EXT)}},t.prototype.waitForQueryAndGetTime=function(n){return Ae(this,void 0,void 0,(function(){var e=this;return ke(this,(function(r){switch(r.label){case 0:return[4,dS((function(){return e.disposed||e.isQueryAvailable(n,de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return r.sent(),[2,this.getQueryTime(n,de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},t.prototype.getQueryTime=function(n,e){if(e===0)return null;if(e===2){var r=this.gl;return r.getQueryParameter(n,r.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(n,a.QUERY_RESULT_EXT)/1e6},t.prototype.isQueryAvailable=function(n,e){if(e===0)return!0;if(e===2){var r=this.gl,a=this.getQueryTimerExtensionWebGL2(),o=r.getQueryParameter(n,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(n,a.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint},t.prototype.pollFence=function(n){var e=this;return new Promise((function(r){e.addItemToPoll((function(){return n.isFencePassed()}),(function(){return r()}))}))},t.prototype.pollItems=function(){for(var n=(function(r){for(var a=0;a<r.length&&r[a]();++a);return a-1})(this.itemsToPoll.map((function(r){return r.isDoneFn}))),e=0;e<=n;++e)(0,this.itemsToPoll[e].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(n+1)},t.prototype.addItemToPoll=function(n,e){var r=this;this.itemsToPoll.push({isDoneFn:n,resolveFn:e}),this.itemsToPoll.length>1||dS((function(){return r.pollItems(),r.itemsToPoll.length===0}))},t.prototype.bindTextureToFrameBuffer=function(n){this.throwIfDisposed(),Am(this.gl,this.debug,n,this.framebuffer),this.debug&&Ff(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(Am(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Ff(this.gl)):bS(this.gl,this.debug,this.framebuffer)},t.prototype.downloadMatrixDriver=function(n,e){this.bindTextureToFrameBuffer(n);var r=e();return this.unbindTextureToFrameBuffer(),r},t.prototype.setOutputMatrixTextureDriver=function(n,e,r){this.throwIfDisposed();var a=this.gl;Am(a,this.debug,n,this.framebuffer),this.debug&&Ff(a),this.outputTexture=n,Oe(a,this.debug,(function(){return a.viewport(0,0,e,r)})),Oe(a,this.debug,(function(){return a.scissor(0,0,e,r)}))},t.prototype.setOutputMatrixWriteRegionDriver=function(n,e,r,a){var o=this;this.throwIfDisposed(),Oe(this.gl,this.debug,(function(){return o.gl.scissor(n,e,r,a)}))},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},t})();function MS(t,n){if(t.length!==n.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+n.length+" inputs");t.forEach((function(e,r){var a=e.logicalShape,o=n[r],u=o.shape;if(!Cn(a,u))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+u+" must match");if(!e.isUniform||!o.isUniform){var l=e.texShape,c=o.isUniform?null:o.texData.texShape;if(!Cn(l,c))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+l+" and "+c+" must match")}}))}var VP=function(t,n,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var r=e.filterWidth,a=e.inChannels,o=e.strideWidth,u=e.strideHeight,l=e.padInfo,c=e.outWidth,d=e.dilationWidth,h=e.dilationHeight,v=e.dataFormat,m=l.left,g=l.top,b=a*r,x=jn(),S=v==="channelsLast",C=S?0:1,_=S?1:2,R="",E=0;E<=1;E++)for(var T=0;T<=1;T++)R+=`
          blockIndex = rc.y + `+T+`;
          pos = rc.x + `+E+`;

          if(blockIndex < `+t[1]+" && pos < "+t[0]+`) {
            offsetY = int(blockIndex / (`+c+")) * "+u+" - "+g+`;
            d0 = offsetY + `+h+" * (pos / "+b+`);

            if(d0 < `+n[C]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+c+".) * "+o+". - "+m+`.);
              d1 = offsetX + `+d+" * (int(mod(float(pos), "+b+".) / "+a+`.));

              if(d1 < `+n[_]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+a+`.));

                if (`+S+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*E+T)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*E+T)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+R+`

        `+x.output+` = result;
      }
    `},GP=function(t,n,e,r,a){this.variableNames=["x"],this.outputShape=[];var o,u=n,l=t[3]-1;this.outputShape=t;var c="float("+e+") + float("+r+") * sum";o=a===.5?"inversesqrt("+c+")":a===1?"1.0/("+c+")":"exp(log("+c+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+u+"; j <= "+u+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+l+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+o+`;
        setOutput(val);
      }
    `},qP=function(t,n,e,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=e,this.alpha=r,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+n+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+n+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+e+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+a+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+a+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},$P=function(t,n,e,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,u=n,l=t[3]-1;this.outputShape=t;var c="float("+e+") + float("+r+") * sum";o=a===.5?"inversesqrt("+c+")":a===1?"1.0/("+c+")":"exp(log("+c+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+u+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+u+"; j <= "+u+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+l+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+o+`;
        setOutput(result);
      }
    `},KP=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,e=t.strideWidth,r=t.dilationHeight,a=t.effectiveFilterHeight,o=t.effectiveFilterWidth,u=a-1-t.padInfo.top,l=o-1-t.padInfo.left,c=a*o-1;this.userCode=`
      const ivec2 pads = ivec2(`+u+", "+l+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+a+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+o+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+e+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+c+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+o+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},XP=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,e=t.strideHeight,r=t.strideWidth,a=t.dilationDepth,o=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=l-1-t.padInfo.front,v=c-1-t.padInfo.top,m=d-1-t.padInfo.left,g=l*c*d-1;this.userCode=`
      const ivec3 pads = ivec3(`+h+", "+v+", "+m+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+l+`;
           wD += `+a+`) {
          float dyD = float(dyDCorner + wD) / `+n+`.0;

          if (dyD < 0.0 || dyD >= `+t.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+c+`;
              wR += `+o+`) {
            float dyR = float(dyRCorner + wR) / `+e+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+d+`;
                wC += `+u+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+g+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+c+" * "+d+` +
                  wR * `+d+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},Om=function(t,n,e,r,a,o,u){e===void 0&&(e=!1),r===void 0&&(r=!1),a===void 0&&(a=!1),o===void 0&&(o=null),u===void 0&&(u=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;var l=e?t[1]:t[2],c=Math.ceil(l/2),d=e?"i * 2, rc.y":"rc.y, i * 2",h=r?"rc.z, i * 2":"i * 2, rc.z",v=e?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],g="",b="";o&&(g=u?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+o+`
        }`:`vec4 activation(vec4 x) {
          `+o+`
        }`,b="result = activation(result);");var x=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+g+`

      const float sharedDimension = `+c+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+c+`; i++) {
          vec4 a = getMatrixA(rc.x, `+d+`);
          vec4 b = getMatrixB(rc.x, `+h+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+v[0]+" * "+m[0]+`);
          result += (`+v[1]+" * "+m[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+x+`

        `+b+`

        setOutput(result);
      }
    `},YP=(function(){function t(n,e,r){this.variableNames=["probs"],this.outputShape=[n,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(e-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(e-1)+`));
      }
    `}return t.prototype.getCustomSetupFunc=function(n){var e=this;return function(r,a){e.seedLoc==null&&(e.seedLoc=r.getUniformLocation(a,"seed")),r.gl.uniform1f(e.seedLoc,n)}},t})(),QP=function(t,n,e,r){this.variableNames=["indices"],this.outputShape=[t,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+e+`),
                      float(index == coords.y)));
      }
    `},ZP=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t;var n=t.length;if(n===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var e=ir("rc",n),r=Dt(n),a=(function(l,c,d){if(l===1)return"rc > "+c[0];for(var h="",v=l-2;v<l;v++)h+=d[v]+" >= "+c[v],v<l-1&&(h+="||");return h})(n,t,e),o=(function(l,c,d,h){if(l===1)return"";var v=h.slice(-2);return`
    int r = `+v[0]+`;
    int c = `+v[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+c+`;
    bool rEdge = rp1 >= `+d+`;
  `})(n,t[t.length-1],t[t.length-2],e),u=(function(l,c){var d=l.length,h=(function(v,m){for(var g=[],b=0;b<=1;b++)for(var x=0;x<=1;x++){for(var S=(b===0?"r":"rp1")+", "+(x===0?"c":"cp1"),C=2;C<v;C++)S=m[m.length-1-C]+","+S;g.push(S)}return g})(d,c);return d===1?`getA(rc),
            rc + 1 >= `+l[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+h[0]+`),
          cEdge ? 0. : getA(`+h[1]+`),
          rEdge ? 0. : getA(`+h[2]+`),
          rEdge || cEdge ? 0. : getA(`+h[3]+")"})(t,e);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+a+`) {
            setOutput(vec4(0));
          } else {
            `+o+`

            setOutput(vec4(`+u+`));
          }
        }
      `}},JP=function(t,n,e){this.variableNames=["x"],this.outputShape=n.map((function(c,d){return c[0]+t[d]+c[1]}));var r=t.length,a=Dt(r),o=n.map((function(c){return c[0]})).join(","),u=n.map((function(c,d){return c[0]+t[d]})).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+a+" start = "+a+"("+o+`);
      `+a+" end = "+a+"("+u+`);

      void main() {
        `+a+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+e+`));
        } else {
          `+a+` coords = outC - start;
          setOutput(getX(`+l+`));
        }
      }
    `:`
        int start = `+o+`;
        int end = `+u+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+e+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},e5=function(t,n,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(S,C){return S[0]+t[C]+S[1]}));for(var r=t.length,a=Dt(r),o=n.map((function(S){return S[0]})).join(","),u=n.map((function(S,C){return S[0]+t[C]})).join(","),l=ir("rc",r),c=ir("source",r),d=l[r-1]+" < "+this.outputShape[r-1],h=r===1?"source":"vec2("+c.slice(-2).join()+")",v=[a+" rc = outputLoc;",l[r-1]+` += 1;
       if(`+d+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+l[r-2]+` += 1;
       if(`+l[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+l[r-1]+` += 1;
         if(`+d+") {"],m=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",g="",b=0,x=r===1?2:4;b<x;b++)g+=`
        `+v[b]+`
        if (`+m+`) {
          result[`+b+"] = float("+e+`);
        } else {
          `+a+` source = rc - start;
          result[`+b+"] = getChannel(getX("+c.join()+"), "+h+`);
        }
      `;g+=r===1?"} ":"}}",this.userCode=`
      const `+a+" start = "+a+"("+o+`);
      const `+a+" end = "+a+"("+u+`);

      void main() {
        `+a+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+g+`
        setOutput(result);
      }
    `},Im=function(t,n,e){if(this.variableNames=["x"],n==="avg"&&e)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,u=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,v=t.padInfo.left;this.outputShape=t.outShape;var m=n==="avg",g="0.0";if(m||(g="-1.0 / 1e-20"),e)this.userCode=`
        const ivec2 strides = ivec2(`+a+", "+o+`);
        const ivec2 pads = ivec2(`+h+", "+v+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+c+`;
              wR += `+u+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+d+`;
                wC += `+l+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+d+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var b=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(b="avgValue / count");var x=4*Math.floor(r/4),S=r%4,C=`
      if (`+m+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+a+", "+o+`);
      const ivec2 pads = ivec2(`+h+", "+v+`);
      const float initializationValue = `+g+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+t.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+g+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+c+`;
            wR += `+u+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+t.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+x+`; wC += 4) {
            int xC = xCCorner + wC * `+l+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+l+`, d),
              getValue(batch, xR, xC + 2 * `+l+`, d),
              getValue(batch, xR, xC + 3 * `+l+`, d)
            );

            `+C+`
          }

          int xC = xCCorner + `+x+`;
          if (`+(S===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+C+`
          } else if (`+(S===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+l+`, d),
              initializationValue,
              initializationValue
            );

            `+C+`
          } else if (`+(S===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+l+`, d),
              getValue(batch, xR, xC + 2 * `+l+`, d),
              initializationValue
            );

            `+C+`
          }
        }
        setOutput(`+b+`);
      }
    `}},Bm=function(t,n,e){if(this.variableNames=["x"],n==="avg"&&e)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,a=t.strideDepth,o=t.strideHeight,u=t.strideWidth,l=t.dilationDepth,c=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,v=t.effectiveFilterHeight,m=t.effectiveFilterWidth,g=t.padInfo.front,b=t.padInfo.top,x=t.padInfo.left;this.outputShape=t.outShape;var S=n==="avg",C="0.0";if(S||(C="-1.0 / 1e-20"),e)this.userCode=`
        const ivec3 strides =
            ivec3(`+a+", "+o+", "+u+`);
        const ivec3 pads = ivec3(`+g+", "+b+", "+x+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+h+`;
              wD += `+l+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+t.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+v+`;
                wR += `+c+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+t.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+m+`;
                  wC += `+d+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+t.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+v+" * "+m+` +
                      wR * `+m+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var _=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(_="avgValue / count");var R=4*Math.floor(r/4),E=r%4,T=`
      if (`+S+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+a+", "+o+", "+u+`);
      const ivec3 pads = ivec3(`+g+", "+b+", "+x+`);
      const float initializationValue = `+C+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+t.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+C+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+h+`;
            wD += `+l+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+t.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+v+`;
            wR += `+c+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+R+`; wC += 4) {
              int xC = xCCorner + wC * `+d+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+d+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+d+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+d+`, ch)
              );

              `+T+`
            }

            int xC = xCCorner + `+R+`;
            if (`+(E===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+T+`
            } else if (`+(E===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+d+`, ch),
                initializationValue,
                initializationValue
              );

              `+T+`
            } else if (`+(E===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+d+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+d+`, ch),
                initializationValue
              );

              `+T+`
            }
          }
          setOutput(`+_+`);
        }
      }
    `}},t5=function(t,n){this.variableNames=["x"];var e=t.windowSize,r=t.batchSize,a=t.inSize,o=Math.ceil(a/e);this.outputShape=[r,o];var u="0.0",l="";n==="prod"?u="1.0":n==="min"?(u="1.0 / 1e-20",l="min"):n==="max"&&(u="-1.0 / 1e-20",l="max");var c=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="sum"?c="sumValue":n==="prod"?c="prodValue":n==="all"?c="allValue":n==="any"&&(c="anyValue");var d=4*Math.floor(e/4),h=e%4,v=`
      if (`+(n==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(n==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+l+`(values, minMaxValue);
      }
    `,m="vec4";n==="all"?(u="1.0",v=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):n==="any"&&(u="0.0",v=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");var g="";a%e>0&&(g=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+u+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+g+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+e+`;

        vec4 minMaxValue = vec4(`+u+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+d+`; i += 4) {
          int inIdx = inOffset + i;
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+v+`
        }

        int inIdx = inOffset + `+d+`;
        if (`+(h===1)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+v+`
        } else if (`+(h===2)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+v+`
        } else if (`+(h===3)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+v+`
        }
        setOutput(`+c+`);
      }
    `},n5=function(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var e="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),e+=`
        `+a+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+Ii(["r","c","d"],n)+`
      return ivec3(r, c, d);
    }
  
      `+Ny(t)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+t[1]+`;
        int cols = `+t[2]+`;

        `+e+`

        setOutput(result);
      }
    `},r5=function(t,n,e){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var r=n.shape,a=r[1],o=r[2],u=t.shape,l=u[1],c=u[2],d=[e&&l>1?a-1:a,e&&c>1?o-1:o],h=[e&&l>1?l-1:l,e&&c>1?c-1:c],v=d[0]/h[0],m=d[1]/h[1],g=1/v,b=1/m,x=2*Math.ceil(g)+2,S=2*Math.ceil(b)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+v+`);
        const float widthScale = float(`+m+`);

        const float invHeightScale = float(`+g+`);
        const float invWidthScale = float(`+b+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+S+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+l+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+c+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(a-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(o-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},a5=function(t,n,e,r){this.variableNames=["A"],this.outputShape=[];var a=t[0],o=t[1],u=t[2],l=t[3];this.outputShape=[a,n,e,l];var c=[r&&n>1?o-1:o,r&&e>1?u-1:u],d=[r&&n>1?n-1:n,r&&e>1?e-1:e];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+c[0]/d[0]+`,
          `+c[1]/d[1]+`);
      const vec2 inputShapeRC = vec2(`+o+".0, "+u+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},o5=function(t,n,e,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=t[0],o=t[1],u=t[2],l=t[3];this.outputShape=[a,n,e,l];var c=[r&&n>1?o-1:o,r&&e>1?u-1:u],d=[r&&n>1?n-1:n,r&&e>1?e-1:e];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+c[0]/d[0]+`,
          `+c[1]/d[1]+`,
          `+c[1]/d[1]+`);
      const vec3 inputShapeRC = vec3(`+o+".0, "+u+`.0,
                                     `+u+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(l-1)+`;
        bool hasNextRow = coords.z < `+(e-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},i5=function(t,n,e){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var r=n.shape,a=r[1],o=r[2],u=t.shape,l=u[1],c=u[2],d=[e&&l>1?a-1:a,e&&c>1?o-1:o],h=[e&&l>1?l-1:l,e&&c>1?c-1:c],v=d[0]/h[0],m=d[1]/h[1],g=1/v,b=1/m,x=2*Math.ceil(g)+2,S=2*Math.ceil(b)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+v+`);
        const float widthScale = float(`+m+`);

        const float invHeightScale = float(`+g+`);
        const float invWidthScale = float(`+b+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+S+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+l+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+c+`) {
              continue;
            }

            float sourceFracRow =
              float(`+d[0]+`) *
                (float(dyR) / float(`+h[0]+`));

            float sourceFracCol =
                float(`+d[1]+`) *
                  (float(dyC) / float(`+h[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+a+`) - 1),
                `+e+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+o+`) - 1),
                `+e+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},s5=function(t,n,e,r){this.variableNames=["A"],this.outputShape=[];var a=t[0],o=t[1],u=t[2],l=t[3];this.outputShape=[a,n,e,l];var c=[r&&n>1?o-1:o,r&&e>1?u-1:u],d=[r&&n>1?n-1:n,r&&e>1?e-1:e],h=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+c[0]/d[0]+`,
          `+c[1]/d[1]+`);
      const vec2 inputShapeRC = vec2(`+o+".0, "+u+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+h+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},u5=function(t,n){this.variableNames=["x"];var e=t.length;if(e>4)throw new Error("WebGL backend: Reverse of rank-"+e+" tensor is not yet supported");if(this.outputShape=t,e!==1){var r=t.map((function(o,u){return(function(l){return n.indexOf(l)!==-1&&t[l]!==1?t[l]+" - coords["+l+"] - 1":"coords["+l+"]"})(u)})).join(","),a=Dt(e);this.userCode=`
      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+t[0]+` - coord - 1));
        }
      `},l5=function(t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var e=t.length;if(e>4)throw new Error("WebGL backend: Reverse of rank-"+e+" tensor is not yet supported");this.outputShape=t;var r=ir("rc",e),a=r[e-1]+" + 1 < "+this.outputShape[e-1],o=r[e-2]+" + 1 < "+this.outputShape[e-2],u=Dt(e);function l(c){var d=t.map((function(h,v){return(function(m,g){return n.indexOf(m)!==-1&&t[m]!==1?t[m]+" - "+g[m]+" - 1":""+g[m]})(v,c)}));return"getChannel(getX("+d.join(",")+"), vec2("+d.slice(-2).join(",")+"))"}this.userCode=e===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+t[0]+` - rc - 1),
            `+t[0]+` - rc - 1);
          if(`+a+`){
              result.g = getChannel(getX(`+t[0]+` - (rc  + 1) - 1),
                `+t[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+u+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+(function(c){return l(c)})(r.slice())+`;
          if(`+a+`){
            result.g = `+(function(c){return c[e-1]="("+c[e-1]+" + 1)",l(c)})(r.slice())+`;
          }
          if(`+o+`) {
            result.b = `+(function(c){return c[e-2]="("+c[e-2]+" + 1)",l(c)})(r.slice())+`;
            if(`+a+`) {
              result.a = `+(function(c){return c[e-1]="("+c[e-1]+" + 1)",c[e-2]="("+c[e-2]+" + 1)",l(c)})(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},OS=function(t,n,e,r,a,o,u){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var l=Dt(a.length),c=Dt(o.length),d="";e===1?d="i":e===2&&(d="i, j");var h="getIndices("+d+")",v="";r===1?v="i":r===2&&(v="i, coords[1]");var m="getUpdates("+v+")",g=n>1?"strides[j]":"strides";this.userCode=`
        `+l+" strides = "+l+"("+a+`);

        void main() {
          `+c+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+t+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+n+`; j++) {
              int index = round(`+h+`);
              flattenedIndex += index * `+g+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+m+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},c5=function(t,n){this.variableNames=["x","segmentIds"];var e=t.windowSize,r=t.batchSize,a=t.inSize,o=t.numSegments,u=o*Math.ceil(a/e);this.outputShape=[r,u];var l=4*Math.floor(e/4),c=e%4,d=`
        sumValue += dot(values, segFilter);
    `,h="";a%e>0&&(h=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `);var v="";a%e>0&&(v=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+h+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+v+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+o+")) * float("+e+`));
        int currentSeg = int(mod(float(outIdx), float(`+o+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+l+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+d+`
        }

        int inIdx = inOffset + `+l+`;
        if (`+(c===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+d+`
        } else if (`+(c===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+d+`
        } else if (`+(c===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+d+`
        }
        setOutput(sumValue);
      }
    `},f5=function(t,n,e){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=n,e>4)throw Error("Where for rank "+e+" is not yet supported");if(e===1)a="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],l=[],c=0;c<n.length;c++)l.push(""+o[c]),c<t&&u.push(""+o[c]);r=u.join(),a=l.join()}var d=Dt(e);this.userCode=`
      void main() {
        `+d+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+a+`));
        } else {
          setOutput(getB(`+a+`));
        }
      }
    `},d5=(function(){function t(n){this.variableNames=["source"],this.outputShape=n,this.rank=n.length;var e,r=Dt(this.rank),a="uniform int start["+this.rank+"];",o=(function(u){if(u===1)return"sourceLoc";if(u<=6)return Fm.slice(0,u).map((function(l){return"sourceLoc."+l})).join(",");throw Error("Slicing for rank "+u+" is not yet supported")})(this.rank);e=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+n.map((function(u,l){return"sourceLoc."+Fm[l]+" = start["+l+"] + coords."+Fm[l]+";"})).join(`
`)+`
      `,this.userCode=`
      `+a+`
      void main() {
        `+e+`
        setOutput(getSource(`+o+`));
      }
    `}return t.prototype.getCustomSetupFunc=function(n){var e=this;if(n.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+n.length+")");return function(r,a){e.startLoc==null&&(e.startLoc=r.getUniformLocationNoThrow(a,"start"),e.startLoc==null)||r.gl.uniform1iv(e.startLoc,n)}},t})(),Fm=["x","y","z","w","u","v"],h5=(function(){function t(n){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.rank=n.length;var e=Dt(this.rank),r=ir("coords",this.rank),a=ir("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":"vec2("+a.slice(-2).join()+")",u="getChannel(getSource("+a.join()+"), "+o+")",l=`
      result.x = `+u+`;
      if (++`+r[this.rank-1]+" < "+n[this.rank-1]+`) {
        ++`+a[this.rank-1]+`;
        result.y = `+u+`;
        --`+a[this.rank-1]+`;
      }
    `,c=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+n[this.rank-2]+`) {
        ++`+a[this.rank-2]+`;
        result.z = `+u+`;
        if (++`+r[this.rank-1]+" < "+n[this.rank-1]+`) {
          ++`+a[this.rank-1]+`;
          result.w = `+u+`;
        }
      }
    `,d=this.rank<=4?`sourceLoc = coords +
            `+e+"("+n.map((function(h,v){return"start["+v+"]"})).join()+");":n.map((function(h,v){return a[v]+" = "+r[v]+" + start["+v+"];"})).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+e+` coords = getOutputCoords();
        `+e+` sourceLoc;
        `+d+`
        vec4 result = vec4(0.);
        `+l+`
        `+c+`
        setOutput(result);
      }
    `}return t.prototype.getCustomSetupFunc=function(n){var e=this;if(n.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+n.length+")");return function(r,a){e.startLoc==null&&(e.startLoc=r.getUniformLocationNoThrow(a,"start"),e.startLoc==null)||r.gl.uniform1iv(e.startLoc,n)}},t})(),p5=function(t,n,e){this.variableNames=["x"],this.outputShape=e;var r=e.length,a=Dt(e.length),o=Dt(e.length),u="";if(r===1)u="coords * strides + begin";else{var l=0;u=e.map((function(c,d){return l++,e.length===1?"coords * strides["+d+"] + begin["+d+"]":"coords["+(l-1)+"] * strides["+d+"] + begin["+d+"]"})).join(",")}this.userCode=`
      `+a+" begin = "+a+"("+t+`);
      `+a+" strides = "+a+"("+n+`);

      void main() {
        `+o+` coords = getOutputCoords();
        setOutput(getX(`+u+`));
      }
    `},v5=(function(){function t(n){this.gpgpu=n,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(n,e,r){var a,o=IS(e,r),u=BS(n,o,r);if(u in this.freeTextures||(this.freeTextures[u]=[]),u in this.usedTextures||(this.usedTextures[u]=[]),this.freeTextures[u].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var l=this.freeTextures[u].shift();return this.usedTextures[u].push(l),l}return this.numUsedTextures++,this.log(),o===wr.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(n[0],n[1]):o===wr.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(n[0],n[1]):o===wr.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(n[0],n[1]):o===wr.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(n[0],n[1]):o===wr.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(n[0],n[1])),this.usedTextures[u].push(a),a},t.prototype.releaseTexture=function(n,e,r,a){if(this.freeTextures!=null){var o=BS(e,IS(r,a),a);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(n),this.numFreeTextures++,this.numUsedTextures--;var u=this.usedTextures[o],l=u.indexOf(n);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u.splice(l,1),this.log()}},t.prototype.log=function(){if(this.logEnabled){var n=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+n+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var n=this;if(this.freeTextures!=null){for(var e in this.freeTextures)this.freeTextures[e].forEach((function(r){n.gpgpu.deleteMatrixTexture(r)}));for(var e in this.usedTextures)this.usedTextures[e].forEach((function(a){n.gpgpu.deleteMatrixTexture(a)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t})();function IS(t,n){if(t===Cr.UPLOAD)return wr.PACKED_2X2_FLOAT32;if(t===Cr.RENDER||t==null)return(function(e){return de().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?wr.PACKED_2X2_FLOAT32:wr.UNPACKED_FLOAT32:e?wr.PACKED_2X2_FLOAT16:wr.UNPACKED_FLOAT16})(n);if(t===Cr.DOWNLOAD||t===Cr.PIXELS)return wr.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+t)}function BS(t,n,e){return t[0]+"_"+t[1]+"_"+n+"_"+e}var m5=function(t,n){this.variableNames=["A"];for(var e=new Array(t.length),r=0;r<e.length;r++)e[r]=t[r]*n[r];this.outputShape=e,this.rank=e.length;var a=Dt(this.rank),o=(function(u){var l=u.length;if(l>5)throw Error("Tile for rank "+l+" is not yet supported");if(l===1)return"imod(resRC, "+u[0]+")";for(var c=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],d=[],h=0;h<u.length;h++)d.push("imod("+c[h]+", "+u[h]+")");return d.join()})(t);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+o+`));
      }
    `},g5=function(t,n){this.variableNames=["A"];for(var e=new Array(t.length),r=0;r<e.length;r++)e[r]=t[n[r]];this.outputShape=e,this.rank=e.length;var a=Dt(this.rank),o=(function(u){var l=u.length;if(l>6)throw Error("Transpose for rank "+l+" is not yet supported");for(var c=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],d=new Array(l),h=0;h<u.length;h++)d[u[h]]=c[h];return d.join()})(n);this.userCode=`
    void main() {
      `+a+` resRC = getOutputCoords();
      setOutput(getA(`+o+`));
    }
    `},y5=function(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var e=new Array(t.length),r=0;r<e.length;r++)e[r]=t[n[r]];if(this.outputShape=e,this.rank=e.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=Dt(this.rank),o=bR("rc",this.rank),u=new Array(this.rank);for(r=0;r<n.length;r++)u[n[r]]=o[r];var l="vec2("+u.slice(-2).join()+")",c="++"+o[this.rank-1]+" < "+e[this.rank-1],d="getChannel(getA("+u.join()+"), "+l+")";this.userCode=`
    void main() {
      `+a+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+d+`;
      if(`+c+`) {
        result[1] = `+d+`;
      }
      --`+o[this.rank-1]+`;
      if(++`+o[this.rank-2]+" < "+e[this.rank-2]+`) {
        result[2] = `+d+`;
        if(`+c+`) {
          result[3] = `+d+`;
        }
      }
      setOutput(result);
    }
    `},My=1.7580993408473768,Oy=1.0507009873554805,Xe=function(t,n){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      float unaryOperation(float x) {
        `+n+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},sa="if (isnan(x)) return x;",b5="return x;",FS="return abs(x);",ER=sa+`
  return (x < 0.0) ? 0.0 : x;
`,RR=sa+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,_R="return (x >= 0.0) ? x : (exp(x) - 1.0);",x5=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+My+`;
  float scale = `+Oy+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,LS="return -x;",PS="return ceil(x);",zS="return floor(x);",US="return exp(x);",WS="return exp(x) - 1.0;",w5=sa+`
  return sin(x);
`,S5=sa+`
  return cos(x);
`,C5=sa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,E5=sa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,R5=sa+`
  return atan(x);
`,_5=sa+"return log(x + sqrt(x * x + 1.0));",T5=sa+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,A5=sa+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Uf="return x;",k5="return x;",TR=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,AR=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,kR=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,wl=function(t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+n+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},D5=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t;var n=t.length,e=ir("rc",n),r=Dt(n),a=(function(l,c){if(l===1)return"rc";for(var d="",h=0;h<l;h++)d+=c[h],h<l-1&&(d+=",");return d})(n,e),o=e.slice(-2),u=n<=1?"rc":"vec2("+o.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+a+`);

        setOutput(getChannel(packedInput, `+u+`));
      }
    `},Wf={};function Hf(t,n){if(n===void 0&&(n=!1),t==="linear")return n?k5:b5;if(t==="relu")return n?TR:ER;if(t==="elu")return n?kR:_R;if(t==="relu6")return n?AR:RR;if(t==="prelu")return n?CR:SR;throw new Error("Activation "+t+" has not been implemented for the WebGL backend.")}var N5=600,M5=(function(t){function n(e){var r,a=t.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!de().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(e==null){var o=Ma(de().getNumber("WEBGL_VERSION"));a.binaryCache=((r=de().getNumber("WEBGL_VERSION"))in Wf||(Wf[r]={}),Wf[r]),a.gpgpu=new jP(o),a.canvas=o.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=e,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=e.gl.canvas;return a.textureManager=new v5(a.gpgpu),a.numMBBeforeWarning=de().global.screen==null?1024:de().global.screen.height*de().global.screen.width*window.devicePixelRatio*N5/1024/1024,a.texData=new cR(a,ee),a}return ia(n,t),n.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},n.prototype.write=function(e,r,a){if(de().getBool("DEBUG")&&this.checkNumericalProblems(e),a==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var o={};return this.texData.set(o,{shape:r,dtype:a,values:e,usage:Cr.UPLOAD}),o},n.prototype.move=function(e,r,a,o){if(de().getBool("DEBUG")&&this.checkNumericalProblems(r),o==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:a,dtype:o,values:r,usage:Cr.UPLOAD})},n.prototype.readSync=function(e){var r=this.texData.get(e),a=r.values,o=r.dtype,u=r.complexTensors,l=r.slice,c=r.shape,d=r.isPacked;if(l!=null){var h=void 0;h=d?new wl(c,Uf):new Xe(c,Uf);var v=this.runWebGLProgram(h,[{dataId:e,shape:c,dtype:o}],o),m=this.readSync(v.dataId);return this.disposeData(v.dataId),m}if(a!=null)return this.convertAndCacheOnCPU(e);if(o==="string")return a;var g,b,x=this.activeTimers!=null;return x&&(g=ya()),o==="complex64"?b=_g(u.real.dataSync(),u.imag.dataSync()):b=this.getValuesFromTexture(e),x&&(this.downloadWaitMs+=ya()-g),this.convertAndCacheOnCPU(e,b)},n.prototype.read=function(e){return Ae(this,void 0,void 0,(function(){var r,a,o,u,l,c,d,h,v,m,g,b,x,S,C,_,R,E,T,D,N,O;return ke(this,(function(I){switch(I.label){case 0:if(this.pendingRead.has(e))return r=this.pendingRead.get(e),[2,new Promise((function(B){return r.push(B)}))];if(a=this.texData.get(e),o=a.values,u=a.shape,l=a.slice,c=a.dtype,d=a.complexTensors,h=a.isPacked,l!=null)return v=void 0,v=h?new wl(u,Uf):new Xe(u,Uf),m=this.runWebGLProgram(v,[{dataId:e,shape:u,dtype:c}],c),g=this.read(m.dataId),this.disposeData(m.dataId),[2,g];if(o!=null)return[2,this.convertAndCacheOnCPU(e)];if(!de().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&de().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return b=null,c!=="complex64"&&de().get("WEBGL_BUFFER_SUPPORTED")&&(x=this.decode(e),S=this.texData.get(x.dataId),b=(O=this.gpgpu).createBufferFromTexture.apply(O,[S.texture].concat(Dl(u)))),this.pendingRead.set(e,[]),c==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:I.sent(),I.label=2;case 2:return c!=="complex64"?[3,4]:[4,Promise.all([d.real.data(),d.imag.data()])];case 3:return _=I.sent(),R=_[0],E=_[1],C=_g(R,E),[3,5];case 4:b==null?C=this.getValuesFromTexture(e):(T=Ne(u),C=this.gpgpu.downloadFloat32MatrixFromBuffer(b,T)),I.label=5;case 5:return x!=null&&this.disposeData(x.dataId),D=this.convertAndCacheOnCPU(e,C),N=this.pendingRead.get(e),this.pendingRead.delete(e),N.forEach((function(B){return B(D)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,D]}}))}))},n.prototype.checkNumericalProblems=function(e){if(e!=null)for(var r=0;r<e.length;r++){var a=e[r];if(!xF(a))throw de().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},n.prototype.getValuesFromTexture=function(e){var r,a=this.texData.get(e),o=a.shape,u=a.dtype,l=a.isPacked,c=Ne(o);if(de().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var d=this.decode(e),h=this.texData.get(d.dataId),v=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[h.texture].concat(Dl(o))).subarray(0,c);return this.disposeData(d.dataId),v}var m=de().getBool("WEBGL_PACK")&&l===!0,g=m?km(o):o,b=m?new bP(g):new yP(g),x=this.runWebGLProgram(b,[{shape:g,dtype:u,dataId:e}],"float32"),S=this.texData.get(x.dataId),C=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(S.texture,S.texShape[0],S.texShape[1]).subarray(0,c);return this.disposeData(x.dataId),C},n.prototype.time=function(e){return Ae(this,void 0,void 0,(function(){var r,a,o,u,l,c,d;return ke(this,(function(h){switch(h.label){case 0:return r=this.activeTimers,a=[],o=!1,this.programTimersStack==null?(this.programTimersStack=a,o=!0):this.activeTimers.push(a),this.activeTimers=a,e(),u=su(this.activeTimers.map((function(v){return v.query}))).filter((function(v){return v!=null})),l=su(this.activeTimers.map((function(v){return v.name}))).filter((function(v){return v!=null})),this.activeTimers=r,o&&(this.programTimersStack=null),c={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(u)]:[3,2];case 1:return d=h.sent(),c.kernelMs=eF(d),c.getExtraProfileInfo=function(){return d.map((function(v,m){return{name:l[m],ms:v}})).map((function(v){return v.name+": "+v.ms})).join(", ")},[3,3];case 2:c.kernelMs={error:"WebGL query timers are not supported in this environment."},h.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,c]}}))}))},n.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},n.prototype.startTimer=function(){return de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:ya(),endMs:null}},n.prototype.endTimer=function(e){return de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=ya(),e)},n.prototype.getQueryTime=function(e){return Ae(this,void 0,void 0,(function(){var r;return ke(this,(function(a){return de().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(r=e).endMs-r.startMs]}))}))},n.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var r=this.texData.get(e).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(e)}}},n.prototype.releaseGPUData=function(e){var r=this.texData.get(e),a=r.texture,o=r.dtype,u=r.texShape,l=r.usage,c=r.isPacked,d=r.slice,h=d&&d.origDataId||e,v=this.dataRefCount.get(h);v>1?this.dataRefCount.set(h,v-1):(this.dataRefCount.delete(h),a!=null&&(this.numBytesInGPU-=this.computeBytes(u,o),this.textureManager.releaseTexture(a,u,l,c)));var m=this.texData.get(e);m.texture=null,m.texShape=null,m.isPacked=!1,m.slice=null},n.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},n.prototype.getDataInfo=function(e){return this.texData.get(e)},n.prototype.getCPUBackend=function(){return de().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=ee.findBackend("cpu")),this.cpuBackend):null},n.prototype.shouldExecuteOnCPU=function(e,r){var a=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&e.every((function(o){return a.texData.get(o.dataId).texture==null&&o.size<r}))},n.prototype.getGPGPUContext=function(){return this.gpgpu},n.prototype.complex=function(e,r){var a=this.makeOutput(e.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:ee.keep(e.clone()),imag:ee.keep(r.clone())},a},n.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},n.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},n.prototype.slice=function(e,r,a){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,r,a);if(Ne(a)===0)return In([],a,e.dtype);var o=this.texData.get(e.dataId).isPacked,u=uR(e.shape,r,a);if(o||!u){var l=de().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new h5(a):new d5(a),c=l.getCustomSetupFunc(r);return this.compileAndRun(l,[e],null,c)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,r,a)},n.prototype.shallowSlice=function(e,r,a){var o=this.texData.get(e.dataId),u=this.makeOutput(a,e.dtype),l=this.texData.get(u.dataId);Object.assign(l,o),l.shape=a,l.dtype=e.dtype;var c=lR(r,e.strides);o.slice&&(c+=o.slice.flatOffset),l.slice={flatOffset:c,origDataId:o.slice&&o.slice.origDataId||e.dataId};var d=this.dataRefCount.get(l.slice.origDataId)||1;return this.dataRefCount.set(l.slice.origDataId,d+1),u},n.prototype.stridedSlice=function(e,r,a,o){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,r,a,o);var u=_y(r,a,o);if(u.some((function(c){return c===0})))return In([],u);var l=new p5(r,o,u);return this.compileAndRun(l,[e])},n.prototype.reverse=function(e,r){var a=de().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new l5(e.shape,r):new u5(e.shape,r);return this.compileAndRun(a,[e])},n.prototype.concat=function(e,r){if(e[0].dtype==="complex64"){var a=e.map((function(g){return jr(g)})),o=e.map((function(g){return wa(g)}));return Nn(this.concat(a,r),this.concat(o,r))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,r);if(e.length===1)return e[0];if(e.length>de().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var u=Math.floor(e.length/2),l=this.concat(e.slice(0,u),r),c=this.concat(e.slice(u),r);return this.concat([l,c],r)}if(de().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var d=new aP(e.map((function(g){return g.shape})),r);return this.compileAndRun(d,e)}var h=lu(e.map((function(g){return g.shape})),r),v=e.map((function(g){return g.as2D(-1,Ne(g.shape.slice(r)))})),m=new rP(v.map((function(g){return g.shape})));return this.compileAndRun(m,v).reshape(h)},n.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(de().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,LS,e.dtype);var r=new Xe(e.shape,LS);return this.compileAndRun(r,[e])},n.prototype.batchMatMul=function(e,r,a,o){var u=a?e.shape[2]:e.shape[1],l=o?r.shape[1]:r.shape[2],c=a?e.shape[1]:e.shape[2],d=e.shape[0];if((u===1||l===1)&&c>1e3){a&&(e=e.transpose([0,2,1])),o&&(r=r.transpose([0,2,1]));var h=l===1?e:e.as3D(d,c,1),v=l===1?2:1,m=l===1?r.as3D(d,1,c):r;return this.multiply(h,m).sum(v,!0)}var g=Mn(e.dtype,r.dtype),b=new Om(e.shape,[d,u,l],a,o);return this.compileAndRun(b,[e,r],g)},n.prototype.fusedBatchMatMul=function(e){var r=e.a,a=e.b,o=e.transposeA,u=e.transposeB,l=e.bias,c=e.activation,d=e.preluActivationWeights,h=o?r.shape[2]:r.shape[1],v=u?a.shape[1]:a.shape[2],m=r.shape[0],g=Mn(r.dtype,a.dtype),b=l!=null,x=d!=null,S=c?Hf(c,!0):null,C=new Om(r.shape,[m,h,v],o,u,b,S,x),_=[r,a];return l&&_.push(l),d&&_.push(d),this.compileAndRun(C,_,g)},n.prototype.multiply=function(e,r){if(e.dtype==="complex64"){var a=this.texData.get(e.dataId),o=this.texData.get(r.dataId),u=new RS(ZL,e.shape,r.shape),l=new RS(JL,e.shape,r.shape),c=[this.makeComplexComponentTensorInfo(e,a.complexTensors.real),this.makeComplexComponentTensorInfo(e,a.complexTensors.imag),this.makeComplexComponentTensorInfo(r,o.complexTensors.real),this.makeComplexComponentTensorInfo(r,o.complexTensors.imag)],d=this.compileAndRun(u,c),h=this.compileAndRun(l,c),v=this.complex(d,h);return d.dispose(),h.dispose(),v}if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.multiply(e,r);if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,_S,e.dtype);var m=new $t(_S,e.shape,r.shape);return this.compileAndRun(m,[e,r],e.dtype)},n.prototype.batchNormalization=function(e,r,a,o,u,l){var c=[e,r,a],d=null;l!=null&&(d=l.shape,c.push(l));var h=null;if(u!=null&&(h=u.shape,c.push(u)),de().getBool("WEBGL_PACK_NORMALIZATION")){var v=new QL(e.shape,r.shape,a.shape,d,h,o);return this.compileAndRun(v,c)}var m=new YL(e.shape,r.shape,a.shape,d,h,o);return this.compileAndRun(m,c)},n.prototype.localResponseNormalization4D=function(e,r,a,o,u){var l=de().getBool("WEBGL_PACK_NORMALIZATION")?new $P(e.shape,r,a,o,u):new GP(e.shape,r,a,o,u);return this.compileAndRun(l,[e])},n.prototype.LRNGrad=function(e,r,a,o,u,l,c){var d=new qP(r.shape,o,u,l,c);return this.compileAndRun(d,[r,a,e])},n.prototype.tile=function(e,r){if(e.dtype==="string"){var a=this.readSync(e.dataId).map((function(u){return yd(u)}));return gR(qe(e.shape,e.dtype,a),r)}var o=new m5(e.shape,r);return this.compileAndRun(o,[e])},n.prototype.pad=function(e,r,a){var o=de().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new e5(e.shape,r,a):new JP(e.shape,r,a);return this.compileAndRun(o,[e])},n.prototype.transpose=function(e,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,r);var a=de().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new y5(e.shape,r):new g5(e.shape,r);return this.compileAndRun(a,[e])},n.prototype.gather=function(e,r,a){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.gather(e,r,a);var o=new RP(e.shape,r.size,a);return this.compileAndRun(o,[e,r])},n.prototype.batchToSpaceND=function(e,r,a){W(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var o=r.reduce((function(v,m){return v*m})),u=Ed(e.shape,r,o),l=Rd(u.length,r.length),c=_d(e.shape,r,o),d=aR(a,r.length),h=oR(c,a,r.length);return e.reshape(u).transpose(l).reshape(c).slice(d,h)},n.prototype.spaceToBatchND=function(e,r,a){W(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var o=r.reduce((function(m,g){return m*g})),u=[[0,0]];u.push.apply(u,a);for(var l=1+r.length;l<e.shape.length;++l)u.push([0,0]);var c=e.pad(u),d=Ed(c.shape,r,o,!1),h=Rd(d.length,r.length,!1),v=_d(c.shape,r,o,!1);return c.reshape(d).transpose(h).reshape(v)},n.prototype.reduce=function(e,r,a){var o=e.shape[0],u=e.shape[1],l=Dm(u),c=new t5({windowSize:l,inSize:u,batchSize:o},r),d=this.compileAndRun(c,[e],a);return d.shape[1]===1?d:this.reduce(d,r,a)},n.prototype.argReduce=function(e,r,a){a===void 0&&(a=null);var o=e.shape[0],u=e.shape[1];a!=null&&(o=a.shape[0],u=a.shape[1]);var l=Dm(u),c=new WL({windowSize:l,inSize:u,batchSize:o},r,a==null),d=[e];a!=null&&d.push(a);var h=this.compileAndRun(c,d,"int32");return h.shape[1]===1?h:this.argReduce(e,r,h)},n.prototype.argReducePacked=function(e,r,a){a===void 0&&(a=null);var o=a!=null?a.shape:e.shape,u=Dm(o[o.length-1]),l=new $L(o,u,r,a==null),c=a==null?[e]:[e,a],d=this.compileAndRun(l,c,"int32");return d.rank===e.rank?this.argReducePacked(e,r,d):d},n.prototype.sum=function(e,r){xr("sum",r,e.rank);var a=Un(e.shape,r),o=a[0],u=Ne(a[1]),l=e.as2D(-1,u),c=Sm(e.dtype);return this.reduce(l,"sum",c).reshape(o)},n.prototype.prod=function(e,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,r);var a=Un(e.shape,r),o=a[0],u=Ne(a[1]),l=e.as2D(-1,u),c=Sm(e.dtype);return this.reduce(l,"prod",c).reshape(o)},n.prototype.unsortedSegmentSum=function(e,r,a){var o=0,u=Oa([o],e.rank),l=e;u!=null&&(l=e.transpose(u),o=Ia(1,e.rank)[0]);var c=(function(g,b,x){for(var S=[],C=g.length,_=0;_<C;_++)_!==b?S.push(g[_]):S.push(x);return S})(l.shape,o,a),d=Ne([l.shape[o]]),h=l.as2D(-1,d),v=Sm(e.dtype),m=this.segOpCompute(h,"unsortedSegmentSum",r,v,a).reshape(c);return u!=null&&(m=m.transpose(Sy(u))),m},n.prototype.segOpCompute=function(e,r,a,o,u){var l=e.shape[0],c=e.shape[1],d=(function(m,g){var b,x=!1;for(m<=sR?(b=m,x=!0):b=gg(m,Math.floor(Math.sqrt(m)));!x;)b>g||b===m?x=!0:b=gg(m,b+1);return b})(c,u),h=new c5({windowSize:d,inSize:c,batchSize:l,numSegments:u}),v=this.compileAndRun(h,[e,a],o);return v.shape[1]===u?v:(a=Cd(0,u).tile([c/d]),this.segOpCompute(v,r,a,o,u))},n.prototype.argMinMaxReduce=function(e,r,a){var o=[r];if(xr("arg"+a.charAt(0).toUpperCase()+a.slice(1),o,e.rank),!de().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var u=Un(e.shape,o),l=u[0],c=Ne(u[1]),d=e.as2D(-1,c);return this.argReduce(d,a).reshape(l)}return this.argReducePacked(e,a)},n.prototype.argMin=function(e,r){return this.argMinMaxReduce(e,r,"min")},n.prototype.argMax=function(e,r){return this.argMinMaxReduce(e,r,"max")},n.prototype.cumsum=function(e,r,a,o){if(r!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+r);var u=new hP(e.shape,a,o);return this.compileAndRun(u,[e])},n.prototype.equal=function(e,r){if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  return vec4(equal(a, b));
`,"bool");var a=new $t("return float(a == b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.notEqual=function(e,r){if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  return vec4(notEqual(a, b));
`,"bool");var a=new $t("return float(a != b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.less=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.less(e,r);if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  return vec4(lessThan(a, b));
`,"bool");var a=new $t("return float(a < b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.lessEqual=function(e,r){if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var a=new $t("return float(a <= b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.greater=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.greater(e,r);if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  return vec4(greaterThan(a, b));
`,"bool");var a=new $t("return float(a > b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.greaterEqual=function(e,r){if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var a=new $t("return float(a >= b);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.logicalNot=function(e){var r=new Xe(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[e])},n.prototype.logicalAnd=function(e,r){if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var a=new $t("return float(a >= 1.0 && b >= 1.0);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.logicalOr=function(e,r){if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var a=new $t("return float(a >= 1.0 || b >= 1.0);",e.shape,r.shape);return this.compileAndRun(a,[e,r],"bool")},n.prototype.select=function(e,r,a){var o=new f5(e.rank,r.shape,r.rank);return this.compileAndRun(o,[e,r,a],Mn(r.dtype,a.dtype))},n.prototype.where=function(e){wd("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=e.dataSync();return Dy(e.shape,r)},n.prototype.topk=function(e,r,a){return yR(e.dataSync(),e.shape,e.dtype,r)},n.prototype.min=function(e,r){xr("min",r,e.rank);var a=Un(e.shape,r),o=a[0],u=Ne(a[1]),l=e.as2D(-1,u);return this.reduce(l,"min",l.dtype).reshape(o)},n.prototype.minimum=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.minimum(e,r);var a=de().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new no(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,e.shape,r.shape):new $t(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.mod=function(e,r){var a=de().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new no(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,e.shape,r.shape):new $t(`if (b == 0.0) return NAN;
  return mod(a, b);`,e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.max=function(e,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,r);xr("max",r,e.rank);var a=Un(e.shape,r),o=a[0],u=Ne(a[1]),l=e.as2D(-1,u);return this.reduce(l,"max",l.dtype).reshape(o)},n.prototype.maximum=function(e,r){if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.maximum(e,r);var a=de().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new no(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,e.shape,r.shape):new $t(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.all=function(e,r){xr("all",r,e.rank);var a=Un(e.shape,r),o=a[0],u=Ne(a[1]),l=e.as2D(-1,u);return this.reduce(l,"all",l.dtype).reshape(o)},n.prototype.any=function(e,r){xr("any",r,e.rank);var a=Un(e.shape,r),o=a[0],u=Ne(a[1]),l=e.as2D(-1,u);return this.reduce(l,"any",l.dtype).reshape(o)},n.prototype.realDivide=function(e,r){if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var a=new $t(`
if (a == b) {
  return 1.0;
};
return a / b;`,e.shape,r.shape);return this.compileAndRun(a,[e,r],"float32")},n.prototype.floorDiv=function(e,r){if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var a=new $t(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,e.shape,r.shape);return this.compileAndRun(a,[e,r],"int32")},n.prototype.add=function(e,r){if(e.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(e,r,Nm);if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.add(e,r);var a=Mn(e.dtype,r.dtype);if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,Nm,a);var o=new $t(Nm,e.shape,r.shape);return this.compileAndRun(o,[e,r],a)},n.prototype.packedUnaryOp=function(e,r,a){var o=new wl(e.shape,r);return this.compileAndRun(o,[e],a)},n.prototype.packedBinaryOp=function(e,r,a,o,u){u===void 0&&(u=!1);var l=new no(a,e.shape,r.shape,u);return this.compileAndRun(l,[e,r],o)},n.prototype.complexSeparableBinaryOp=function(e,r,a){var o=this,u=this.texData.get(e.dataId),l=this.texData.get(r.dataId),c=[[u.complexTensors.real,l.complexTensors.real],[u.complexTensors.imag,l.complexTensors.imag]].map((function(m){var g=m[0],b=m[1],x=o.makeComplexComponentTensorInfo(e,g),S=o.makeComplexComponentTensorInfo(r,b),C=new $t(a,e.shape,r.shape);return o.compileAndRun(C,[x,S],Mn(g.dtype,b.dtype))})),d=c[0],h=c[1],v=this.complex(d,h);return d.dispose(),h.dispose(),v},n.prototype.makeComplexComponentTensorInfo=function(e,r){return{dataId:r.dataId,dtype:r.dtype,shape:e.shape}},n.prototype.addN=function(e){if(e.length===1)return e[0];if(e.length>de().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(e.length/2),a=this.addN(e.slice(0,r)),o=this.addN(e.slice(r));return this.addN([a,o])}var u=e.map((function(d){return d.dtype})).reduce((function(d,h){return Mn(d,h)})),l=e.map((function(d){return d.shape})),c=de().getBool("WEBGL_PACK")?new UL(e[0].shape,l):new zL(e[0].shape,l);return this.compileAndRun(c,e,u)},n.prototype.subtract=function(e,r){if(e.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(e,r,Mm);if(this.shouldExecuteOnCPU([e,r]))return this.cpuBackend.subtract(e,r);var a=Mn(e.dtype,r.dtype);if(de().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,r,Mm,e.dtype);var o=new $t(Mm,e.shape,r.shape);return this.compileAndRun(o,[e,r],a)},n.prototype.pow=function(e,r){var a=de().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new no(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,e.shape,r.shape):new $t(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,e.shape,r.shape),o=Mn(e.dtype,r.dtype);return this.compileAndRun(a,[e,r],o)},n.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(de().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,PS,e.dtype);var r=new Xe(e.shape,PS);return this.compileAndRun(r,[e])},n.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(de().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,zS,e.dtype);var r=new Xe(e.shape,zS);return this.compileAndRun(r,[e])},n.prototype.sign=function(e){var r=new Xe(e.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[e])},n.prototype.isNaN=function(e){var r=new Xe(e.shape,"return float(isnan(x));");return this.compileAndRun(r,[e],"bool")},n.prototype.isInf=function(e){var r=new Xe(e.shape,"return float(isinf(x));");return this.compileAndRun(r,[e],"bool")},n.prototype.isFinite=function(e){var r=new Xe(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[e],"bool")},n.prototype.round=function(e){var r=new Xe(e.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[e])},n.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(de().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,US,e.dtype);var r=new Xe(e.shape,US);return this.compileAndRun(r,[e])},n.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(de().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,WS,e.dtype);var r=new Xe(e.shape,WS);return this.compileAndRun(r,[e])},n.prototype.softmax=function(e,r){var a=bn([r],e.shape),o=this.max(e,a),u=cr(o.shape,a),l=this.subtract(e,o.reshape(u)),c=this.exp(l),d=this.sum(c,a).reshape(u);return this.realDivide(c,d)},n.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(de().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,e.dtype);var r=new Xe(e.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[e])},n.prototype.log1p=function(e){var r=new Xe(e.shape,"return log(1.0 + x);");return this.compileAndRun(r,[e])},n.prototype.sqrt=function(e){var r=new Xe(e.shape,"return sqrt(x);");return this.compileAndRun(r,[e])},n.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var r=new Xe(e.shape,"return inversesqrt(x);");return this.compileAndRun(r,[e])},n.prototype.reciprocal=function(e){var r=new Xe(e.shape,"return 1.0 / x;");return this.compileAndRun(r,[e])},n.prototype.relu=function(e){var r;return r=de().getBool("WEBGL_PACK")?new wl(e.shape,TR):new Xe(e.shape,ER),this.compileAndRun(r,[e])},n.prototype.relu6=function(e){var r;return r=de().getBool("WEBGL_PACK")?new wl(e.shape,AR):new Xe(e.shape,RR),this.compileAndRun(r,[e])},n.prototype.prelu=function(e,r){var a=de().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new no(CR,e.shape,r.shape):new $t(SR,e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.elu=function(e){if(de().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,kR,e.dtype);var r=new Xe(e.shape,_R);return this.compileAndRun(r,[e])},n.prototype.eluDer=function(e,r){var a=de().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new no(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,e.shape,r.shape):new $t("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.selu=function(e){var r=new Xe(e.shape,x5);return this.compileAndRun(r,[e])},n.prototype.int=function(e){var r=new Xe(e.shape,"return float(int(x));");return this.compileAndRun(r,[e],"int32")},n.prototype.clip=function(e,r,a){var o,u=(o=de().getBool("WEBGL_PACK_CLIP")?new tP(e.shape):new eP(e.shape)).getCustomSetupFunc(r,a);return this.compileAndRun(o,[e],null,u)},n.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(de().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,FS,e.dtype);var r=new Xe(e.shape,FS);return this.compileAndRun(r,[e])},n.prototype.complexAbs=function(e){var r=this.texData.get(e.dataId),a=new nP(e.shape),o=[this.makeComplexComponentTensorInfo(e,r.complexTensors.real),this.makeComplexComponentTensorInfo(e,r.complexTensors.imag)];return this.compileAndRun(a,o)},n.prototype.sigmoid=function(e){var r=new Xe(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[e])},n.prototype.softplus=function(e){var r=new Xe(e.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[e])},n.prototype.sin=function(e){var r=new Xe(e.shape,w5);return this.compileAndRun(r,[e])},n.prototype.cos=function(e){var r=new Xe(e.shape,S5);return this.compileAndRun(r,[e])},n.prototype.tan=function(e){var r=new Xe(e.shape,"return tan(x);");return this.compileAndRun(r,[e])},n.prototype.asin=function(e){var r=new Xe(e.shape,C5);return this.compileAndRun(r,[e])},n.prototype.acos=function(e){var r=new Xe(e.shape,E5);return this.compileAndRun(r,[e])},n.prototype.atan=function(e){var r=new Xe(e.shape,R5);return this.compileAndRun(r,[e])},n.prototype.atan2=function(e,r){var a=de().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new no(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,e.shape,r.shape):new $t(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,e.shape,r.shape);return this.compileAndRun(a,[e,r])},n.prototype.sinh=function(e){var r=new Xe(e.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[e])},n.prototype.cosh=function(e){var r=new Xe(e.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[e])},n.prototype.tanh=function(e){var r=new Xe(e.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[e])},n.prototype.asinh=function(e){var r=new Xe(e.shape,_5);return this.compileAndRun(r,[e])},n.prototype.acosh=function(e){var r=new Xe(e.shape,T5);return this.compileAndRun(r,[e])},n.prototype.atanh=function(e){var r=new Xe(e.shape,A5);return this.compileAndRun(r,[e])},n.prototype.erf=function(e){var r=new Xe(e.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[e])},n.prototype.step=function(e,r){var a=new Xe(e.shape,(function(o){return o===void 0&&(o=0),sa+`
    return x > 0.0 ? 1.0 : float(`+o+`);
  `})(r));return this.compileAndRun(a,[e])},n.prototype.conv2dByMatMul=function(e,r,a,o,u,l){var c=e.shape,d=this.texData.get(e.dataId),h=a.inChannels,v=c[0]*c[1]*c[2],m=a.outChannels,g=a.dataFormat==="channelsLast",b=(v===1||m===1)&&h>1e3,x=c[2]%2!=0&&!!d.isPacked;if(b||!de().getBool("WEBGL_LAZILY_UNPACK")||!de().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!x){var S=g?c[0]*c[1]*c[2]:c[0]*c[2]*c[3],C=this.reshape(e,[1,S,a.inChannels]),_=this.reshape(r,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:C,b:_,transposeA:!1,transposeB:!1,bias:o,activation:u,preluActivationWeights:l}),a.outShape)}var R=g?c[0]*c[1]*(c[2]+1):c[0]*c[2]*(c[3]+1),E={dataId:e.dataId,shape:[1,R,a.inChannels],dtype:e.dtype},T=d.shape;d.shape=d.shape.slice(),d.shape[d.shape.length-2]++,W(Pf(d.shape,E.shape),(function(){return"packed reshape "+d.shape+" to "+E.shape+" isn't free"}));var D=this.reshape(r,[1,a.inChannels,a.outChannels]),N=this.fusedBatchMatMul({a:E,b:D,transposeA:!1,transposeB:!1,bias:o,activation:u,preluActivationWeights:l}),O=this.texData.get(N.dataId);return W(O.isPacked,(function(){return"batchMatMul result is expected to be packed"})),d.shape=T,O.shape=a.outShape,ee.makeTensorFromDataId(N.dataId,a.outShape,N.dtype)},n.prototype.conv2dWithIm2Row=function(e,r,a,o,u,l){var c=a.filterWidth,d=a.filterHeight,h=a.inChannels,v=a.outWidth,m=a.outHeight,g=a.dataFormat==="channelsLast",b=c*d*h,x=m*v,S=[b,x],C=e.squeeze([0]),_=r.reshape([1,b,-1]),R=new VP(S,C.shape,a),E=this.compileAndRun(R,[C]).reshape([1,S[0],S[1]]),T=o!=null,D=l!=null,N=u?Hf(u,!0):null,O=new Om(E.shape,[1,x,a.outChannels],!0,!1,T,N,D),I=[E,_];o&&I.push(o),D&&I.push(l);var B=this.compileAndRun(O,I);return g?B.reshape([1,m,v,a.outChannels]):B.reshape([1,a.outChannels,m,v])},n.prototype.fusedConv2d=function(e){var r=e.input,a=e.filter,o=e.convInfo,u=e.bias,l=e.activation,c=e.preluActivationWeights;if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(r,a,o,u,l,c);if(de().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,a,o,u,l,c);var d=u!=null,h=c!=null,v=l?Hf(l,!1):null,m=new TS(o,d,v,h),g=[r,a];return u&&g.push(u),c&&g.push(c),this.compileAndRun(m,g)},n.prototype.conv2d=function(e,r,a){if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(e,r,a);if(de().getBool("WEBGL_CONV_IM2COL")&&e.shape[0]===1)return this.conv2dWithIm2Row(e,r,a);var o=new TS(a);return this.compileAndRun(o,[e,r])},n.prototype.conv2dDerInput=function(e,r,a){var o=new iP(a);return this.compileAndRun(o,[e,r])},n.prototype.conv2dDerFilter=function(e,r,a){var o=new oP(a);return this.compileAndRun(o,[e,r])},n.prototype.fusedDepthwiseConv2D=function(e){var r,a=e.input,o=e.filter,u=e.convInfo,l=e.bias,c=e.activation,d=e.preluActivationWeights,h=de().getBool("WEBGL_PACK_DEPTHWISECONV")&&u.strideWidth<=2&&u.outChannels/u.inChannels==1,v=c?Hf(c,h):null,m=[a,o],g=l!=null,b=d!=null;return g&&m.push(l),b&&m.push(d),h?(r=new kS(u,g,v,b),this.compileAndRun(r,m)):(r=new AS(u,g,v,b),this.compileAndRun(r,m))},n.prototype.depthwiseConv2D=function(e,r,a){var o;return de().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(o=new kS(a),this.compileAndRun(o,[e,r])):(o=new AS(a),this.compileAndRun(o,[e,r]))},n.prototype.depthwiseConv2DDerInput=function(e,r,a){var o=new cP(a);return this.compileAndRun(o,[e,r])},n.prototype.depthwiseConv2DDerFilter=function(e,r,a){var o=new lP(a);return this.compileAndRun(o,[e,r])},n.prototype.conv3d=function(e,r,a){var o=new fP(a);return this.compileAndRun(o,[e,r])},n.prototype.conv3dDerInput=function(e,r,a){var o=new uP(a);return this.compileAndRun(o,[e,r])},n.prototype.conv3dDerFilter=function(e,r,a){var o=new sP(a);return this.compileAndRun(o,[e,r])},n.prototype.maxPool=function(e,r){var a=new Im(r,"max",!1);return this.compileAndRun(a,[e])},n.prototype.avgPool=function(e,r){var a=new Im(r,"avg",!1);return this.compileAndRun(a,[e],"float32")},n.prototype.maxPoolBackprop=function(e,r,a,o){var u=new Im(o,"max",!0),l=this.compileAndRun(u,[r]),c=new KP(o),d=this.compileAndRun(c,[e,l],r.dtype);return l.dispose(),d},n.prototype.avgPoolBackprop=function(e,r,a){var o=new KL(a);return this.compileAndRun(o,[e],r.dtype)},n.prototype.cast=function(e,r){return hR(e,r,this)},n.prototype.unstack=function(e,r){for(var a=e.shape[r],o=new Array(e.rank-1),u=0,l=0;l<e.rank;l++)l!==r&&(o[u++]=e.shape[l]);var c=new Array(e.rank).fill(0),d=e.shape.slice();d[r]=1;var h=new Array(a);for(l=0;l<h.length;l++)c[r]=l,h[l]=this.slice(e,c,d).reshape(o);return h},n.prototype.avgPool3d=function(e,r){var a=new Bm(r,"avg",!1);return this.compileAndRun(a,[e],"float32")},n.prototype.avgPool3dBackprop=function(e,r,a){var o=new XL(a);return this.compileAndRun(o,[e],r.dtype)},n.prototype.maxPool3d=function(e,r){var a=new Bm(r,"max",!1);return this.compileAndRun(a,[e],"float32")},n.prototype.maxPool3dBackprop=function(e,r,a,o){var u=new Bm(o,"max",!0),l=this.compileAndRun(u,[r]),c=new XP(o),d=this.compileAndRun(c,[e,l],r.dtype);return l.dispose(),d},n.prototype.reshape=function(e,r){var a=this.texData.get(e.dataId);if(a.isPacked&&!Pf(e.shape,r)&&(a.texture===null||!Pf(a.shape,r))){var o=this.packedReshape(e,r);return ee.makeTensorFromDataId(o.dataId,o.shape,o.dtype)}return Rg(e,r)},n.prototype.resizeBilinear=function(e,r,a,o){var u=de().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new o5(e.shape,r,a,o):new a5(e.shape,r,a,o);return this.compileAndRun(u,[e],"float32")},n.prototype.resizeBilinearBackprop=function(e,r,a){var o=new r5(e,r,a);return this.compileAndRun(o,[e])},n.prototype.resizeNearestNeighbor=function(e,r,a,o){var u=new s5(e.shape,r,a,o);return this.compileAndRun(u,[e])},n.prototype.resizeNearestNeighborBackprop=function(e,r,a){var o=new i5(e,r,a);return this.compileAndRun(o,[e])},n.prototype.multinomial=function(e,r,a,o){var u=r?e:fo(e),l=u.shape[0],c=u.shape[1],d=new YP(l,c,a),h=d.getCustomSetupFunc(o);return this.compileAndRun(d,[u],"int32",h)},n.prototype.oneHot=function(e,r,a,o){var u=new QP(e.size,r,a,o);return this.compileAndRun(u,[e])},n.prototype.diag=function(e){var r=new gP(e.size);return this.compileAndRun(r,[e])},n.prototype.nonMaxSuppression=function(e,r,a,o,u){return wd("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Ay(e.dataSync(),r.dataSync(),a,o,u)},n.prototype.cropAndResize=function(e,r,a,o,u,l){var c=new dP(e.shape,r.shape,o,u,l);return this.compileAndRun(c,[e,r,a],"float32")},n.prototype.depthToSpace=function(e,r,a){W(r>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+r}));var o=e.shape[0],u=a==="NHWC"?e.shape[1]:e.shape[2],l=a==="NHWC"?e.shape[2]:e.shape[3],c=a==="NHWC"?e.shape[3]:e.shape[1],d=u*r,h=l*r,v=c/(r*r),m=new mP(a==="NHWC"?[o,d,h,v]:[o,v,d,h],r,a);return this.compileAndRun(m,[e])},n.prototype.split=function(e,r,a){return mR(e,r,a)},n.prototype.scatterND=function(e,r,a){var o=Td(0,e,a),u=o.sliceRank,l=o.numUpdates,c=o.sliceSize,d=o.strides,h=o.outputSize,v=[h/c,c],m=e.reshape([l,u]),g=r.reshape([l,c]);if(h===0)return Rg(In([]),a);var b=Ee(0),x=new OS(l,u,m.rank,g.rank,d,v);return this.compileAndRun(x,[g,m,b]).reshape(a)},n.prototype.sparseToDense=function(e,r,a,o){var u=Td(0,e,a),l=u.sliceRank,c=u.numUpdates,d=u.strides,h=u.outputSize,v=new OS(c,l,e.rank,r.rank,d,[h,1]);return this.compileAndRun(v,[r,e,o]).reshape(a)},n.prototype.fft=function(e){return this.fftImpl(e,!1)},n.prototype.ifft=function(e){return this.fftImpl(e,!0)},n.prototype.fftImpl=function(e,r){var a=this.texData.get(e.dataId),o=new NS(SP,e.shape,r),u=new NS(CP,e.shape,r),l=[this.makeComplexComponentTensorInfo(e,a.complexTensors.real),this.makeComplexComponentTensorInfo(e,a.complexTensors.imag)],c=this.compileAndRun(o,l),d=this.compileAndRun(u,l),h=this.complex(c,d).as2D(e.shape[0],e.shape[1]);return c.dispose(),d.dispose(),h},n.prototype.gatherND=function(e,r){var a=r.shape,o=a[a.length-1],u=iR(e,r),l=u[0],c=u[1],d=u[2],h=u[3],v=r.reshape([c,o]),m=e.reshape([e.size/d,d]),g=new _P(o,h,[c,d]);return this.compileAndRun(g,[m,v]).reshape(l)},n.prototype.fill=function(e,r,a){if((a=a||rc(r))==="string"){var o=gd(a,Ne(e));return o.fill(r),ee.makeTensor(o,e,a,this)}var u=new EP(e,r),l=u.getCustomSetupFunc(r);return this.compileAndRun(u,[],a,l)},n.prototype.onesLike=function(e){if(e.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},n.prototype.zerosLike=function(e){return this.fill(e.shape,e.dtype==="string"?"":0,e.dtype)},n.prototype.linspace=function(e,r,a){return pR(e,r,a)},n.prototype.makeTensorInfo=function(e,r){var a=this.write(null,e,r);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:r}},n.prototype.makeOutput=function(e,r){var a=this.makeTensorInfo(e,r).dataId;return ee.makeTensorFromDataId(a,e,r,this)},n.prototype.unpackTensor=function(e){var r=new D5(e.shape);return this.runWebGLProgram(r,[e],e.dtype)},n.prototype.packTensor=function(e){var r=new ZP(e.shape);return this.runWebGLProgram(r,[e],e.dtype,null,!0)},n.prototype.packedReshape=function(e,r){var a=[bd(e.shape)].concat(xd(e.shape)),o={dtype:e.dtype,shape:a,dataId:e.dataId},u=[bd(r)].concat(xd(r)),l=new n5(u,a),c=this.runWebGLProgram(l,[o],e.dtype,null,!0);return{dataId:c.dataId,shape:r,dtype:c.dtype}},n.prototype.decode=function(e){var r,a=this.texData.get(e),o=a.isPacked,u=a.shape,l=a.dtype,c=km(u);return r=o?new vP(c):new pP(c),{dtype:l,shape:u,dataId:this.runWebGLProgram(r,[{shape:c,dtype:l,dataId:e}],l,null,!0).dataId}},n.prototype.runWebGLProgram=function(e,r,a,o,u){var l=this;u===void 0&&(u=!1);var c=this.makeTensorInfo(e.outputShape,a),d=this.texData.get(c.dataId);if(e.packedOutput&&(d.isPacked=!0),e.outPackingScheme===Ul.DENSE){var h=Dl(e.outputShape);d.texShape=h.map((function(R){return 2*R}))}if(e.outTexUsage!=null&&(d.usage=e.outTexUsage),Ne(c.shape)===0)return d.values=Pl(c.dtype,0),c;var v=[],m=r.map((function(R){if(R.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var E=l.texData.get(R.dataId);if(E.texture==null){if(!e.packedInputs&&Ne(R.shape)<=de().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:R.shape,texData:null,isUniform:!0,uniformValues:E.values};e.packedInputs&&(E.isPacked=!0,E.shape=R.shape)}else if(!!E.isPacked!=!!e.packedInputs)R=E.isPacked?l.unpackTensor(R):l.packTensor(R),v.push(R),E=l.texData.get(R.dataId);else if(E.isPacked&&!Pf(E.shape,R.shape)){var T=R,D=R.shape;R.shape=E.shape,R=l.packedReshape(R,D),v.push(R),E=l.texData.get(R.dataId),T.shape=D}return l.uploadToGPU(R.dataId),{shape:R.shape,texData:E,isUniform:!1}}));this.uploadToGPU(c.dataId);var g,b={shape:c.shape,texData:d,isUniform:!1},x=(function(R,E,T){var D="";E.concat(T).forEach((function(I){var B=I.texData!=null&&I.texData.slice!=null&&I.texData.slice.flatOffset>0,H=I.isUniform?"uniform":I.texData.texShape;D+=I.shape+"_"+H+"_"+B}));var N=R.userCode,O=R.constructor.name;return O+="_"+D+"_"+N})(e,m,b),S=this.getAndSaveBinary(x,(function(){return(function(R,E,T,D){var N=E.userCode,O=T.map((function(Q,U){var G={logicalShape:Q.shape,texShape:Q.isUniform?null:Q.texData.texShape,isUniform:Q.isUniform,isPacked:!Q.isUniform&&Q.texData.isPacked,flatOffset:null};return Q.texData!=null&&Q.texData.slice!=null&&Q.texData.slice.flatOffset>0&&(G.flatOffset=Q.texData.slice.flatOffset),{name:E.variableNames[U],shapeInfo:G}})),I=O.map((function(Q){return Q.shapeInfo})),B={logicalShape:D.shape,texShape:D.texData.texShape,isUniform:!1,isPacked:D.texData.isPacked,flatOffset:null},H=HL(O,B,N,E.packedInputs),A=R.createProgram(H),q=null,j=R.getUniformLocation(A,"NAN",!1);de().getNumber("WEBGL_VERSION")===1&&(q=R.getUniformLocation(A,"INFINITY",!1));for(var V={},P=0;P<E.variableNames.length;P++){var $=E.variableNames[P];V[$]=R.getUniformLocation(A,$,!1),V["offset"+$]=R.getUniformLocation(A,"offset"+$,!1)}return{program:E,source:H,webGLProgram:A,uniformLocations:V,inShapeInfos:I,outShapeInfo:B,infLoc:q,nanLoc:j}})(l.gpgpu,e,m,b)})),C=this.activeTimers!=null;if(C&&(g=this.startTimer()),(function(R,E,T,D,N){MS(E.inShapeInfos,T),MS([E.outShapeInfo],[D]);var O=D.texData.texture,I=D.texData.texShape;D.texData.isPacked?R.setOutputPackedMatrixTexture(O,I[0],I[1]):R.setOutputMatrixTexture(O,I[0],I[1]),R.setProgram(E.webGLProgram),de().getNumber("WEBGL_VERSION")===1&&E.infLoc!==null&&R.gl.uniform1f(E.infLoc,1/0),E.nanLoc!==null&&R.gl.uniform1f(E.nanLoc,NaN),T.forEach((function(B,H){var A=E.program.variableNames[H],q=E.uniformLocations[A],j=E.uniformLocations["offset"+A];if(q!=null)if(B.isUniform)if(Ne(B.shape)<2)R.gl.uniform1f(q,B.uniformValues[0]);else{var V=B.uniformValues;V instanceof Float32Array||(V=new Float32Array(V)),R.gl.uniform1fv(q,V)}else B.texData.slice!=null&&j!=null&&R.gl.uniform1i(j,B.texData.slice.flatOffset),R.setInputMatrixTexture(B.texData.texture,q,H)})),N?.(R,E.webGLProgram),R.executeProgram()})(this.gpgpu,S,m,b,o),v.forEach((function(R){return l.disposeData(R.dataId)})),C&&(g=this.endTimer(g),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(g)})),!de().getBool("WEBGL_LAZILY_UNPACK")&&d.isPacked&&u===!1){var _=this.unpackTensor(c);return this.disposeData(c.dataId),_}return c},n.prototype.compileAndRun=function(e,r,a,o,u){u===void 0&&(u=!1),a=a||r[0].dtype;var l=this.runWebGLProgram(e,r,a,o,u);return ee.makeTensorFromDataId(l.dataId,l.shape,l.dtype)},n.prototype.getAndSaveBinary=function(e,r){return e in this.binaryCache||(this.binaryCache[e]=r()),this.binaryCache[e]},n.prototype.getTextureManager=function(){return this.textureManager},n.prototype.dispose=function(){var e=this;this.disposed||(de().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(r){e.gpgpu.deleteProgram(e.binaryCache[r].webGLProgram),delete e.binaryCache[r]})),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},n.prototype.floatPrecision=function(){var e=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=_e((function(){if(!de().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=de().getBool("DEBUG");de().set("DEBUG",!1);var a=e.abs(Ee(1e-8)).dataSync()[0];if(de().set("DEBUG",r),a>0)return 32}return 16}))),this.floatPrecisionValue},n.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},n.prototype.uploadToGPU=function(e){var r,a=this.texData.get(e),o=a.shape,u=a.dtype,l=a.values,c=a.texture,d=a.usage,h=a.isPacked;if(c==null){var v,m=this.activeTimers!=null;m&&(v=ya());var g=a.texShape;if(g==null&&(g=PF(o,h),a.texShape=g),l!=null){var b=km(o),x=void 0,S=g[1],C=g[0],_=l instanceof Uint8Array;h?(S=(r=oc(g[0],g[1]))[0],C=r[1],x=new wP(b,[C,S],_)):x=new xP(b,[C,S],_);var R=this.makeTensorInfo([C,S],u);this.texData.get(R.dataId).usage=_?Cr.PIXELS:Cr.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(R.dataId),S,C,l);var E=this.runWebGLProgram(x,[R],u,null,!0),T=this.texData.get(E.dataId);a.texture=T.texture,a.texShape=T.texShape,a.isPacked=T.isPacked,a.usage=T.usage,this.disposeData(R.dataId),this.texData.delete(E.dataId),a.values=null,m&&(this.uploadWaitMs+=ya()-v)}else{var D=this.acquireTexture(g,d,u,h);a.texture=D}}},n.prototype.convertAndCacheOnCPU=function(e,r){var a=this.texData.get(e),o=a.dtype;return this.releaseGPUData(e),r!=null&&(a.values=(function(u,l){if(l==="float32"||l==="complex64")return u;if(l==="int32"||l==="bool"){for(var c=l==="int32"?new Int32Array(u.length):new Uint8Array(u.length),d=0;d<c.length;++d)c[d]=Math.round(u[d]);return c}throw new Error("Unknown dtype "+l)})(r,o)),a.values},n.prototype.acquireTexture=function(e,r,a,o){if(this.numBytesInGPU+=this.computeBytes(e,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var u=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+u+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,r,o)},n.prototype.computeBytes=function(e,r){return e[0]*e[1]*HE(r)},n})(fR);XE()&&ee.registerBackend("webgl",(function(){return new M5}),2);var O5=Y({square_:function(t){var n=z(t,"x","square"),e=[n];return ee.runKernelFunc((function(r,a){return a([n]),r.square(n)}),{x:n},null,"Square",{},e,[])}}),Hl="SquaredDifference",DR=Y({squaredDifference_:function(t,n){var e,r=z(t,"a","squaredDifference"),a=z(n,"b","squaredDifference");e=jt(r,a),r=e[0],a=e[1],nt(r.shape,a.shape);var o={a:r,b:a},u=[r,a];return ee.runKernelFunc((function(l,c){var d=l.squaredDifference(r,a);return c([r,a]),d}),o,(function(l,c){var d=c[0],h=c[1],v=Ee(2);return{a:function(){return l.mul(d.sub(h).mul(v))},b:function(){return l.mul(h.sub(d).mul(v))}}}),Hl,{},u,[])}}),I5=Y({abs_:function(t){var n=z(t,"x","abs");return n.dtype==="complex64"?ee.runKernelFunc((function(e){return e.complexAbs(n)}),{$x:n}):ee.runKernelFunc((function(e,r){var a=e.abs(n);return r([n]),a}),{x:n},(function(e,r){var a=r[0];return{x:function(){return e.mul(a.toFloat().step(-1))}}}),"Abs")}}),B5=Y({acos_:function(t){var n=z(t,"x","acos");return ee.runKernelFunc((function(e,r){var a=e.acos(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.divStrict(Ee(1).sub(a.toFloat().square()).sqrt()).neg()}}}))}}),F5=Y({acosh_:function(t){var n=z(t,"x","acosh");return ee.runKernelFunc((function(e,r){var a=e.acosh(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.divStrict(a.toFloat().square().sub(1).sqrt())}}}))}}),L5=Y({asin_:function(t){var n=z(t,"x","asin");return ee.runKernelFunc((function(e,r){var a=e.asin(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.divStrict(Ee(1).sub(a.toFloat().square()).sqrt())}}}))}}),P5=Y({asinh_:function(t){var n=z(t,"x","asinh");return ee.runKernelFunc((function(e,r){var a=e.asinh(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.divStrict(Ee(1).add(a.toFloat().square()).sqrt())}}}))}}),z5=Y({atan_:function(t){var n=z(t,"x","atan");return ee.runKernelFunc((function(e,r){var a=e.atan(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.div(a.toFloat().square().add(1))}}}))}}),U5=Y({atanh_:function(t){var n=z(t,"x","atanh");return ee.runKernelFunc((function(e,r){var a=e.atanh(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.div(Ee(1).sub(a.toFloat().square()))}}}))}}),W5=Y({ceil_:function(t){var n=z(t,"x","ceil");return ee.runKernelFunc((function(e){return e.ceil(n)}),{$x:n},(function(e){return{$x:function(){return it(e)}}}))}}),Iy=Y({clipByValue_:function(t,n,e){var r=z(t,"x","clipByValue");W(n<=e,(function(){return"Error in clip: min ("+n+") must be less than or equal to max ("+e+")."}));var a=[r],o={min:n,max:e};return ee.runKernelFunc((function(u,l){var c=u.clip(r,n,e);return l([r]),c}),{x:r},(function(u,l){var c=l[0];return{x:function(){return u.where(c.greaterEqual(n).logicalAnd(c.lessEqual(e)),it(u))}}}),"ClipByValue",o,a)}}),H5=Y({cos_:function(t){var n=z(t,"x","cos"),e=[n];return ee.runKernelFunc((function(r,a){var o=r.cos(n);return a([n]),o}),{x:n},(function(r,a){var o=a[0];return{x:function(){return o.toFloat().sin().neg().mul(r)}}}),"Cos",{},e)}}),j5=Y({cosh_:function(t){var n=z(t,"x","cosh");return ee.runKernelFunc((function(e,r){var a=e.cosh(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return a.toFloat().sinh().mulStrict(e)}}}))}}),V5=Y({erf_:function(t){var n=z(t,"x","erf");return W(n.dtype==="int32"||n.dtype==="float32",(function(){return"Input dtype must be `int32` or `float32`."})),n.dtype==="int32"&&(n=n.toFloat()),ee.runKernelFunc((function(e,r){var a=e.erf(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Tg=Y({exp_:function(t){var n=z(t,"x","exp");return ee.runKernelFunc((function(e,r){var a=e.exp(n);return r([a]),a}),{x:n},(function(e,r){return{x:function(){return e.mulStrict(r[0])}}}),"Exp",{},[],[!0])}}),G5=Y({expm1_:function(t){var n=z(t,"x","expm1");return ee.runKernelFunc((function(e,r){var a=e.expm1(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.mul(a.exp())}}}))}}),q5=Y({floor_:function(t){var n=z(t,"x","floor");return ee.runKernelFunc((function(e){return e.floor(n)}),{$x:n},(function(e){return{$x:function(){return it(e)}}}))}}),$5=Y({log_:function(t){var n=z(t,"x","log"),e=[n];return ee.runKernelFunc((function(r,a){var o=r.log(n);return a([n]),o}),{x:n},(function(r,a){var o=a[0];return{x:function(){return r.div(o.toFloat())}}}),"Log",{},e)}}),K5=Y({log1p_:function(t){var n=z(t,"x","log1p");return ee.runKernelFunc((function(e,r){var a=e.log1p(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.div(a.add(1))}}}))}}),X5=Y({logSigmoid_:function(t){var n=z(t,"x","logSigmoid");return ee.runKernelFunc((function(e,r){var a=e.softplus(n.neg()).neg();return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.mul(a.neg().sigmoid())}}}))}}),Nd=Y({neg_:function(t){var n=z(t,"x","neg"),e=[n];return ee.runKernelFunc((function(r){return r.neg(n)}),{x:n},(function(r){return{x:function(){return r.neg()}}}),"Neg",{},e)}}),Y5=Y({reciprocal_:function(t){var n=z(t,"x","reciprocal");return ee.runKernelFunc((function(e,r){var a=e.reciprocal(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.div(a.square().neg())}}}))}}),Q5=Y({round_:function(t){var n=z(t,"x","round");return ee.runKernelFunc((function(e){return e.round(n)}),{$x:n},(function(e){return{$x:function(){return it(e)}}}))}}),NR=Y({rsqrt_:function(t){var n=z(t,"x","rsqrt"),e=[n];return ee.runKernelFunc((function(r,a){var o=r.rsqrt(n);return a([n]),o}),{x:n},(function(r,a){var o=a[0];return{x:function(){return r.div(o.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},e)}}),MR=Y({sigmoid_:function(t){var n=z(t,"x","sigmoid");return ee.runKernelFunc((function(e,r){var a=e.sigmoid(n);return r([a]),a}),{x:n},(function(e,r){var a=r[0];return{x:function(){return e.mul(a.mul(Ee(1).sub(a)))}}}),"Sigmoid")}}),Z5=Y({sign_:function(t){var n=z(t,"x","sign");return ee.runKernelFunc((function(e){return e.sign(n)}),{$x:n},(function(e){return{$x:function(){return it(e)}}}))}}),J5=Y({isNaN_:function(t){var n=z(t,"x","isNaN");return ee.runKernelFunc((function(e){return e.isNaN(n)}),{$x:n},(function(e){return{$x:function(){return it(e)}}}))}}),ez=Y({isInf_:function(t){var n=z(t,"x","isInf");return ee.runKernelFunc((function(e){return e.isInf(n)}),{$x:n},(function(e){return{$x:function(){return it(e)}}}))}}),tz=Y({isFinite_:function(t){var n=z(t,"x","isFinite");return ee.runKernelFunc((function(e){return e.isFinite(n)}),{$x:n},(function(e){return{$x:function(){return it(e)}}}))}}),nz=Y({sin_:function(t){var n=z(t,"x","sin"),e=[n];return ee.runKernelFunc((function(r,a){var o=r.sin(n);return a([n]),o}),{x:n},(function(r,a){var o=a[0];return{x:function(){return o.toFloat().cos().mul(r)}}}),"Sin",{},e)}}),rz=Y({sinh_:function(t){var n=z(t,"x","sinh");return ee.runKernelFunc((function(e,r){var a=e.sinh(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return a.toFloat().cosh().mulStrict(e)}}}))}}),az=Y({softplus_:function(t){var n=z(t,"x","softplus");return ee.runKernelFunc((function(e,r){var a=e.softplus(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.mul(a.sigmoid())}}}))}}),oz=Y({sqrt_:function(t){var n=z(t,"x","sqrt");return ee.runKernelFunc((function(e,r){var a=e.sqrt(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.div(a.toFloat().sqrt().mul(2))}}}))}}),iz=Y({step_:function(t,n){n===void 0&&(n=0);var e=z(t,"x","step");return ee.runKernelFunc((function(r){return r.step(e,n)}),{$x:e},(function(r){return{$x:function(){return it(r)}}}))}}),sz=Y({tan_:function(t){var n=z(t,"x","tan");return ee.runKernelFunc((function(e,r){var a=e.tan(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return e.div(a.cos().square())}}}))}}),uz=Y({tanh_:function(t){var n=z(t,"x","tanh");return ee.runKernelFunc((function(e,r){var a=e.tanh(n);return r([a]),a}),{x:n},(function(e,r){var a=r[0];return{x:function(){return Ee(1).sub(a.square()).mulStrict(e)}}}),"Tanh",{},null,[!0])}});function OR(t,n,e,r,a,o){var u,l,c=z(t,"x","batchNorm"),d=z(n,"mean","batchNorm"),h=z(e,"variance","batchNorm");return a!=null&&(u=z(a,"scale","batchNorm")),r!=null&&(l=z(r,"offset","batchNorm")),W(c.rank===2,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+c.rank+"."})),W(d.rank===2||d.rank===1,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+d.rank+"."})),W(h.rank===2||h.rank===1,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+h.rank+"."})),u!=null&&W(u.rank===2||u.rank===1,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+u.rank+"."})),l!=null&&W(l.rank===2||l.rank===1,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+l.rank+"."})),sc(c,d,h,l,u,o)}function IR(t,n,e,r,a,o){var u,l,c=z(t,"x","batchNorm"),d=z(n,"mean","batchNorm"),h=z(e,"variance","batchNorm");return a!=null&&(u=z(a,"scale","batchNorm")),r!=null&&(l=z(r,"offset","batchNorm")),W(c.rank===3,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+c.rank+"."})),W(d.rank===3||d.rank===1,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+d.rank+"."})),W(h.rank===3||h.rank===1,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+h.rank+"."})),u!=null&&W(u.rank===3||u.rank===1,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+u.rank+"."})),l!=null&&W(l.rank===3||l.rank===1,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+l.rank+"."})),sc(c,d,h,l,u,o)}function BR(t,n,e,r,a,o){var u,l,c=z(t,"x","batchNorm"),d=z(n,"mean","batchNorm"),h=z(e,"variance","batchNorm");return a!=null&&(u=z(a,"scale","batchNorm")),r!=null&&(l=z(r,"offset","batchNorm")),W(c.rank===4,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+c.rank+"."})),W(d.rank===4||d.rank===1,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+d.rank+"."})),W(h.rank===4||h.rank===1,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+h.rank+"."})),u!=null&&W(u.rank===4||u.rank===1,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+u.rank+"."})),l!=null&&W(l.rank===4||l.rank===1,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+l.rank+"."})),sc(c,d,h,l,u,o)}function sc(t,n,e,r,a,o){o==null&&(o=.001);var u,l,c,d=z(t,"x","batchNorm"),h=z(n,"mean","batchNorm"),v=z(e,"variance","batchNorm");a!=null&&(u=z(a,"scale","batchNorm")),r!=null&&(l=z(r,"offset","batchNorm")),W(h.rank===v.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),W(l==null||h.rank===l.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),W(u==null||h.rank===u.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),c=d.rank===0||d.rank===1?d.as4D(1,1,1,d.size):d.rank===2?d.as4D(1,1,d.shape[0],d.shape[1]):d.rank===3?d.as4D(1,d.shape[0],d.shape[1],d.shape[2]):d;var m=[d,h,v,u];return ee.runKernelFunc((function(g,b){var x=g.batchNormalization(c,jf(h),jf(v),o,jf(u),jf(l));return b([d,h,v,u]),x}),{x:d,mean:h,variance:v,scale:u,offset:l},(function(g,b){var x=b,S=x[0],C=x[1],_=x[2],R=x[3],E=R??Ee(1),T=gn(C.shape,c.shape),D=[];if(C.rank===1){for(var N=0;N<c.shape.length-1;++N)D.push(c.shape[N]);D.push(1)}var O=S.sub(C),I=g.mul(E),B=NR(_.add(Ee(o))),H=B.mul(B).mul(B).mul(Ee(-.5));return{x:function(){return C.rank===1?g.mul(Js(B.as4D(1,1,1,C.shape[0]),D)).mul(E).reshape(S.shape):g.mul(B).mul(E).reshape(S.shape)},mean:function(){var A=B.mul(Ee(-1)).mul(I);return C.rank===1&&(A=A.sum(T)),A.reshape(C.shape)},variance:function(){var A=H.mul(O).mul(I);return C.rank===1&&(A=A.sum(T)),A.reshape(C.shape)},scale:function(){var A=O.mul(B),q=g.mul(A);return C.rank===1&&(q=q.sum(T)),q.reshape(C.shape)},offset:function(){var A=g;return C.rank===1&&(A=A.sum(T)),A.reshape(C.shape)}}}),"BatchNormalization",{varianceEpsilon:o},m).reshape(d.shape)}function jf(t){return t==null?null:t.rank===0?t.as1D():t.rank===1?t:t.rank===2?t.as4D(1,1,t.shape[0],t.shape[1]):t.rank===3?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function uh(){YE("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var lz=Y({batchNormalization2d_:function(t,n,e,r,a,o){return r===void 0&&(r=.001),uh(),OR(t,n,e,o,a,r)}}),cz=Y({batchNormalization3d_:function(t,n,e,r,a,o){return r===void 0&&(r=.001),uh(),IR(t,n,e,o,a,r)}}),fz=Y({batchNormalization4d_:function(t,n,e,r,a,o){return r===void 0&&(r=.001),uh(),BR(t,n,e,o,a,r)}}),dz=Y({batchNormalization_:function(t,n,e,r,a,o){return r===void 0&&(r=.001),uh(),sc(t,n,e,o,a,r)}}),FR=Y({batchNorm_:sc}),hz=Y({batchNorm2d_:OR}),pz=Y({batchNorm3d_:IR}),vz=Y({batchNorm4d_:BR}),lh=Y({logicalAnd_:function(t,n){var e=z(t,"a","logicalAnd","bool"),r=z(n,"b","logicalAnd","bool");return nt(e.shape,r.shape),ee.runKernelFunc((function(a){return a.logicalAnd(e,r)}),{a:e,b:r},null,"LogicalAnd")}}),mz=Y({logicalNot_:function(t){var n=z(t,"x","logicalNot","bool");return ee.runKernelFunc((function(e){return e.logicalNot(n)}),{$x:n})}}),LR=Y({logicalOr_:function(t,n){var e=z(t,"a","logicalOr","bool"),r=z(n,"b","logicalOr","bool");return nt(e.shape,r.shape),ee.runKernelFunc((function(a){return a.logicalOr(e,r)}),{$a:e,$b:r})}}),gz=Y({logicalXor_:function(t,n){var e=z(t,"a","logicalXor","bool"),r=z(n,"b","logicalXor","bool");return nt(e.shape,r.shape),LR(t,n).logicalAnd(lh(t,n).logicalNot())}}),Wi=Y({where_:function(t,n,e){var r=z(n,"a","where"),a=z(e,"b","where"),o=z(t,"condition","where","bool");return gt(r.shape,a.shape,"Error in where: "),o.rank===1?W(o.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):gt(o.shape,a.shape,"Error in where: "),ee.runKernelFunc((function(u,l){var c=u.select(o,r,a);return l([o]),c}),{$condition:o,$a:r,$b:a},(function(u,l){var c=l[0];return{$condition:function(){return it(c).toFloat()},$a:function(){return u.mul(c.cast(u.dtype))},$b:function(){return u.mul(c.logicalNot().cast(u.dtype))}}}))}}),PR=function(t){return Ae(this,void 0,void 0,(function(){var n,e,r;return ke(this,(function(a){switch(a.label){case 0:return[4,(n=z(t,"condition","whereAsync","bool")).data()];case 1:return e=a.sent(),r=Dy(n.shape,e),t!==n&&n.dispose(),[2,r]}}))}))},Je=Y({add_:function(t,n){var e,r=z(t,"a","add"),a=z(n,"b","add");e=jt(r,a),r=e[0],a=e[1];var o=nt(r.shape,a.shape);return ee.runKernelFunc((function(u){return u.add(r,a)}),{a:r,b:a},(function(u){return{a:function(){var l=u,c=gn(r.shape,o);return c.length>0&&(l=l.sum(c)),l.reshape(r.shape)},b:function(){var l=u,c=gn(a.shape,o);return c.length>0&&(l=l.sum(c)),l.reshape(a.shape)}}}),"Add")}}),yz=Y({addN_:function(t){W(Array.isArray(t),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),W(t.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length}));var n=t.map((function(a,o){return z(a,"tensors"+o,"addN")})),e=n[0];n.forEach((function(a){if(a.dtype!==e.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),n.forEach((function(a){if(!Cn(a.shape,e.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=n;return ee.runKernelFunc((function(a){return a.addN(n)}),r,(function(a){var o={};return n.forEach((function(u,l){o[l]=function(){return a.clone()}})),o}),"AddN")}}),bz=Y({addStrict_:function(t,n){var e=z(t,"a","addStrict"),r=z(n,"b","addStrict");return gt(e.shape,r.shape,"Error in addStrict: "),e.add(r)}}),xz=Y({atan2_:function(t,n){var e,r=z(t,"a","atan2"),a=z(n,"b","atan2");e=jt(r,a),r=e[0],a=e[1];var o=nt(r.shape,a.shape);return ee.runKernelFunc((function(u,l){var c=u.atan2(r,a);return l([r,a]),c}),{$a:r,$b:a},(function(u,l){var c=l[0],d=l[1];return{$a:function(){var h=Je(c.square(),d.square()),v=u.mul(d.div(h)),m=gn(c.shape,o);return m.length>0&&(v=v.sum(m)),v.reshape(c.shape)},$b:function(){var h=Je(c.square(),d.square()),v=Nd(u.mul(c.div(h))),m=gn(d.shape,o);return m.length>0&&(v=v.sum(m)),v.reshape(d.shape)}}}))}}),ta=Y({div_:function(t,n){var e,r=z(t,"a","div"),a=z(n,"b","div");if(e=jt(r,a),r=e[0],a=e[1],r.dtype==="int32"&&a.dtype==="int32")return zR(r,a);var o=nt(r.shape,a.shape);return ee.runKernelFunc((function(u,l){var c=u.realDivide(r,a);return l([r,a]),c}),{a:r,b:a},(function(u,l){var c=l[0],d=l[1];return{a:function(){var h=u.div(d.toFloat()),v=gn(c.shape,o);return v.length>0?h.sum(v).reshape(c.shape):h},b:function(){var h=u.mul(c.toFloat()),v=gn(d.shape,o);v.length>0&&(h=h.sum(v).reshape(d.shape));var m=d.square();return h.div(m.toFloat()).neg()}}}),"Div")}}),wz=Y({divNoNan_:function(t,n){var e,r=z(t,"a","div"),a=z(n,"b","div");r=(e=jt(r,a))[0],a=e[1];var o=ta(r,a),u=it(o),l=a.equal(u);return Wi(l,u,o)}}),Sz=Y({divStrict_:function(t,n){var e=z(t,"a","div"),r=z(n,"b","div");return gt(e.shape,r.shape,"Error in divideStrict: "),e.div(r)}}),zR=Y({floorDiv_:function(t,n){var e,r=z(t,"a","floorDiv"),a=z(n,"b","floorDiv");e=jt(r,a),r=e[0],a=e[1];var o=nt(r.shape,a.shape);return ee.runKernelFunc((function(u,l){var c=u.floorDiv(r,a);return l([r,a]),c}),{a:r,b:a},(function(u,l){var c=l[0],d=l[1];return{a:function(){var h=u.div(d.toFloat()),v=gn(c.shape,o);return v.length>0?h.sum(v).reshape(c.shape):h},b:function(){var h=u.mul(c.toFloat()),v=gn(d.shape,o);v.length>0&&(h=h.sum(v).reshape(d.shape));var m=d.square();return h.div(m.toFloat()).neg()}}}),"FloorDiv")}}),By=Y({maximum_:function(t,n){var e,r=z(t,"a","maximum"),a=z(n,"b","maximum");return e=jt(r,a),r=e[0],a=e[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),nt(r.shape,a.shape),ee.runKernelFunc((function(o,u){var l=o.maximum(r,a);return u([r,a]),l}),{a:r,b:a},(function(o,u){var l=u[0],c=u[1];return{a:function(){return o.mul(l.greaterEqual(c).toFloat())},b:function(){return o.mul(l.less(c).toFloat())}}}),"Maximum")}}),Cz=Y({maximumStrict_:function(t,n){var e=z(t,"a","maximumStrict"),r=z(n,"b","maximumStrict");return gt(e.shape,r.shape,"Error in maximumStrict: "),e.maximum(r)}}),UR=Y({minimum_:function(t,n){var e,r=z(t,"a","minimum"),a=z(n,"b","minimum");return e=jt(r,a),r=e[0],a=e[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),nt(r.shape,a.shape),ee.runKernelFunc((function(o,u){var l=o.minimum(r,a);return u([r,a]),l}),{a:r,b:a},(function(o,u){var l=u[0],c=u[1];return{a:function(){return o.mul(l.lessEqual(c).toFloat())},b:function(){return o.mul(l.greater(c).toFloat())}}}),"Minimum")}}),Ez=Y({minimumStrict_:function(t,n){var e=z(t,"a","minimumStrict"),r=z(n,"b","minimumStrict");return gt(e.shape,r.shape,"Error in minimumStrict: "),e.minimum(r)}}),Rz=Y({mod_:function(t,n){var e,r=z(t,"a","mod"),a=z(n,"b","mod");e=jt(r,a),r=e[0],a=e[1];var o=nt(r.shape,a.shape);return ee.runKernelFunc((function(u,l){var c=u.mod(r,a);return l([r,a]),c}),{$a:r,$b:a},(function(u,l){var c=l[0],d=l[1];return{$a:function(){var h=gn(c.shape,o);return h.length>0?u.sum(h).reshape(c.shape):u},$b:function(){var h=u.mul(c.div(d).floor().neg()),v=gn(d.shape,o);return v.length>0?h.sum(v).reshape(d.shape):h}}}))}}),_z=Y({modStrict_:function(t,n){var e=z(t,"a","modStrict"),r=z(n,"b","modStrict");return gt(e.shape,r.shape,"Error in modStrict: "),e.mod(r)}}),Gn=Y({mul_:function(t,n){var e,r=z(t,"a","mul"),a=z(n,"b","mul");e=jt(r,a),r=e[0],a=e[1];var o=nt(r.shape,a.shape);return ee.runKernelFunc((function(u,l){var c=u.multiply(r,a);return l([r,a]),c}),{a:r,b:a},(function(u,l){var c=l[0],d=l[1];return{a:function(){var h=u.mul(d.toFloat()),v=gn(c.shape,o);return v.length>0?h.sum(v).reshape(c.shape):h},b:function(){var h=u.mul(c.toFloat()),v=gn(d.shape,o);return v.length>0?h.sum(v).reshape(d.shape):h}}}),"Mul")}}),Tz=Y({mulStrict_:function(t,n){var e=z(t,"a","mul"),r=z(n,"b","mul");return gt(e.shape,r.shape,"Error in multiplyStrict: "),e.mul(r)}}),Md=Y({pow_:function(t,n){var e,r=z(t,"base","pow"),a=z(n,"exp","pow");e=jt(r,a),r=e[0],a=e[1];var o=nt(r.shape,a.shape),u=[r,a];return ee.runKernelFunc((function(l,c){var d=l.pow(r,a);return c([r,a,d]),d}),{a:r,b:a},(function(l,c){var d=c[0],h=c[1],v=c[2];return{a:function(){var m=h.toFloat(),g=l.mul(m.mul(d.pow(m.sub(Ee(1))))),b=gn(d.shape,o);return b.length>0&&(g=g.sum(b)),g.reshape(d.shape)},b:function(){var m=d.greater(0),g=d.log().where(m,it(d)),b=l.mul(v.mul(g)),x=gn(h.shape,o);return x.length>0&&(b=b.sum(x)),b.reshape(h.shape)}}}),"Pow",{},u,[!0])}}),Az=Y({powStrict_:function(t,n){return gt(t.shape,n.shape,"Error in powStrict: "),t.pow(n)}}),kz=Y({squaredDifferenceStrict_:function(t,n){var e=z(t,"a","squaredDifferenceStrict"),r=z(n,"b","squaredDifferenceStrict");return gt(e.shape,r.shape,"Error in squaredDifferenceStrict: "),e.squaredDifference(r)}}),yn=Y({sub_:function(t,n){var e,r=z(t,"a","sub"),a=z(n,"b","sub");e=jt(r,a),r=e[0],a=e[1];var o=nt(r.shape,a.shape);return ee.runKernelFunc((function(u){return u.subtract(r,a)}),{a:r,b:a},(function(u){return{a:function(){var l=u,c=gn(r.shape,o);return c.length>0&&(l=l.sum(c)),l.reshape(r.shape)},b:function(){var l=u,c=gn(a.shape,o);return c.length>0&&(l=l.sum(c)),l.neg().reshape(a.shape)}}}),"Sub")}}),Dz=Y({subStrict_:function(t,n){var e=z(t,"a","subStrict"),r=z(n,"b","subStrict");return gt(e.shape,r.shape,"Error in subStrict: "),e.sub(r)}}),WR=Y({equal_:function(t,n){var e,r=z(t,"a","equal"),a=z(n,"b","equal");return e=jt(r,a),r=e[0],a=e[1],nt(r.shape,a.shape),ee.runKernelFunc((function(o){return o.equal(r,a)}),{$a:r,$b:a})}}),Nz=Y({equalStrict_:function(t,n){var e=z(t,"a","equalStrict"),r=z(n,"b","equalStrict");return gt(e.shape,r.shape,"Error in equalStrict: "),e.equal(r)}}),Mz=Y({greater_:function(t,n){var e,r=z(t,"a","greater"),a=z(n,"b","greater");return e=jt(r,a),r=e[0],a=e[1],nt(r.shape,a.shape),ee.runKernelFunc((function(o){return o.greater(r,a)}),{a:r,b:a},null,"Greater")}}),HR=Y({greaterEqual_:function(t,n){var e,r=z(t,"a","greaterEqual"),a=z(n,"b","greaterEqual");return e=jt(r,a),r=e[0],a=e[1],nt(r.shape,a.shape),ee.runKernelFunc((function(o,u){var l=o.greaterEqual(r,a);return u([r,a]),l}),{a:r,b:a},(function(o,u){var l=u[0],c=u[1];return{a:function(){return it(l)},b:function(){return it(c)}}}),"GreaterEqual")}}),Oz=Y({greaterEqualStrict_:function(t,n){var e=z(t,"a","greaterEqualStrict"),r=z(n,"b","greaterEqualStrict");return gt(e.shape,r.shape,"Error in greaterEqualStrict: "),e.greaterEqual(r)}}),Iz=Y({greaterStrict_:function(t,n){var e=z(t,"a","greaterStrict"),r=z(n,"b","greaterStrict");return gt(e.shape,r.shape,"Error in greaterStrict: "),e.greater(r)}}),Bz=Y({less_:function(t,n){var e,r=z(t,"a","less"),a=z(n,"b","less");return e=jt(r,a),r=e[0],a=e[1],nt(r.shape,a.shape),ee.runKernelFunc((function(o){return o.less(r,a)}),{a:r,b:a},null,"Less")}}),Fz=Y({lessEqual_:function(t,n){var e,r=z(t,"a","lessEqual"),a=z(n,"b","lessEqual");return e=jt(r,a),r=e[0],a=e[1],nt(r.shape,a.shape),ee.runKernelFunc((function(o,u){var l=o.lessEqual(r,a);return u([r,a]),l}),{a:r,b:a},null,"LessEqual")}}),Lz=Y({lessEqualStrict_:function(t,n){var e=z(t,"a","lessEqualStrict"),r=z(n,"b","lessEqualStrict");return gt(e.shape,r.shape,"Error in lessEqualStrict: "),e.lessEqual(r)}}),Pz=Y({lessStrict_:function(t,n){var e=z(t,"a","lessStrict"),r=z(n,"b","lessStrict");return gt(e.shape,r.shape,"Error in lessStrict: "),e.less(r)}}),zz=Y({notEqual_:function(t,n){var e,r=z(t,"a","notEqual"),a=z(n,"b","notEqual");return e=jt(r,a),r=e[0],a=e[1],nt(r.shape,a.shape),ee.runKernelFunc((function(o){return o.notEqual(r,a)}),{a:r,b:a},null,"NotEqual")}}),Uz=Y({notEqualStrict_:function(t,n){var e=z(t,"a","notEqualStrict"),r=z(n,"b","notEqualStrict");return gt(e.shape,r.shape,"Error in notEqualStrict: "),e.notEqual(r)}});function HS(t,n){for(var e=[],r=t;r<n;++r)e.push(r);return e}function jS(t){for(var n=[],e=0;e<t.length;++e)for(var r=0;r<t[e].length;++r)n.push(t[e][r]);return n}var Fy=Y({gather_:function(t,n,e){e===void 0&&(e=0);var r=z(t,"x","gather"),a=z(n,"indices","gather","int32");e=bn(e,r.shape)[0];var o=(function(u,l,c){for(var d=u.shape[c],h=[],v=1,m=1,g=0;g<c;g++)h.push(u.shape[g]),v*=u.shape[g];for(g=0;g<l.rank;g++)h.push(l.shape[g]);for(g=c+1;g<u.rank;g++)h.push(u.shape[g]),m*=u.shape[g];return{batchSize:v,sliceSize:m,dimSize:d,outputShape:h}})(r,a,e);return ee.runKernelFunc((function(u,l){var c=u.gather(r,a.flatten(),e);return l([a]),c}),{x:r,indices:a},(function(u,l){var c=l[0];return{x:function(){var d=r.shape,h=c.size,v=d.slice(0,e),m=v.length,g=d.slice(e,d.length).slice(1),b=g.length,x=HS(0,m),S=HS(m+1,m+1+b),C=jS([v,[h],g]),_=u.reshape(C),R=c.reshape([h]),E=jS([[m],x,S]),T=_.transpose(E),D=jR(T,R,r.shape[e]),N=Sy(E);return D=D.transpose(N)},indices:function(){return c}}}),"Gather",{axis:e}).reshape(o.outputShape)}}),jR=Y({unsortedSegmentSum_:function(t,n,e){var r=z(t,"x","unsortedSegmentSum"),a=z(n,"segmentIds","unsortedSegmentSum","int32");return W(en(e),(function(){return"numSegments must be of dtype int"})),ee.runKernelFunc((function(o,u){var l=o.unsortedSegmentSum(r,a,e);return u([a]),l}),{$x:r},(function(o,u){var l=u[0];return{$x:function(){return(function(c,d){for(var h=By(d,it(d)),v=Fy(c,h),m=HR(d,Ee(0,"int32")),g=v.rank-m.rank,b=0;b<g;++b)m=Hr(m,b+1);m=lh(m,gu(v.shape,"bool"));var x=it(v);return Wi(m,v,x)})(o,l)}}}))}}),Wz=function(t,n,e){return Ae(this,void 0,void 0,(function(){var r,a,o,u,l,c,d,h,v,m,g,b,x;return ke(this,(function(S){switch(S.label){case 0:for(r=z(t,"tensor","boolMask"),a=z(n,"mask","boolMask","bool"),o=e??0,u=a.rank,l=r.shape,W(u>0,(function(){return"mask cannot be scalar"})),gt(l.slice(o,o+u),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,d=o;d<o+u;d++)c*=l[d];return h=l.slice(0,o).concat([c],l.slice(o+u)),v=r.reshape(h),m=a.reshape([-1]),[4,PR(m)];case 1:return g=S.sent(),b=g.squeeze([1]),x=Fy(v,b,o),t!==r&&r.dispose(),n!==a&&a.dispose(),b.dispose(),v.dispose(),m.dispose(),g.dispose(),[2,x]}}))}))};function VR(t,n,e,r,a,o,u){o===void 0&&(o="NHWC"),W(t.length===n.rank,(function(){return"Length of inShape ("+t.length+") and rank of dy ("+n.rank+") must match"}));var l=t,c=n,d=!1;n.rank===3&&(d=!0,c=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]),l=[1,t[0],t[1],t[2]]),W(l.length===4,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+l.length+"."})),W(c.rank===4,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+c.rank})),W(e.rank===4,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+e.rank}));var h=o==="NHWC"?l[3]:l[1],v=o==="NHWC"?c.shape[3]:c.shape[1];W(h===e.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+h+") must match input depth for filter "+e.shape[2]+"."})),W(v===e.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+v+") must match output depth for filter "+e.shape[3]+"."})),u!=null&&W(en(a),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+a+"."}));var m=Ty(o),g=$i(l,e.shape,r,1,a,u,!1,m),b=ee.runKernelFunc((function(x,S){var C=x.conv2dDerInput(c,e,g);return S([e,c]),C}),{dy4D:c,filter:e},(function(x,S){var C=S[0],_=S[1];return{dy4D:function(){return Kr(x,C,r,a,o,1,u)},filter:function(){return Ly(x,_,C.shape,r,a,o,u)}}}));return d?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}function Lm(t){var n=(function(o){return typeof o=="number"?[o,o,o]:o.length===2?[o[0],o[1],1]:o})(t),e=n[0],r=n[1],a=n[2];return e===1&&r===1&&a===1}function GR(t,n,e,r,a){W(t.length===n.rank,(function(){return"Length of inShape ("+t.length+") and rank of dy ("+n.rank+") must match"}));var o=t,u=n,l=!1;n.rank===4&&(l=!0,u=n.as5D(1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]),o=[1,t[0],t[1],t[2],t[3]]);var c=o[4],d=u.shape[4];W(o.length===5,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."})),W(u.rank===5,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+u.rank})),W(e.rank===5,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+e.rank})),W(c===e.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+c+") must match input depth for filter "+e.shape[3]+"."})),W(d===e.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+d+") must match output depth for filter "+e.shape[4]+"."}));var h=kd(o,e.shape,r,1,a),v=ee.runKernelFunc((function(m){return m.conv3dDerInput(u,e,h)}),{dy5D:u});return l?v.as4D(v.shape[1],v.shape[2],v.shape[3],v.shape[4]):v}var Hz=Y({conv1d_:function(t,n,e,r,a,o,u){a===void 0&&(a="NWC"),o===void 0&&(o=1);var l=z(t,"x","conv1d"),c=z(n,"filter","conv1d"),d=l,h=!1;l.rank===2&&(h=!0,d=l.as3D(1,l.shape[0],l.shape[1])),W(d.rank===3,(function(){return"Error in conv1d: input must be rank 3, but got rank "+d.rank+"."})),W(c.rank===3,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+c.rank+"."})),u!=null&&W(en(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+r+"."})),W(d.shape[2]===c.shape[1],(function(){return"Error in conv1d: depth of input ("+d.shape[2]+") must match input depth for filter "+c.shape[1]+"."})),W(fr(e,o),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+e+" and dilation '"+o+"'"})),W(a==="NWC",(function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."}));var v=c.as4D(1,c.shape[0],c.shape[1],c.shape[2]),m=d.as4D(d.shape[0],1,d.shape[1],d.shape[2]),g=Kr(m,v,[1,e],r,"NHWC",[1,o],u);return h?g.as2D(g.shape[2],g.shape[3]):g.as3D(g.shape[0],g.shape[2],g.shape[3])}}),Kr=Y({conv2d_:function(t,n,e,r,a,o,u){a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]);var l=z(t,"x","conv2d"),c=z(n,"filter","conv2d"),d=l,h=!1;l.rank===3&&(h=!0,d=l.as4D(1,l.shape[0],l.shape[1],l.shape[2])),W(d.rank===4,(function(){return"Error in conv2d: input must be rank 4, but got rank "+d.rank+"."})),W(c.rank===4,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+c.rank+"."})),u!=null&&W(en(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+r+"."}));var v=a==="NHWC"?d.shape[3]:d.shape[1];W(v===c.shape[2],(function(){return"Error in conv2d: depth of input ("+v+") must match input depth for filter "+c.shape[2]+"."})),W(fr(e,o),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+o+"'"}));var m=Ty(a),g=$i(d.shape,c.shape,e,o,r,u,!1,m),b=[c,d],x=ee.runKernelFunc((function(S,C){var _=S.conv2d(d,c,g);return C([c,d]),_}),{x:d,filter:c},(function(S,C){var _=C,R=_[0],E=_[1];return W(cu(o),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"})),{x:function(){return qR(E.shape,S,R,e,r,a)},filter:function(){return Ly(E,S,R.shape,e,r,a)}}}),"Conv2D",g,b);return h?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),jz=Y({conv3d_:function(t,n,e,r,a,o){a===void 0&&(a="NDHWC"),o===void 0&&(o=[1,1,1]);var u=z(t,"x","conv3d"),l=z(n,"filter","conv3d"),c=u,d=!1;u.rank===4&&(d=!0,c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),W(c.rank===5,(function(){return"Error in conv3d: input must be rank 5, but got rank "+c.rank+"."})),W(l.rank===5,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+l.rank+"."})),W(c.shape[4]===l.shape[3],(function(){return"Error in conv3d: depth of input ("+c.shape[4]+") must match input depth for filter "+l.shape[3]+"."})),W((function(m,g){return Lm(m)||Lm(g)})(e,o),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+o+"'"})),W(a==="NDHWC",(function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."}));var h=kd(c.shape,l.shape,e,o,r),v=ee.runKernelFunc((function(m,g){var b=m.conv3d(c,l,h);return g([c,l]),b}),{x:c,$filter:l},(function(m,g){W(Lm(o),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}));var b=g[0],x=g[1];return{x:function(){return GR(b.shape,m,x,e,r)},$filter:function(){return(function(S,C,_,R,E){var T=S;S.rank===4&&(T=S.as5D(1,S.shape[0],S.shape[1],S.shape[2],S.shape[3]));var D=C;D.rank===4&&(D=C.as5D(1,C.shape[0],C.shape[1],C.shape[2],C.shape[3])),W(T.rank===5,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+T.shape+"."})),W(D.rank===5,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+D.shape+"."})),W(_.length===5,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+_+"."})),W(T.shape[4]===_[3],(function(){return"Error in conv3dDerFilter: depth of input "+T.shape[4]+") must match input depth in filter ("+_[3]+"."})),W(D.shape[4]===_[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+D.shape[4]+") must match output depth for filter ("+_[4]+")."}));var N=kd(T.shape,_,R,1,E);return ee.runKernelFunc((function(O){return O.conv3dDerFilter(T,D,N)}),{x5D:T,dy5D:D})})(b,m,x.shape,e,r)}}}));return d?v.as4D(v.shape[1],v.shape[2],v.shape[3],v.shape[4]):v}}),Ly=Y({conv2dDerFilter_:function(t,n,e,r,a,o,u){o===void 0&&(o="NHWC");var l=t;t.rank===3&&(l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var c=n;c.rank===3&&(c=n.as4D(1,n.shape[0],n.shape[1],n.shape[2])),W(l.rank===4,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+l.shape+"."})),W(c.rank===4,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+c.shape+"."})),W(e.length===4,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+e+"."}));var d=o==="NHWC"?l.shape[3]:l.shape[1],h=o==="NHWC"?c.shape[3]:c.shape[1];W(d===e[2],(function(){return"Error in conv2dDerFilter: depth of input "+d+") must match input depth in filter ("+e[2]+"."})),W(h===e[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+h+") must match output depth for filter ("+e[3]+")."})),u!=null&&W(en(a),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+a+"."}));var v=Ty(o),m=$i(l.shape,e,r,1,a,u,!1,v);return ee.runKernelFunc((function(g){return g.conv2dDerFilter(l,c,m)}),{x4D:l,dy4D:c})}}),qR=Y({conv2dDerInput_:VR}),ch=Y({depthwiseConv2d_:function(t,n,e,r,a,o,u){o===void 0&&(o=[1,1]);var l=z(t,"x","depthwiseConv2d"),c=z(n,"filter","depthwiseConv2d"),d=l,h=!1;l.rank===3&&(h=!0,d=l.as4D(1,l.shape[0],l.shape[1],l.shape[2])),W(d.rank===4,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+d.rank+"."})),W(c.rank===4,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+c.rank+"."})),W(d.shape[3]===c.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+d.shape[3]+") must match the inChannels dimension in filter "+c.shape[2]+"."})),o==null&&(o=[1,1]),W(fr(e,o),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+o+"'"})),u!=null&&W(en(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+r+"."}));var v=$i(d.shape,c.shape,e,o,r,u,!0),m=[d,c],g=ee.runKernelFunc((function(b,x){var S=b.depthwiseConv2D(d,c,v);return x([d,c]),S}),{x:d,filter:c},(function(b,x){W(cu(o),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"}));var S=x[0],C=x[1];return{x:function(){return $R(S.shape,b,C,v)},filter:function(){return KR(S,b,C.shape,v)}}}),"DepthwiseConv2dNative",v,m);return h?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}}),$R=Y({depthwiseConv2dDerInput_:function(t,n,e,r){var a=n,o=!1;n.rank===3&&(o=!0,a=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var u=ee.runKernelFunc((function(l){return l.depthwiseConv2DDerInput(a,e,r)}),{dy4D:a});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),KR=Y({depthwiseConv2dDerFilter_:function(t,n,e,r){var a=t;t.rank===3&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=n;return o.rank===3&&(o=n.as4D(1,n.shape[0],n.shape[1],n.shape[2])),ee.runKernelFunc((function(u){return u.depthwiseConv2DDerFilter(a,o,r)}),{x4D:a,dy4D:o})}}),Py=Y({separableConv2d_:function(t,n,e,r,a,o,u){o===void 0&&(o=[1,1]),u===void 0&&(u="NHWC");var l=z(t,"x","separableConv2d"),c=z(n,"depthwiseFilter","separableConv2d"),d=z(e,"pointwiseFilter","separableConv2d"),h=l,v=!1;if(l.rank===3&&(v=!0,h=l.as4D(1,l.shape[0],l.shape[1],l.shape[2])),u==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");W(h.rank===4,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+h.rank+"."})),W(c.rank===4,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+c.rank+"."})),W(d.rank===4,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+c.rank+"."})),W(d.shape[0]===1,(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+d.shape[0]+"."})),W(d.shape[1]===1,(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+d.shape[1]+"."}));var m=c.shape[2],g=c.shape[3];W(d.shape[2]===m*g,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+m*g+", but got "+d.shape[2]+"."}));var b=ch(h,c,r,a,u,o),x=Kr(b,d,1,"valid",u);return v?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),Vz=Y({conv2dTranspose_:function(t,n,e,r,a,o){return VR(e,z(t,"x","conv2dTranspose"),z(n,"filter","conv2dTranspose"),r,a,"NHWC",o)}}),Gz=Y({conv3dTranspose_:function(t,n,e,r,a){return GR(e,z(t,"x","conv3dTranspose"),z(n,"filter","conv3dTranspose"),r,a)}}),fh=Y({matMul_:function(t,n,e,r){var a;e===void 0&&(e=!1),r===void 0&&(r=!1);var o=z(t,"a","matMul"),u=z(n,"b","matMul");a=jt(o,u),o=a[0],u=a[1];var l=e?o.shape[o.rank-2]:o.shape[o.rank-1],c=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=e?o.shape[o.rank-1]:o.shape[o.rank-2],h=r?u.shape[u.rank-2]:u.shape[u.rank-1],v=o.shape.slice(0,-2),m=u.shape.slice(0,-2),g=Ne(v),b=Ne(m);W(o.rank>=2&&u.rank>=2&&o.rank===u.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+u.rank+"."})),W(Cn(v,m),(function(){return"Error in matMul: outer dimensions ("+v+") and ("+m+") of Tensors with shapes "+o.shape+" and "+u.shape+" must match."})),W(l===c,(function(){return"Error in matMul: inner shapes ("+l+") and ("+c+") of Tensors with shapes "+o.shape+" and "+u.shape+" and transposeA="+e+" and transposeB="+r+" must match."}));var x=o.shape.slice(0,-2).concat([d,h]),S=e?o.as3D(g,l,d):o.as3D(g,d,l),C=r?u.as3D(b,h,c):u.as3D(b,c,h),_={transposeA:e,transposeB:r};return ee.runKernelFunc((function(R,E){var T=R.batchMatMul(S,C,e,r);return E([S,C]),T}),{a:S,b:C},(function(R,E){var T=E,D=T[0],N=T[1];return e||r?!e&&r?{a:function(){return R.matMul(N,!1,!1)},b:function(){return R.matMul(D,!0,!1)}}:e&&!r?{a:function(){return N.matMul(R,!1,!0)},b:function(){return D.matMul(R,!1,!1)}}:{a:function(){return N.matMul(R,!0,!0)},b:function(){return R.matMul(D,!0,!0)}}:{a:function(){return R.matMul(N,!1,!0)},b:function(){return D.matMul(R,!0,!1)}}}),"BatchMatMul",_).reshape(x)}}),qz=Y({dot_:function(t,n){var e=z(t,"t1","dot"),r=z(n,"t2","dot");W(!(e.rank!==1&&e.rank!==2||r.rank!==1&&r.rank!==2),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+e.rank+" and "+r.rank+"."}));var a=e.rank===1?e.size:e.shape[1],o=r.rank===1?r.size:r.shape[0];return W(a===o,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+o+"."})),e.rank===1&&r.rank===1?e.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():e.rank===1&&r.rank===2?e.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():e.rank===2&&r.rank===1?e.matMul(r.as2D(-1,1)).as1D():e.matMul(r.as2D(r.shape[0],r.shape[1]))}}),$z=Y({outerProduct_:function(t,n){var e=z(t,"v1","outerProduct"),r=z(n,"v2","outerProduct");return W(e.rank===1&&r.rank===1,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+e.rank+" and "+r.rank+"."})),e.as2D(-1,1).matMul(r.as2D(1,-1))}}),uc=Y({reverse_:function(t,n){var e=z(t,"x","reverse");if(e.rank===0)return e.clone();var r=bn(n,e.shape);return ee.runKernelFunc((function(a){return a.reverse(e,r)}),{$x:e},(function(a){return{$x:function(){return a.reverse(r)}}})).reshapeAs(e)}}),Kz=Y({reverse1d_:function(t){var n=z(t,"x","reverse");return W(n.rank===1,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+n.rank+"."})),uc(n,0)}}),Xz=Y({reverse2d_:function(t,n){var e=z(t,"x","reverse");return W(e.rank===2,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+e.rank+"."})),uc(e,n)}}),Yz=Y({reverse3d_:function(t,n){var e=z(t,"x","reverse");return W(e.rank===3,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+e.rank+"."})),uc(e,n)}}),Qz=Y({reverse4d_:function(t,n){var e=z(t,"x","reverse");return W(e.rank===4,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+e.rank+"."})),uc(e,n)}});function XR(t,n,e,r,a,o){var u=z(t,"x","maxPool"),l=u,c=!1;u.rank===3&&(c=!0,l=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),W(l.rank===4,(function(){return"Error in maxPool: input must be rank 4 but got rank "+l.rank+"."})),W(fr(e,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+r+"'"})),o!=null&&W(en(a),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var d=Wl(l.shape,n,e,r,a,o);if(d.filterWidth===1&&d.filterHeight===1&&Cn(d.inShape,d.outShape))return u.clone();var h=[l],v=ee.runKernelFunc((function(m,g){var b=m.maxPool(l,d);return g([l,b]),b}),{x:l},(function(m,g){var b=g[0],x=g[1];return{x:function(){return(function(S,C,_,R,E,T,D,N){var O=z(S,"dy","maxPoolBackprop"),I=z(C,"input","maxPoolBackprop"),B=z(_,"output","maxPoolBackprop");W(I.rank===O.rank,(function(){return"Rank of input ("+I.rank+") does not match rank of dy ("+O.rank+")"})),W(fr(E,T),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+E+" and dilations '"+T+"'"})),W(O.rank===4,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+O.rank+"."})),W(I.rank===4,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+I.rank+"."}));var H=Wl(I.shape,R,E,T,D,N);return ee.runKernelFunc((function(A){return A.maxPoolBackprop(O,I,B,H)}),{$dy:O,$input:I})})(m,b,x,n,e,r,a)}}}),"MaxPool",d,h);return c?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}function YR(t,n,e,r,a,o){var u=z(t,"x","avgPool","float32");W(fr(e,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+r+"'"}));var l=u,c=!1;u.rank===3&&(c=!0,l=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),W(l.rank===4,(function(){return"Error in avgPool: x must be rank 4 but got rank "+l.rank+"."})),o!=null&&W(en(a),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var d=Wl(l.shape,n,e,r,a,o);if(d.filterWidth===1&&d.filterHeight===1&&Cn(d.inShape,d.outShape))return u.clone();var h=ee.runKernelFunc((function(v){return v.avgPool(l,d)}),{x:l},(function(v){return{x:function(){return(function(m,g,b,x,S,C){var _=z(m,"dy","avgPoolBackprop"),R=z(g,"input","avgPoolBackprop");W(R.rank===_.rank,(function(){return"Rank of input ("+R.rank+") does not match rank of dy ("+_.rank+")"})),W(fr(x,S),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+S+"'"}));var E=R,T=_,D=!1;R.rank===3&&(D=!0,E=R.as4D(1,R.shape[0],R.shape[1],R.shape[2]),T=_.as4D(1,_.shape[0],_.shape[1],_.shape[2])),W(T.rank===4,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+T.rank+"."})),W(E.rank===4,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+E.rank+"."}));var N=Wl(E.shape,b,x,S,C),O=ee.runKernelFunc((function(I){return I.avgPoolBackprop(T,E,N)}),{dy4D:T,input4D:E});return D?O.as3D(O.shape[1],O.shape[2],O.shape[3]):O})(v,l,n,e,r,a)}}}),"AvgPool",d);return h=h.cast(u.dtype),c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}var Sn=Y({maxPool_:function(t,n,e,r,a){return XR(t,n,e,1,r,a)}}),lc=Y({avgPool_:function(t,n,e,r,a){return YR(t,n,e,1,r,a)}}),Zz=Y({pool_:function(t,n,e,r,a,o){a==null&&(a=[1,1]),o==null&&(o=1),r===0&&(r="valid");var u=z(t,"x","maxPool"),l=u,c=!1;u.rank===3&&(c=!0,l=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),W(fr(o,a),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"}));var d,h=Wl(l.shape,n,o,a,r),v=[h.dilationHeight,h.dilationWidth];d=r==="same"?(function(E,T){var D=E.map((function(I,B){return I+(I-1)*(T[B]-1)})).map((function(I){return I-1})),N=D.map((function(I){return Math.floor(I/2)})),O=D.map((function(I,B){return I-N[B]}));return D.map((function(I,B){return[N[B],O[B]]}))})([h.filterHeight,h.filterWidth],v):[[0,0],[0,0]];var m=v[0]===1&&v[1]===1,g=(function(E,T,D){var N=D.map((function(j){return j[0]})),O=D.map((function(j){return j[1]})),I=E.concat(N,O),B=T.map((function(j,V){return(j-I[V]%j)%j})),H=O.map((function(j,V){return j+B[V]})),A=T.map((function(j,V){return[N[V],H[V]]})),q=T.map((function(j,V){return[0,B[V]]}));return[A,q]})([h.inHeight,h.inWidth],v,d),b=g[0],x=g[1],S=m?r:"valid",C=m?l:nR(l,v,b),_=(e==="avg"?function(){return YR(C,n,o,1,S)}:function(){return XR(C,n,o,1,S)})(),R=m?_:JE(_,v,x);return c?R.as3D(R.shape[1],R.shape[2],R.shape[3]):R}}),Jz=Y({maxPool3d_:function(t,n,e,r,a,o,u){o===void 0&&(o="NDHWC");var l=z(t,"x","maxPool3d"),c=l,d=!1;l.rank===4&&(d=!0,c=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),u==null&&(u=[1,1,1]),W(c.rank===5,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+c.rank+"."})),W(o==="NDHWC",(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+o})),W(fr(e,u),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+u+"'"})),a!=null&&W(en(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var h=Ad(c.shape,n,e,u,r,a,o),v=ee.runKernelFunc((function(m,g){var b=m.maxPool3d(c,h);return g([c,b]),b}),{x:c},(function(m,g){var b=g[0],x=g[1];return{x:function(){return(function(S,C,_,R,E,T,D,N){var O=z(S,"dy","maxPool3dBackprop"),I=z(C,"input","maxPool3dBackprop"),B=z(_,"output","maxPool3dBackprop"),H=O,A=I,q=B,j=!1;I.rank===4&&(j=!0,H=O.as5D(1,O.shape[0],O.shape[1],O.shape[2],O.shape[3]),A=I.as5D(1,I.shape[0],I.shape[1],I.shape[2],I.shape[3]),q=B.as5D(1,B.shape[0],B.shape[1],B.shape[2],B.shape[3])),W(H.rank===5,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+H.rank+"."})),W(A.rank===5,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+A.rank+"."})),W(q.rank===5,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+q.rank+"."})),T==null&&(T=[1,1,1]),W(fr(E,T),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+E+" and dilations '"+T+"'"})),N!=null&&W(en(D),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+N+" but got pad "+D+"."}));var V=Ad(A.shape,R,E,T,D,N),P=ee.runKernelFunc((function($){return $.maxPool3dBackprop(H,A,q,V)}),{dy5D:H,input5D:A});return j?P.as4D(P.shape[1],P.shape[2],P.shape[3],P.shape[4]):P})(m,b,x,n,e,u,r,a)}}}));return d?v.as4D(v.shape[1],v.shape[2],v.shape[3],v.shape[4]):v}}),e6=Y({avgPool3d_:function(t,n,e,r,a,o,u){o===void 0&&(o="NDHWC");var l=z(t,"x","avgPool3d","float32"),c=l,d=!1;l.rank===4&&(d=!0,c=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),u==null&&(u=[1,1,1]),W(c.rank===5,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+c.rank+"."})),W(o==="NDHWC",(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+o})),W(fr(e,u),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+e+" and dilations '"+u+"'"})),a!=null&&W(en(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var h=Ad(c.shape,n,e,u,r,a,o),v=ee.runKernelFunc((function(m){return m.avgPool3d(c,h)}),{x:c},(function(m){return{x:function(){return(function(g,b,x,S,C,_,R){var E=z(g,"dy","avgPool3dBackprop"),T=z(b,"input","avgPool3dBackprop"),D=E,N=T,O=!1;T.rank===4&&(O=!0,D=E.as5D(1,E.shape[0],E.shape[1],E.shape[2],E.shape[3]),N=T.as5D(1,T.shape[0],T.shape[1],T.shape[2],T.shape[3])),W(D.rank===5,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+D.rank+"."})),W(N.rank===5,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+N.rank+"."})),C==null&&(C=[1,1,1]),W(fr(S,C),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+S+" and dilations '"+C+"'"})),R!=null&&W(en(_),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+R+" but got pad "+_+"."}));var I=Ad(N.shape,x,S,C,_,R),B=ee.runKernelFunc((function(H){return H.avgPool3dBackprop(D,N,I)}),{dy5D:D,input5D:N});return O?B.as4D(B.shape[1],B.shape[2],B.shape[3],B.shape[4]):B})(m,c,n,e,u,r,a)}}}));return v=v.cast(c.dtype),d?v.as4D(v.shape[1],v.shape[2],v.shape[3],v.shape[4]):v}}),Aa=Y({slice_:function(t,n,e){var r,a,o=z(t,"x","slice");if(o.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof n=="number"?[n].concat(new Array(o.rank-1).fill(0)):n.length<o.rank?n.concat(new Array(o.rank-n.length).fill(0)):n.slice()).forEach((function(c){W(c!==-1,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=e==null?new Array(o.rank).fill(-1):typeof e=="number"?[e].concat(new Array(o.rank-1).fill(-1)):e.length<o.rank?e.concat(new Array(o.rank-e.length).fill(-1)):e).map((function(c,d){return c>=0?c:(W(c===-1,(function(){return"Negative size values should be exactly -1 but got "+c+" for the slice() size at index "+d+"."})),o.shape[d]-r[d])})),AL(o,r,a);var u=o.shape,l={begin:r,size:a};return ee.runKernelFunc((function(c){return c.slice(o,r,a)}),{x:o},(function(c){for(var d=[],h=0;h<c.rank;h++)d.push([r[h],u[h]-r[h]-a[h]]);return{x:function(){return c.pad(d)}}}),"Slice",l)}}),t6=Y({slice1d_:function(t,n,e){var r=z(t,"x","slice1d");return W(r.rank===1,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Aa(r,[n],[e])}}),n6=Y({slice2d_:function(t,n,e){var r=z(t,"x","slice2d");return W(r.rank===2,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Aa(r,n,e)}}),QR=Y({slice3d_:function(t,n,e){var r=z(t,"x","slice3d");return W(r.rank===3,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Aa(r,n,e)}}),r6=Y({slice4d_:function(t,n,e){var r=z(t,"x","slice4d");return W(r.rank===4,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Aa(r,n,e)}});function ZR(t,n,e,r,a){return n.rank<e.rank&&(n=n.reshape(cr(n.shape,r))),t.rank<e.rank&&(t=t.reshape(cr(t.shape,r))),{x:function(){var o=t.mul(e.equal(n).cast(t.dtype));return a==null?o:o.transpose(a)}}}var a6=Y({all_:function(t,n,e){n===void 0&&(n=null),e===void 0&&(e=!1);var r=z(t,"x","all","bool"),a=bn(n,r.shape),o=a,u=Oa(o,r.rank);u!=null&&(r=r.transpose(u),o=Ia(o.length,r.rank));var l=ee.runKernelFunc((function(d){return d.all(r,o)}),{$x:r});if(e){var c=cr(l.shape,a);return l.reshape(c)}return l}}),o6=Y({any_:function(t,n,e){n===void 0&&(n=null),e===void 0&&(e=!1);var r=z(t,"x","any","bool"),a=bn(n,r.shape),o=a,u=Oa(o,r.rank);u!=null&&(r=r.transpose(u),o=Ia(o.length,r.rank));var l=ee.runKernelFunc((function(d){return d.any(r,o)}),{$x:r});if(e){var c=cr(l.shape,a);return l.reshape(c)}return l}}),i6=Y({argMax_:function(t,n){n===void 0&&(n=0);var e=z(t,"x","argMax");n==null&&(n=0);var r=bn(n,e.shape),a=Oa(r,e.rank);a!=null&&(e=e.transpose(a),r=Ia(r.length,e.rank));var o={axis:r[0]},u=[e];return ee.runKernelFunc((function(l,c){var d=l.argMax(e,r[0]);return c([e]),d}),{x:e},(function(l,c){var d=c[0];return{x:function(){return it(d)}}}),"ArgMax",o,u)}}),s6=Y({argMin_:function(t,n){n===void 0&&(n=0);var e=z(t,"x","argMin");n==null&&(n=0);var r=bn(n,e.shape),a=Oa(r,e.rank);return a!=null&&(e=e.transpose(a),r=Ia(r.length,e.rank)),ee.runKernelFunc((function(o,u){var l=o.argMin(e,r[0]);return u([e]),l}),{$x:e},(function(o,u){var l=u[0];return{$x:function(){return it(l)}}}))}}),u6=Y({logSumExp_:function(t,n,e){n===void 0&&(n=null),e===void 0&&(e=!1);var r=z(t,"x","logSumExp"),a=bn(n,r.shape),o=r.max(a,!0),u=r.sub(o).exp().sum(a).log(),l=o.reshape(u.shape).add(u);if(e){var c=cr(l.shape,a);return l.reshape(c)}return l}}),dh=Y({max_:function(t,n,e){n===void 0&&(n=null),e===void 0&&(e=!1);var r=z(t,"x","max"),a=r,o=bn(n,r.shape),u=o,l=Oa(u,r.rank);l!=null&&(r=r.transpose(l),u=Ia(u.length,r.rank));var c=[r],d=ee.runKernelFunc((function(v,m){var g=v.max(r,u);return m([a,g]),g}),{x:r},(function(v,m){return ZR(v,m[1],m[0],o,l)}),"Max",{axes:u},c,[!0]);if(e){var h=cr(d.shape,o);d=d.reshape(h)}return d}}),l6=Y({mean_:function(t,n,e){n===void 0&&(n=null),e===void 0&&(e=!1);var r=z(t,"x","mean"),a=bn(n,r.shape),o=Ne(Un(r.shape,a)[1]);return sh((function(u){var l=Ee(o);return{value:(l.dtype===u.dtype?u:u.cast(l.dtype)).div(l).sum(n,e),gradFunc:function(c){var d=u.shape.slice();return a.forEach((function(h){d[h]=1})),c.reshape(d).mul(gu(u.shape,"float32")).div(o)}}}))(r)}}),c6=Y({min_:function(t,n,e){n===void 0&&(n=null),e===void 0&&(e=!1);var r=z(t,"x","min"),a=r,o=bn(n,r.shape),u=o,l=Oa(u,r.rank);l!=null&&(r=r.transpose(l),u=Ia(u.length,r.rank));var c=[r],d=ee.runKernelFunc((function(v,m){var g=v.min(r,u);return m([a,g]),g}),{x:r},(function(v,m){return ZR(v,m[1],m[0],o,l)}),"Min",{axes:u},c,[!0]);if(e){var h=cr(d.shape,o);d=d.reshape(h)}return d}}),f6=Y({moments_:function(t,n,e){n===void 0&&(n=null),e===void 0&&(e=!1);var r=bn(n,(t=z(t,"x","moments")).shape),a=t.mean(r,e),o=a.shape;e||(o=cr(a.shape,r));var u=t.toFloat().sub(a.reshape(o)).square();return{mean:a,variance:u.mean(r,e)}}}),JR=Y({sum_:function(t,n,e){n===void 0&&(n=null),e===void 0&&(e=!1);var r=z(t,"x","sum");r.dtype==="bool"&&(r=r.toInt());var a=bn(n,r.shape);return sh((function(o){var u=Oa(a,o.rank),l=a,c=o;u!=null&&(c=o.transpose(u),l=Ia(l.length,o.rank));var d=function(g){var b=o.shape.slice();return a.forEach((function(x){b[x]=1})),g.reshape(b).mul(gu(o.shape,"float32"))},h={axes:l},v=ee.runKernelFunc((function(g){return g.sum(c,l)}),{x:c},(function(g){return{x:function(){return d(g)}}}),"Sum",h);if(e){var m=cr(v.shape,a);v=v.reshape(m)}return{value:v,gradFunc:d}}))(r)}}),d6=Y({prod_:function(t,n,e){n===void 0&&(n=null),e===void 0&&(e=!1);var r=z(t,"x","prod");r.dtype==="bool"&&(r=r.toInt());var a=bn(n,r.shape),o=Oa(a,r.rank),u=a,l=r;o!=null&&(l=r.transpose(o),u=Ia(u.length,r.rank));var c=ee.runKernelFunc((function(h){return h.prod(l,u)}),{permutedX:l});if(e){var d=cr(c.shape,a);c=c.reshape(d)}return c}}),e_=Y({elu_:function(t){var n=z(t,"x","elu");return ee.runKernelFunc((function(e,r){var a=e.elu(n);return r([a]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){return ee.runKernelFunc((function(o){return o.eluDer(e,a)}),{dy:e,y:a})}}}))}}),h6=Y({leakyRelu_:function(t,n){n===void 0&&(n=.2);var e=z(t,"x","leakyRelu");return By(Ee(n).mul(e),e)}}),t_=Y({prelu_:function(t,n){var e=z(t,"x","prelu"),r=z(n,"alpha","prelu");return ee.runKernelFunc((function(a,o){var u=a.prelu(e,r);return o([e,r]),u}),{x:e,alpha:r},(function(a,o){var u=o[0],l=o[1],c=u.greater(0);return{x:function(){return Wi(c,a,a.mul(l))},alpha:function(){var d=Wi(c,it(a),a.mul(u)),h=gn(l.shape,a.shape);return h.length>0&&(d=d.sum(h)),d.reshape(l.shape)}}}),"Prelu")}}),Wt=Y({relu_:function(t){var n=z(t,"x","relu");return n.dtype==="bool"?n.toInt():ee.runKernelFunc((function(e,r){var a=e.relu(n);return r([n]),a}),{x:n},(function(e,r){var a=r[0];return{x:function(){return e.mulStrict(a.step().toFloat())}}}),"Relu")}}),n_=Y({relu6_:function(t){var n=z(t,"x","relu6");return n.dtype==="bool"?n.toInt():ee.runKernelFunc((function(e,r){var a=e.relu6(n);return r([n]),a}),{x:n},(function(e,r){var a=r[0],o=a.lessEqual(6).mul(a.step());return{x:function(){return e.mulStrict(o.toFloat())}}}),"Relu6")}}),p6=Y({selu_:function(t){var n=z(t,"x","selu");return ee.runKernelFunc((function(e,r){var a=e.selu(n);return r([n]),a}),{$x:n},(function(e,r){var a=r[0];return{$x:function(){var o=a.greater(Ee(0)),u=Ee(My),l=Ee(Oy),c=e.mul(l),d=e.mul(u).mul(a.toFloat().exp());return Wi(o,c,d)}}}))}}),Zo=Y({transpose_:function(t,n){var e=z(t,"x","transpose");if(n==null&&(n=e.shape.map((function(a,o){return o})).reverse()),W(e.rank===n.length,(function(){return"Error in transpose: rank of input "+e.rank+" must match length of perm "+n+"."})),n.forEach((function(a){W(a>=0&&a<e.rank,(function(){return"All entries in 'perm' must be between 0 and "+(e.rank-1)+" but got "+n}))})),e.rank<=1)return e.clone();var r={perm:n};return ee.runKernelFunc((function(a){return a.transpose(e,n)}),{x:e},(function(a){var o=Sy(n);return{x:function(){return a.transpose(o)}}}),"Transpose",r)}}),v6=Y({localResponseNormalization_:function(t,n,e,r,a){n===void 0&&(n=5),e===void 0&&(e=1),r===void 0&&(r=1),a===void 0&&(a=.5);var o=z(t,"x","localResponseNormalization");W(o.rank===4||o.rank===3,(function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+o.rank+"."})),W(en(n),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+n+"."}));var u=o,l=!1;o.rank===3&&(l=!0,u=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var c=ee.runKernelFunc((function(d,h){var v=d.localResponseNormalization4D(u,n,e,r,a);return h([u,v]),v}),{x4D:u},(function(d,h){var v=h[0],m=h[1];return{x4D:function(){return ee.runKernelFunc((function(g){return g.LRNGrad(d,v,m,n,e,r,a)}),{})}}}));return l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}}),r_=Y({norm_:function(t,n,e,r){n===void 0&&(n="euclidean"),e===void 0&&(e=null),r===void 0&&(r=!1);var a=(function l(c,d,h){if(h===void 0&&(h=null),c.rank===0)return c.abs();if(c.rank!==1&&h===null)return l(c.reshape([-1]),d,h);if(c.rank===1||typeof h=="number"||Array.isArray(h)&&h.length===1){if(d===1)return c.abs().sum(h);if(d===1/0)return c.abs().max(h);if(d===-1/0)return c.abs().min(h);if(d==="euclidean"||d===2)return c.abs().pow(Ee(2,"int32")).sum(h).sqrt();throw new Error("Error in norm: invalid ord value: "+d)}if(Array.isArray(h)&&h.length===2){if(d===1)return c.abs().sum(h[0]).max(h[1]-1);if(d===1/0)return c.abs().sum(h[1]).max(h[0]);if(d===-1/0)return c.abs().sum(h[1]).min(h[0]);if(d==="fro"||d==="euclidean")return c.square().sum(h).sqrt();throw new Error("Error in norm: invalid ord value: "+d)}throw new Error("Error in norm: invalid axis: "+h)})(t=z(t,"x","norm"),n,e),o=a.shape;if(r){var u=bn(e,t.shape);o=cr(a.shape,u)}return a.reshape(o)}}),m6=Y({basicLSTMCell_:function(t,n,e,r,a,o){var u=z(t,"forgetBias","basicLSTMCell"),l=z(n,"lstmKernel","basicLSTMCell"),c=z(e,"lstmBias","basicLSTMCell"),d=z(r,"data","basicLSTMCell"),h=z(a,"c","basicLSTMCell"),v=z(o,"h","basicLSTMCell"),m=d.concat(v,1).matMul(l).add(c),g=m.shape[0],b=m.shape[1]/4,x=[g,b],S=m.slice([0,0],x),C=m.slice([0,b],x),_=m.slice([0,2*b],x),R=m.slice([0,3*b],x),E=S.sigmoid().mulStrict(C.tanh()).addStrict(h.mulStrict(u.add(_).sigmoid())),T=E.tanh().mulStrict(R.sigmoid());return[E,T]}}),g6=Y({multiRNNCell_:function(t,n,e,r){for(var a=z(n,"data","multiRNNCell"),o=Sd(e,"c","multiRNNCell"),u=Sd(r,"h","multiRNNCell"),l=a,c=[],d=0;d<t.length;d++){var h=t[d](l,o[d],u[d]);c.push(h[0]),c.push(h[1]),l=h[1]}var v=[],m=[];for(d=0;d<c.length;d+=2)v.push(c[d]),m.push(c[d+1]);return[v,m]}}),y6=Y({movingAverage_:function(t,n,e,r,a){a===void 0&&(a=!0);var o=z(t,"v","movingAverage"),u=z(n,"x","movingAverage"),l=z(e,"decay","movingAverage");vF(o,u),W(Cn(o.shape,u.shape),(function(){return"Shape mismatch in v and x"}));var c=Ee(1),d=c.sub(l),h=u.sub(o).mul(d);if(a){W(r!=null,(function(){return"When using zeroDebias: true, step is required."}));var v=z(r,"step","movingAverage");h=h.div(c.sub(Md(l,v)))}return o.add(h)}}),b6=Y({stridedSlice_:function(t,n,e,r,a,o,u,l,c){if(a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=0),l===void 0&&(l=0),c===void 0&&(c=0),r==null&&(r=new Array(n.length)),u!==0)throw new Error("ellipsis mask is not yet supported");var d=z(t,"x","stridedSlice"),h=SS(l),v=d.shape.slice();h.forEach((function(S){n[S]=0,e[S]=1,v.splice(S,0,1)})),d=d.reshape(v);for(var m=0;m<d.rank;m++)n[m]=kL(a,n,r,d.shape,m),e[m]=DL(o,e,r,d.shape,m),r[m]=r[m]||1;var g=SS(c);g.forEach((function(S){e[S]=n[S]+1,r[S]=1}));var b=_y(n,e,r),x=b.filter((function(S,C){return g.indexOf(C)===-1}));return r.every((function(S){return S===1}))?Aa(d,n,b).reshape(x):ee.runKernelFunc((function(S){return S.stridedSlice(d,n,e,r)}),{$x:d}).reshape(x)}}),x6=Y({topk_:function(t,n,e){n===void 0&&(n=1),e===void 0&&(e=!0);var r=z(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(n>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+n);var o=ee.runKernelFunc((function(u){return u.topk(r,n,e)}),{$x:r});return{values:o[0],indices:o[1]}}}),w6=Y({scatterND_:function(t,n,e){var r=z(t,"indices","scatterND","int32"),a=z(n,"updates","scatterND");return TL(a,r,e),ee.runKernelFunc((function(o){return o.scatterND(r,a,e)}),{indices:r,updates:a},null,"ScatterNd",{shape:e})}}),zy=Y({fft_:function(t){W(t.dtype==="complex64",(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+t.dtype+"."}));var n=t.shape[t.shape.length-1],e=t.size/n,r=t.as2D(e,n);return ee.runKernelFunc((function(a){return a.fft(r)}),{input:t}).reshape(t.shape)}}),Od=Y({ifft_:function(t){W(t.dtype==="complex64",(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+t.dtype+"."}));var n=t.shape[t.shape.length-1],e=t.size/n,r=t.as2D(e,n);return ee.runKernelFunc((function(a){return a.ifft(r)}),{input:t}).reshape(t.shape)}}),Uy=Y({rfft_:function(t,n){W(t.dtype==="float32",(function(){return"The dtype for rfft() must be real value but got "+t.dtype}));var e,r=t.shape[t.shape.length-1],a=t.size/r;if(n!=null&&n<r){var o=t.shape.map((function(C){return 0})),u=t.shape.map((function(C){return C}));u[t.shape.length-1]=n,e=t.slice(o,u),r=n}else if(n!=null&&n>r){var l=t.shape.map((function(C){return C}));l[t.shape.length-1]=n-r,e=t.concat(It(l),t.shape.length-1),r=n}else e=t;var c=e.zerosLike(),d=Nn(e,c).as2D(a,r),h=zy(d),v=Math.floor(r/2)+1,m=jr(h),g=wa(h),b=m.split([v,r-v],m.shape.length-1),x=g.split([v,r-v],g.shape.length-1),S=e.shape.slice();return S[e.shape.length-1]=v,Nn(b[0],x[0]).reshape(S)}}),a_=Y({irfft_:function(t){var n=t.shape[t.shape.length-1],e=t.size/n;if(n<=2){var r=t.as2D(e,n),a=Od(r);return jr(a)}var o=[e,2*(n-1)],u=jr(t).as2D(e,n),l=wa(t).as2D(e,n),c=u.slice([0,1],[e,n-2]).reverse(1),d=l.slice([0,1],[e,n-2]).reverse(1).mul(Ee(-1)),h=u.concat(c,1),v=l.concat(d,1);return r=Nn(h,v).as2D(o[0],o[1]),a=Od(r),jr(a)}}),S6=Object.freeze({fft:zy,ifft:Od,rfft:Uy,irfft:a_}),C6=Y({sparseToDense_:function(t,n,e,r){r===void 0&&(r=0);var a=z(t,"sparseIndices","sparseToDense","int32"),o=z(n,"sparseValues","sparseToDense"),u=z(r,"defaultValue","sparseToDense",o.dtype);return(function(l,c,d,h){if(l.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+l.dtype+".");if(l.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+l.shape+".");var v=l.rank>0?l.shape[0]:1,m=l.rank>1?l.shape[1]:1;if(d.length!==m)throw new Error("outputShape has incorrect number of elements:, "+d.length+", should be: "+m+".");var g=c.size;if(c.rank!==0&&(c.rank!==1||g!==v))throw new Error("sparseValues has incorrect shape "+c.shape+", should be [] or ["+v+"]");if(c.dtype!==h.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")})(a,o,e,u),ee.runKernelFunc((function(l){return l.sparseToDense(a,o,e,u)}),{$sparseIndices:a,$sparseValues:o,$defaultValue:u})}}),E6=Y({gatherND_:function(t,n){var e=z(n,"indices","gatherND","int32"),r=z(t,"x","gatherND");return ee.runKernelFunc((function(a){return a.gatherND(r,e)}),{x:r,indices:e},null,"GatherNd")}}),R6=Y({diag_:function(t){var n=z(t,"x","diag").flatten(),e=t.shape.concat(t.shape);return ee.runKernelFunc((function(r){return r.diag(n)}),{$x:n}).reshape(e)}}),_6=Y({dropout_:function(t,n,e,r){var a=z(t,"x","dropout");if(W(a.dtype==="float32",(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."})),W(n>=0&&n<1,(function(){return"rate must be a float in the range [0, 1), but got "+n+"."})),n===0)return t instanceof Ut?a.clone():a;var o=(function(c,d){if(d==null)return c.shape.slice();if(Cn(c.shape,d))return d;if(c.shape.length===d.length){for(var h=[],v=0;v<c.shape.length;v++)d[v]==null&&c.shape[v]!=null?h.push(c.shape[v]):h.push(d[v]);return h}return d})(a,e),u=1-n,l=tR(o,0,1,"float32",r).add(u).floor().div(u);return a.mul(l)}});function o_(t,n,e){for(var r=1-t%2,a=new Float32Array(t),o=0;o<t;++o){var u=2*Math.PI*o/(t+r-1);a[o]=n-e*Math.cos(u)}return cn(a,"float32")}var Wy=Y({hannWindow_:function(t){return o_(t,.5,.5)}}),i_=Y({hammingWindow_:function(t){return o_(t,.54,.46)}}),Hy=Y({frame_:function(t,n,e,r,a){r===void 0&&(r=!1),a===void 0&&(a=0);for(var o=0,u=[];o+n<=t.size;)u.push(Aa(t,o,n)),o+=e;if(r)for(;o<t.size;){var l=o+n-t.size,c=vn([Aa(t,o,n-l),Ta([l],a)]);u.push(c),o+=e}return u.length===0?$o([],[0,n]):vn(u).as2D(u.length,n)}}),s_=Y({stft_:function(t,n,e,r,a){var o;a===void 0&&(a=Wy),r==null&&(o=n,r=Math.floor(Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)))));for(var u=Hy(t,n,e),l=Gn(u,a(n)),c=[],d=0;d<u.shape[0];d++)c.push(Uy(l.slice([d,0],[1,n]),r));return vn(c)}}),T6=Object.freeze({hannWindow:Wy,hammingWindow:i_,frame:Hy,stft:s_}),Vn,A6=function(t,n,e){return e===void 0&&(e=1),Ae(this,void 0,void 0,(function(){var r,a,o,u,l,c,d,h,v,m,g,b,x,S;return ke(this,(function(C){switch(C.label){case 0:return r=z(t,"predictions","inTopK"),a=z(n,"targets","inTopK"),W(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),W(r.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank})),gt(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=r.shape[r.shape.length-1],W(e>0&&e<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+o+"), but got "+e})),[4,r.data()];case 1:return u=C.sent(),[4,a.data()];case 2:for(l=C.sent(),c=[u.length/o,o],h=c[1],v=Pl("bool",d=c[0]),m=0;m<d;m++){for(g=m*h,b=u.subarray(g,g+h),x=[],S=0;S<b.length;S++)x.push({value:b[S],index:S});for(x.sort((function(_,R){return R.value-_.value})),v[m]=0,S=0;S<e;S++)if(x[S].index===l[m]){v[m]=1;break}}return t!==r&&r.dispose(),n!==a&&a.dispose(),[2,In(v,a.shape,"bool")]}}))}))};(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Vn||(Vn={}));var k6=Y({absoluteDifference_:function(t,n,e,r){r===void 0&&(r=Vn.SUM_BY_NONZERO_WEIGHTS);var a=z(t,"labels","absoluteDifference"),o=z(n,"predictions","absoluteDifference"),u=null;e!=null&&(u=z(e,"weights","absoluteDifference")),gt(a.shape,o.shape,"Error in absoluteDifference: ");var l=a.sub(o).abs();return ho(l,u,r)}}),ho=Y({computeWeightedLoss_:function(t,n,e){e===void 0&&(e=Vn.SUM_BY_NONZERO_WEIGHTS);var r=z(t,"losses","computeWeightedLoss"),a=null;n!=null&&(a=z(n,"weights","computeWeightedLoss"));var o=a==null?r:r.mul(a);if(e===Vn.NONE)return o;if(e===Vn.SUM)return o.sum();if(e===Vn.MEAN){if(a==null)return o.mean();var u=r.size/a.size,l=o.sum().div(a.sum());return u>1?l.div(Ee(u)):l}if(e===Vn.SUM_BY_NONZERO_WEIGHTS){if(a==null)return o.sum().div(Ee(r.size));var c=a.mul(gu(r.shape)).notEqual(Ee(0)).sum().toFloat();return o.sum().div(c)}throw Error("Unknown reduction: "+e)}}),D6=Y({cosineDistance_:function(t,n,e,r,a){a===void 0&&(a=Vn.SUM_BY_NONZERO_WEIGHTS);var o=z(t,"labels","cosineDistance"),u=z(n,"predictions","cosineDistance"),l=null;r!=null&&(l=z(r,"weights","cosineDistance")),gt(o.shape,u.shape,"Error in cosineDistance: ");var c=Ee(1).sub(o.mul(u).sum(e,!0));return ho(c,l,a)}}),N6=Y({hingeLoss_:function(t,n,e,r){r===void 0&&(r=Vn.SUM_BY_NONZERO_WEIGHTS);var a=z(t,"labels","hingeLoss"),o=z(n,"predictions","hingeLoss"),u=null;e!=null&&(u=z(e,"weights","hingeLoss")),gt(a.shape,o.shape,"Error in hingeLoss: ");var l=Ee(1);a=Ee(2).mul(a).sub(l);var c=l.sub(a.mul(o)).relu();return ho(c,u,r)}}),M6=Y({huberLoss_:function(t,n,e,r,a){r===void 0&&(r=1),a===void 0&&(a=Vn.SUM_BY_NONZERO_WEIGHTS);var o=z(t,"labels","huberLoss"),u=z(n,"predictions","huberLoss"),l=null;e!=null&&(l=z(e,"weights","huberLoss")),gt(o.shape,u.shape,"Error in huberLoss: ");var c=Ee(r),d=u.sub(o).abs(),h=UR(d,c),v=d.sub(h),m=Ee(.5).mul(h.square()).add(c.mul(v));return ho(m,l,a)}}),O6=Y({logLoss_:function(t,n,e,r,a){r===void 0&&(r=1e-7),a===void 0&&(a=Vn.SUM_BY_NONZERO_WEIGHTS);var o=z(t,"labels","logLoss"),u=z(n,"predictions","logLoss"),l=null;e!=null&&(l=z(e,"weights","logLoss")),gt(o.shape,u.shape,"Error in logLoss: ");var c=Ee(1),d=Ee(r),h=o.mul(u.add(d).log()).neg().sub(c.sub(o).mul(c.sub(u).add(d).log()));return ho(h,l,a)}}),I6=Y({meanSquaredError_:function(t,n,e,r){r===void 0&&(r=Vn.SUM_BY_NONZERO_WEIGHTS);var a=z(t,"labels","meanSquaredError"),o=z(n,"predictions","meanSquaredError"),u=null;e!=null&&(u=z(e,"weights","meanSquaredError")),gt(a.shape,o.shape,"Error in meanSquaredError: ");var l=a.squaredDifference(o);return ho(l,u,r)}}),B6=Y({sigmoidCrossEntropy_:function(t,n,e,r,a){r===void 0&&(r=0),a===void 0&&(a=Vn.SUM_BY_NONZERO_WEIGHTS);var o=z(t,"multiClassLabels","sigmoidCrossEntropy"),u=z(n,"logits","sigmoidCrossEntropy"),l=null;if(e!=null&&(l=z(e,"weights","sigmoidCrossEntropy")),gt(o.shape,u.shape,"Error in sigmoidCrossEntropy: "),r>0){var c=Ee(r),d=Ee(1),h=Ee(.5);o=o.mul(d.sub(c)).add(h.mul(c))}var v=(function(m,g){var b=z(m,"labels","sigmoidCrossEntropyWithLogits"),x=z(g,"logits","sigmoidCrossEntropyWithLogits");gt(b.shape,x.shape,"Error in sigmoidCrossEntropyWithLogits: ");var S=x.relu(),C=x.mul(b),_=x.abs().neg().exp().log1p();return S.sub(C).add(_)})(o,u);return ho(v,l,a)}}),F6=Y({softmaxCrossEntropy_:function(t,n,e,r,a){r===void 0&&(r=0),a===void 0&&(a=Vn.SUM_BY_NONZERO_WEIGHTS);var o=z(t,"onehotLabels","softmaxCrossEntropy"),u=z(n,"logits","softmaxCrossEntropy"),l=null;if(e!=null&&(l=z(e,"weights","softmaxCrossEntropy")),gt(o.shape,u.shape,"Error in softmaxCrossEntropy: "),r>0){var c=Ee(r),d=Ee(1),h=Ee(o.shape[1]);o=o.mul(d.sub(c)).add(c.div(h))}var v=(function(m,g,b){if(b===void 0&&(b=-1),b===-1&&(b=g.rank-1),b!==g.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+g.rank+" and dim was "+b);return sh((function(x,S,C){var _=S.logSumExp([b],!0),R=S.toFloat().sub(_);return C([x,R]),{value:R.mul(x).neg().sum([b]),gradFunc:function(E,T){var D=T[0],N=T[1],O=cr(E.shape,[b]);return[E.reshape(O).mul(D.toFloat().sub(N.exp())),E.reshape(O).mul(N.exp().sub(D.toFloat()))]}}}))(m,g)})(o,u);return ho(v,l,a)}}),L6=Object.freeze({get Reduction(){return Vn},absoluteDifference:k6,computeWeightedLoss:ho,cosineDistance:D6,hingeLoss:N6,huberLoss:M6,logLoss:O6,meanSquaredError:I6,sigmoidCrossEntropy:B6,softmaxCrossEntropy:F6});function VS(t,n){return n===void 0&&(n=!1),ee.tidy((function(){if(t.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var e=t.shape[0],r=t.shape[1],a=eR(e),o=t.clone(),u=$o([[1]],[1,1]),l=u.clone(),c=e>=r?r:e,d=function(v){var m,g=o,b=l,x=a;m=ee.tidy((function(){var S=o.slice([v,v],[e-v,1]),C=S.norm(),_=o.slice([v,v],[1,1]),R=$o([[-1]]).where(_.greater(0),$o([[1]])),E=_.sub(R.mul(C)),T=S.div(E);l=T.shape[0]===1?u.clone():u.concat(T.slice([1,0],[T.shape[0]-1,T.shape[1]]),0);var D=R.matMul(E).div(C).neg(),N=o.slice([v,0],[e-v,r]),O=D.mul(l);if(v===0)o=N.sub(O.matMul(l.transpose().matMul(N)));else{var I=N.sub(O.matMul(l.transpose().matMul(N)));o=o.slice([0,0],[v,r]).concat(I,0)}var B=a.slice([0,v],[e,a.shape[1]-v]);if(v===0)a=B.sub(B.matMul(l).matMul(O.transpose()));else{var H=B.sub(B.matMul(l).matMul(O.transpose()));a=a.slice([0,0],[e,v]).concat(H,1)}return[l,o,a]})),l=m[0],o=m[1],a=m[2],sr([g,b,x])},h=0;h<c;++h)d(h);return!n&&e>r&&(a=a.slice([0,0],[e,r]),o=o.slice([0,0],[r,r])),[a,o]}))}var P6=Y({bandPart_:function(t,n,e){if(n%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+n+".");if(e%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+e+".");var r=z(t,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var a=r.shape,o=r.shape.slice(-2),u=o[0],l=o[1];if(!(n<=u))throw new Error("bandPart(): numLower ("+n+") must not be greater than the number of rows ("+u+").");if(!(e<=l))throw new Error("bandPart(): numUpper ("+e+") must not be greater than the number of columns ("+l+").");n<0&&(n=u),e<0&&(e=l);var c=Cd(0,u,1,"int32").reshape([-1,1]),d=Cd(0,l,1,"int32"),h=yn(c,d),v=lh(h.lessEqual(Ee(+n,"int32")),h.greaterEqual(Ee(-e,"int32"))),m=It([u,l],r.dtype);return Tr(mn(r.reshape([-1,u,l])).map((function(g){return Wi(v,g,m)}))).reshape(a)}}),z6=Y({gramSchmidt_:function(t){var n;if(Array.isArray(t)){n=!1,W(t!=null&&t.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var e=t[0].shape[0],r=function(c){W(t[c].shape[0]===e,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[c].shape[0]+" vs. "+e+")"}))},a=1;a<t.length;++a)r(a)}else n=!0,t=Ey(t,t.shape[0],0).map((function(c){return rR(c,[0])}));W(t.length<=t[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+")."}));var o=[],u=t,l=function(c){o.push(ee.tidy((function(){var d=u[c];if(c>0)for(var h=0;h<c;++h){var v=JR(o[h].mulStrict(d)).mul(o[h]);d=d.sub(v)}return d.div(r_(d,"euclidean"))})))};for(a=0;a<t.length;++a)l(a);return n?Tr(o,0):o}}),U6=Y({qr_:function(t,n){if(n===void 0&&(n=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(t.rank===2)return VS(t,n);var e=t.shape.slice(0,t.shape.length-2).reduce((function(u,l){return u*l})),r=mn(t.reshape([e,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],o=[];return r.forEach((function(u){var l=VS(u,n),c=l[0],d=l[1];a.push(c),o.push(d)})),[Tr(a,0).reshape(t.shape),Tr(o,0).reshape(t.shape)]}}),W6=Object.freeze({bandPart:P6,gramSchmidt:z6,qr:U6});function hh(t,n,e,r,a,o){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),o==null&&(o=0);var u=t.shape[0];return e=Math.min(e,u),W(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),W(t.rank===2,(function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"})),W(t.shape[1]===4,(function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]})),W(n.rank===1,(function(){return"scores must be a 1D tensor"})),W(n.shape[0]===u,(function(){return"scores has incompatible shape with boxes. Expected "+u+", but was "+n.shape[0]})),W(0<=o&&o<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"})),{maxOutputSize:e,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}var H6=Y({resizeBilinear_:function(t,n,e){e===void 0&&(e=!1);var r=z(t,"images","resizeBilinear");W(r.rank===3||r.rank===4,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),W(n.length===2,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+n+"."}));var a=r,o=!1;r.rank===3&&(o=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var u=n[0],l=n[1],c=ee.runKernelFunc((function(d,h){return h([a]),d.resizeBilinear(a,u,l,e)}),{x:a},(function(d,h){return{x:function(){return ee.runKernelFunc((function(v){return v.resizeBilinearBackprop(d,h[0],e)}),{})}}}),"ResizeBilinear",{alignCorners:e,newHeight:u,newWidth:l});return o?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}}),j6=Y({resizeNearestNeighbor_:function(t,n,e){e===void 0&&(e=!1);var r=z(t,"images","resizeNearestNeighbor");W(r.rank===3||r.rank===4,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),W(n.length===2,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+n+"."})),W(r.dtype==="float32"||r.dtype==="int32",(function(){return"`images` must have `int32` or `float32` as dtype"}));var a=r,o=!1;r.rank===3&&(o=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var u=n[0],l=n[1],c=ee.runKernelFunc((function(d,h){return h([a]),d.resizeNearestNeighbor(a,u,l,e)}),{batchImages:a},(function(d,h){return{batchImages:function(){return ee.runKernelFunc((function(v){return v.resizeNearestNeighborBackprop(d,h[0],e)}),{})}}}));return o?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}}),V6=Y({nonMaxSuppression_:function(t,n,e,r,a){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var o=z(t,"boxes","nonMaxSuppression"),u=z(n,"scores","nonMaxSuppression"),l=hh(o,u,e,r,a);e=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold;var c={maxOutputSize:e,iouThreshold:r,scoreThreshold:a};return ee.runKernelFunc((function(d){return d.nonMaxSuppression(o,u,e,r,a)}),{boxes:o,scores:u},null,"NonMaxSuppressionV3",c)}}),G6=function(t,n,e,r,a){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),Ae(this,void 0,void 0,(function(){var o,u,l,c,d,h,v;return ke(this,(function(m){switch(m.label){case 0:return o=z(t,"boxes","nonMaxSuppressionAsync"),u=z(n,"scores","nonMaxSuppressionAsync"),l=hh(o,u,e,r,a),e=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,[4,Promise.all([o.data(),u.data()])];case 1:return c=m.sent(),d=c[0],h=c[1],v=Ay(d,h,e,r,a),o!==t&&o.dispose(),u!==n&&u.dispose(),[2,v]}}))}))},q6=Y({nonMaxSuppressionWithScore_:function(t,n,e,r,a,o){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0);var u=z(t,"boxes","nonMaxSuppression"),l=z(n,"scores","nonMaxSuppression"),c=hh(u,l,e,r,a,o),d={maxOutputSize:e=c.maxOutputSize,iouThreshold:r=c.iouThreshold,scoreThreshold:a=c.scoreThreshold,softNmsSigma:o=c.softNmsSigma},h=ee.runKernel("NonMaxSuppressionV5",{boxes:u,scores:l},d);return{selectedIndices:h[0],selectedScores:h[1]}}}),$6=function(t,n,e,r,a,o){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0),Ae(this,void 0,void 0,(function(){var u,l,c,d,h,v,m;return ke(this,(function(g){switch(g.label){case 0:return u=z(t,"boxes","nonMaxSuppressionAsync"),l=z(n,"scores","nonMaxSuppressionAsync"),c=hh(u,l,e,r,a,o),e=c.maxOutputSize,r=c.iouThreshold,a=c.scoreThreshold,o=c.softNmsSigma,[4,Promise.all([u.data(),l.data()])];case 1:return d=g.sent(),h=d[0],v=d[1],m=ky(h,v,e,r,a,o),u!==t&&u.dispose(),l!==n&&l.dispose(),[2,m]}}))}))},K6=Y({cropAndResize_:function(t,n,e,r,a,o){var u=z(t,"image","cropAndResize"),l=z(n,"boxes","cropAndResize","float32"),c=z(e,"boxInd","cropAndResize","int32");a=a||"bilinear",o=o||0;var d=l.shape[0];return W(u.rank===4,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+u.rank+"."})),W(l.rank===2&&l.shape[1]===4,(function(){return"Error in cropAndResize: boxes must be have size ["+d+",4] but had shape "+l.shape+"."})),W(c.rank===1&&c.shape[0]===d,(function(){return"Error in cropAndResize: boxInd must be have size ["+d+"] but had shape "+l.shape+"."})),W(r.length===2,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),W(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),W(a==="bilinear"||a==="nearest",(function(){return"method must be bilinear or nearest, but was "+a})),ee.runKernelFunc((function(h,v){return h.cropAndResize(u,l,c,r,a,o)}),{images:u,boxes:l,boxInd:c},null,"CropAndResize",{method:a,extrapolationValue:o,cropSize:r})}}),jy=Object.freeze({resizeBilinear:H6,resizeNearestNeighbor:j6,nonMaxSuppression:V6,nonMaxSuppressionAsync:G6,nonMaxSuppressionWithScore:q6,nonMaxSuppressionWithScoreAsync:$6,cropAndResize:K6}),Vy=function(t,n){return!(t>0)||n==="linear"},Gy=function(t,n,e){if(e==null||e==="linear")return t;if(e==="relu")return t.mul(n.step());throw new Error("Gradient for activation "+e+" has not been implemented yet.")},qy=function(t,n){var e=n,r=gn(t.shape,n.shape);return r.length>0&&(e=e.sum(r)),e.reshape(t.shape)},$y=function(t,n,e){if(n==="linear")return t;if(n==="relu")return Wt(t);if(n==="elu")return e_(t);if(n==="relu6")return n_(t);if(n==="prelu")return t_(t,e);throw new Error("Unknown fused activation "+n+".")},X6=Y({fusedMatMul_:function(t){var n,e=t.a,r=t.b,a=t.transposeA,o=a!==void 0&&a,u=t.transposeB,l=u!==void 0&&u,c=t.bias,d=t.activation,h=d===void 0?"linear":d,v=t.preluActivationWeights;if(Vy(ee.state.gradientDepth,h)===!1){var m=fh(e,r,o,l);return c!=null&&(m=Je(m,c)),$y(m,h,v)}var g=z(e,"a","fused matMul"),b=z(r,"b","fused matMul");n=jt(g,b),g=n[0],b=n[1];var x=o?g.shape[g.rank-2]:g.shape[g.rank-1],S=l?b.shape[b.rank-1]:b.shape[b.rank-2],C=o?g.shape[g.rank-1]:g.shape[g.rank-2],_=l?b.shape[b.rank-2]:b.shape[b.rank-1],R=g.shape.slice(0,-2),E=b.shape.slice(0,-2),T=Ne(R),D=Ne(E);W(g.rank>=2&&b.rank>=2&&g.rank===b.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+g.rank+" and "+b.rank+"."})),W(Cn(R,E),(function(){return"Error in fused matMul: outer dimensions ("+R+") and ("+E+") of Tensors with shapes "+g.shape+" and "+b.shape+" must match."})),W(x===S,(function(){return"Error in fused matMul: inner shapes ("+x+") and ("+S+") of Tensors with shapes "+g.shape+" and "+b.shape+" and transposeA="+o+" and transposeB="+l+" must match."}));var N,O,I=g.shape.slice(0,-2).concat([C,_]),B=o?g.as3D(T,x,C):g.as3D(T,C,x),H=l?b.as3D(D,_,S):b.as3D(D,S,_);c!=null&&nt(I,(N=jt(N=z(c,"bias","fused matMul"),g)[0]).shape),v!=null&&(O=z(v,"prelu weights","fused matMul"));var A={a:B,b:H};c!=null&&(A.bias=N),v!=null&&(A.preluActivationWeights=O);var q=[B,H];return ee.runKernelFunc((function(j,V){var P=j.fusedBatchMatMul({a:B,b:H,transposeA:o,transposeB:l,bias:N,activation:h,preluActivationWeights:O});return V([B,H,P]),P}),A,(function(j,V){var P=V[0],$=V[1],Q=V[2],U=Gy(j,Q,h),G={};return c!=null&&(G={bias:function(){return qy(N,U)}}),Object.assign(o||l?!o&&l?{a:function(){return U.matMul($,!1,!1)},b:function(){return U.matMul(P,!0,!1)}}:o&&!l?{a:function(){return $.matMul(U,!1,!0)},b:function(){return P.matMul(U,!1,!1)}}:{a:function(){return $.matMul(U,!0,!0)},b:function(){return U.matMul(P,!0,!0)}}:{a:function(){return U.matMul($,!1,!0)},b:function(){return P.matMul(U,!0,!1)}},G)}),"_FusedMatMul",{transposeA:o,transposeB:l,activation:h},q,[!0]).reshape(I)}}),Y6=Y({fusedConv2d_:function(t){var n=t.x,e=t.filter,r=t.strides,a=t.pad,o=t.dataFormat,u=o===void 0?"NHWC":o,l=t.dilations,c=l===void 0?[1,1]:l,d=t.dimRoundingMode,h=t.bias,v=t.activation,m=v===void 0?"linear":v,g=t.preluActivationWeights;if(m=m||"linear",Vy(ee.state.gradientDepth,m)===!1){var b=Kr(n,e,r,a,u,c,d);return h!=null&&(b=Je(b,h)),$y(b,m,g)}var x=z(n,"x","conv2d"),S=z(e,"filter","conv2d"),C=x,_=!1;x.rank===3&&(_=!0,C=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),W(C.rank===4,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+C.rank+"."})),W(S.rank===4,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+S.rank+"."})),d!=null&&W(en(a),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+d+" but got pad "+a+"."})),W(C.shape[3]===S.shape[2],(function(){return"Error in conv2d: depth of input ("+C.shape[3]+") must match input depth for filter "+S.shape[2]+"."})),W(fr(r,c),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+c+"'"})),W(u==="NHWC",(function(){return"Error in conv2d: got dataFormat of "+u+" but only NHWC is currently supported."}));var R,E,T=$i(C.shape,S.shape,r,c,a,d);h!=null&&(R=jt(R=z(h,"bias","fused conv2d"),x)[0],nt(T.outShape,R.shape)),g!=null&&(E=z(g,"prelu weights","fused conv2d"));var D={x:C,filter:S};h!=null&&(D.bias=R),g!=null&&(D.preluActivationWeights=E);var N=[S,C],O=ee.runKernelFunc((function(I,B){var H=I.fusedConv2d({input:C,filter:S,convInfo:T,bias:R,activation:m,preluActivationWeights:E});return B([S,C,H]),H}),D,(function(I,B){var H=B,A=H[0],q=H[1],j=H[2],V=Gy(I,j,m);W(cu(c),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+c+"'"}));var P={};return h!=null&&(P={bias:function(){return qy(R,V)}}),Object.assign({x:function(){return qR(q.shape,V,A,r,a)},filter:function(){return Ly(q,V,A.shape,r,a)}},P)}),"FusedConv2D",{convInfo:T,activation:m},N,[!0]);return _?O.as3D(O.shape[1],O.shape[2],O.shape[3]):O}}),Q6=Y({fusedDepthwiseConv2d_:function(t){var n=t.x,e=t.filter,r=t.strides,a=t.pad,o=t.dataFormat,u=o===void 0?"NHWC":o,l=t.dilations,c=l===void 0?[1,1]:l,d=t.dimRoundingMode,h=t.bias,v=t.activation,m=v===void 0?"linear":v,g=t.preluActivationWeights;if(Vy(ee.state.gradientDepth,m)===!1){var b=ch(n,e,r,a,u,c,d);return h!=null&&(b=Je(b,h)),$y(b,m,g)}var x=z(n,"x","depthwiseConv2d"),S=z(e,"filter","depthwiseConv2d"),C=x,_=!1;x.rank===3&&(_=!0,C=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),W(C.rank===4,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+C.rank+"."})),W(S.rank===4,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+S.rank+"."})),W(C.shape[3]===S.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+C.shape[3]+") must match the inChannels dimension in filter "+S.shape[2]+"."})),c==null&&(c=[1,1]),W(fr(r,c),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+c+"'"})),d!=null&&W(en(a),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+d+" but got pad "+a+"."}));var R,E,T=$i(C.shape,S.shape,r,c,a,d,!0);h!=null&&(R=jt(R=z(h,"bias","fused conv2d"),x)[0],nt(T.outShape,R.shape)),g!=null&&(E=z(g,"prelu weights","fused depthwiseConv2d"));var D={x:C,filter:S};h!=null&&(D.bias=R),g!=null&&(D.preluActivationWeights=E);var N=[S,C],O=ee.runKernelFunc((function(I,B){var H=I.fusedDepthwiseConv2D({input:C,filter:S,convInfo:T,bias:R,activation:m,preluActivationWeights:E});return B([S,C,H]),H}),D,(function(I,B){W(cu(c),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+c+"'"}));var H=B[0],A=B[1],q=B[2],j=Gy(I,q,m),V={};return h!=null&&(V={bias:function(){return qy(R,j)}}),Object.assign({x:function(){return $R(A.shape,j,H,T)},filter:function(){return KR(A,j,H.shape,T)}},V)}),"FusedDepthwiseConv2D",{convInfo:T,activation:m},N,[!0]);return _?O.as3D(O.shape[1],O.shape[2],O.shape[3]):O}}),Z6=Object.freeze({matMul:X6,conv2d:Y6,depthwiseConv2d:Q6}),J6=Object.freeze({image:jy,linalg:W6,losses:L6,spectral:S6,fused:Z6,signal:T6,square:O5,squaredDifference:DR,conv1d:Hz,conv2d:Kr,conv3d:jz,depthwiseConv2d:ch,separableConv2d:Py,conv2dTranspose:Vz,conv3dTranspose:Gz,op:Y,batchNormalization2d:lz,batchNormalization3d:cz,batchNormalization4d:fz,batchNormalization:dz,batchNorm:FR,batchNorm2d:hz,batchNorm3d:pz,batchNorm4d:vz,booleanMaskAsync:Wz,complex:Nn,real:jr,imag:wa,concat:vn,concat1d:ZF,concat2d:JF,concat3d:eL,concat4d:tL,split:Ey,matMul:fh,dot:qz,outerProduct:$z,reverse:uc,reverse1d:Kz,reverse2d:Xz,reverse3d:Yz,reverse4d:Qz,maxPool:Sn,avgPool:lc,pool:Zz,maxPool3d:Jz,avgPool3d:e6,slice:Aa,slice1d:t6,slice2d:n6,slice3d:QR,slice4d:r6,abs:I5,acos:B5,acosh:F5,asin:L5,asinh:P5,atan:z5,atanh:U5,ceil:W5,clipByValue:Iy,cos:H5,cosh:j5,erf:V5,exp:Tg,expm1:G5,floor:q5,log:$5,log1p:K5,logSigmoid:X5,neg:Nd,reciprocal:Y5,round:Q5,rsqrt:NR,sigmoid:MR,sign:Z5,isNaN:J5,isInf:ez,isFinite:tz,sin:nz,sinh:rz,softplus:az,sqrt:oz,step:iz,tan:sz,tanh:uz,all:a6,any:o6,argMax:i6,argMin:s6,logSumExp:u6,max:dh,mean:l6,min:c6,moments:f6,sum:JR,prod:d6,equal:WR,equalStrict:Nz,greater:Mz,greaterEqual:HR,greaterEqualStrict:Oz,greaterStrict:Iz,less:Bz,lessEqual:Fz,lessEqualStrict:Lz,lessStrict:Pz,notEqual:zz,notEqualStrict:Uz,add:Je,addN:yz,addStrict:bz,atan2:xz,div:ta,divNoNan:wz,divStrict:Sz,floorDiv:zR,maximum:By,maximumStrict:Cz,minimum:UR,minimumStrict:Ez,mod:Rz,modStrict:_z,mul:Gn,mulStrict:Tz,pow:Md,powStrict:Az,squaredDifferenceStrict:kz,sub:yn,subStrict:Dz,elu:e_,leakyRelu:h6,prelu:t_,relu:Wt,relu6:n_,selu:p6,logicalAnd:lh,logicalNot:mz,logicalOr:LR,logicalXor:gz,where:Wi,whereAsync:PR,buffer:qe,print:cL,batchToSpaceND:JE,broadcastTo:fL,cast:dL,clone:hL,cumsum:pL,depthToSpace:vL,expandDims:Hr,eye:eR,multinomial:mL,oneHot:Cg,pad:qi,pad1d:gL,pad2d:yL,pad3d:bL,pad4d:xL,rand:wL,randomNormal:SL,randomGamma:CL,randomUniform:tR,reshape:na,spaceToBatchND:nR,squeeze:rR,stack:Tr,tile:Js,truncatedNormal:EL,unstack:mn,setdiff1dAsync:RL,fill:Ta,linspace:QF,ones:gu,range:Cd,scalar:Ee,tensor:In,tensor1d:cn,tensor2d:$o,tensor3d:Cy,tensor4d:or,tensor5d:KF,tensor6d:XF,variable:YF,zeros:It,onesLike:ZE,zerosLike:it,transpose:Zo,softmax:fo,logSoftmax:ML,localResponseNormalization:v6,norm:r_,gather:Fy,unsortedSegmentSum:jR,basicLSTMCell:m6,multiRNNCell:g6,movingAverage:y6,stridedSlice:b6,topk:x6,scatterND:w6,fft:zy,ifft:Od,rfft:Uy,irfft:a_,sparseToDense:C6,gatherND:E6,diag:R6,dropout:_6,hannWindow:Wy,hammingWindow:i_,frame:Hy,stft:s_,inTopKAsync:A6});function ye(t,n){Array.isArray(t)||(t=[t]),t.forEach((function(e){e!=null&&W(e.dtype!=="complex64",(function(){return n+" does not support complex64 tensors."}))}))}function Pm(t,n,e,r){if(e==="linear")return t.linear(n);if(e==="relu")return t.relu(n);if(e==="elu")return t.elu(n);if(e==="relu6")return t.relu6(n);if(e==="prelu")return t.prelu(n,r);throw new Error("Activation "+e+" has not been implemented for the CPU backend.")}var eU=(function(t){function n(){var e=t.call(this)||this;return e.blockSize=48,e.firstUse=!0,e.data=new cR(e,ee),e}return ia(n,t),n.prototype.write=function(e,r,a){this.firstUse&&(this.firstUse=!1,de().get("IS_NODE")&&wd(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var o={};return this.data.set(o,{values:e,dtype:a}),o},n.prototype.move=function(e,r,a,o){this.data.set(e,{values:r,dtype:o})},n.prototype.numDataIds=function(){return this.data.numDataIds()},n.prototype.read=function(e){return Ae(this,void 0,void 0,(function(){return ke(this,(function(r){return[2,this.readSync(e)]}))}))},n.prototype.readSync=function(e){var r=this.data.get(e),a=r.dtype,o=r.complexTensors;return a==="complex64"?_g(this.readSync(o.real.dataId),this.readSync(o.imag.dataId)):this.data.get(e).values},n.prototype.bufferSync=function(e){var r=this.readSync(e.dataId),a=r;if(e.dtype==="string")try{a=r.map((function(o){return yd(o)}))}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return qe(e.shape,e.dtype,a)},n.prototype.makeOutput=function(e,r,a){var o=this.write(e,r,a);return ee.makeTensorFromDataId(o,r,a,this)},n.prototype.disposeData=function(e){if(this.data.has(e)){var r=this.data.get(e).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(e)}},n.prototype.time=function(e){return Ae(this,void 0,void 0,(function(){var r;return ke(this,(function(a){return r=ya(),e(),[2,{kernelMs:ya()-r}]}))}))},n.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},n.prototype.complex=function(e,r){var a=this.makeOutput(null,e.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:ee.keep(e.clone()),imag:ee.keep(r.clone())},a},n.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},n.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},n.prototype.slice=function(e,r,a){if(ye(e,"slice"),uR(e.shape,r,a)){var o=lR(r,e.strides),u=Ne(a);return In(this.readSync(e.dataId).subarray(o,o+u),a,e.dtype)}for(var l=qe(a,e.dtype),c=this.bufferSync(e),d=0;d<l.size;++d){var h=l.indexToLoc(d).map((function(v,m){return v+r[m]}));l.values[d]=c.get.apply(c,h)}return l.toTensor()},n.prototype.stridedSlice=function(e,r,a,o){ye(e,"stridedSlice");var u=_y(r,a,o);if(u.some((function(g){return g===0})))return In([],u);for(var l=qe(u,e.dtype),c=this.bufferSync(e),d=0;d<l.size;d++){for(var h=l.indexToLoc(d),v=new Array(h.length),m=0;m<v.length;m++)v[m]=h[m]*o[m]+r[m];l.set.apply(l,[c.get.apply(c,v)].concat(h))}return l.toTensor()},n.prototype.diag=function(e){for(var r=this.readSync(e.dataId),a=qe([e.size,e.size],e.dtype),o=a.values,u=0;u<r.length;u++)o[u*e.size+u]=r[u];return a.toTensor()},n.prototype.unstack=function(e,r){for(var a=e.shape[r],o=new Array(e.rank-1),u=0,l=0;l<e.rank;l++)l!==r&&(o[u++]=e.shape[l]);var c=new Array(e.rank).fill(0),d=e.shape.slice();d[r]=1;var h=new Array(a);for(l=0;l<h.length;l++)c[r]=l,h[l]=this.slice(e,c,d).reshape(o);return h},n.prototype.reverse=function(e,r){ye(e,"reverse");for(var a=qe(e.shape,e.dtype),o=this.bufferSync(e),u=function(c){var d=a.indexToLoc(c),h=d.slice();r.forEach((function(v){return h[v]=e.shape[v]-1-h[v]})),a.set.apply(a,[o.get.apply(o,h)].concat(d))},l=0;l<a.size;l++)u(l);return a.toTensor()},n.prototype.concat=function(e,r){var a=this;if(e[0].dtype==="complex64"){var o=e.map((function(g){return jr(g)})),u=e.map((function(g){return wa(g)}));return Nn(this.concat(o,r),this.concat(u,r))}var l=e.map((function(g){var b=Ne(g.shape.slice(r));return g.as2D(-1,b)})),c=lu(l.map((function(g){return g.shape})),1),d=qe(c,e[0].dtype).values;if(l[0].shape[0]===1){var h=0;l.forEach((function(g){d.set(a.readSync(g.dataId),h),h+=g.size}))}else{var v=0;l.forEach((function(g){for(var b=a.readSync(g.dataId),x=0,S=0;S<g.shape[0];++S)for(var C=S*c[1]+v,_=0;_<g.shape[1];++_)d[C+_]=b[x++];v+=g.shape[1]}))}var m=lu(e.map((function(g){return g.shape})),r);return In(d,m,e[0].dtype)},n.prototype.neg=function(e){return ye(e,"neg"),this.multiply(Ee(-1),e)},n.prototype.add=function(e,r){return e.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),(function(a,o,u,l){return{real:a+u,imag:o+l}})):this.broadcastedBinaryOp(e,r,Mn(e.dtype,r.dtype),(function(a,o){return a+o}))},n.prototype.addN=function(e){var r=this;ye(e,"addN");for(var a=e.map((function(h){return r.readSync(h.dataId)})),o=qe(e[0].shape,e[0].dtype),u=o.values,l=0;l<e.length;l++)for(var c=a[l],d=0;d<u.length;d++)u[d]+=c[d];return o.toTensor()},n.prototype.softmax=function(e,r){var a=bn([r],e.shape),o=this.max(e,a),u=cr(o.shape,a),l=this.subtract(e,o.reshape(u)),c=this.exp(l),d=this.sum(c,a).reshape(u);return this.realDivide(c,d)},n.prototype.subtract=function(e,r){return e.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),(function(a,o,u,l){return{real:a-u,imag:o-l}})):this.broadcastedBinaryOp(e,r,Mn(e.dtype,r.dtype),(function(a,o){return a-o}))},n.prototype.pow=function(e,r){return ye([e,r],"pow"),this.broadcastedBinaryOp(e,r,e.dtype,(function(a,o){return Math.pow(a,o)}))},n.prototype.batchMatMul=function(e,r,a,o){ye([e,r],"matMul");for(var u=a?e.shape[1]:e.shape[2],l=a?e.shape[2]:e.shape[1],c=o?r.shape[1]:r.shape[2],d=e.shape[0],h=this.readSync(e.dataId),v=this.readSync(r.dataId),m=a?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],g=m[0],b=m[1],x=m[2],S=o?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],C=S[0],_=S[1],R=S[2],E=l*c,T=qe([d,l,c],e.dtype),D=T.values,N=this.blockSize,O=0;O<d;O++)for(var I=0;I<l;I+=N)for(var B=0;B<c;B+=N)for(var H=0;H<u;H+=N)for(var A=Math.min(I+N,l),q=Math.min(B+N,c),j=Math.min(H+N,u),V=I;V<A;V++)for(var P=B;P<q;P++){for(var $=0,Q=H;Q<j;Q++)$+=h[O*g+V*b+Q*x]*v[Q*C+P*_+O*R];D[O*E+(V*c+P)]+=$}return T.toTensor()},n.prototype.fusedBatchMatMul=function(e){var r=e.a,a=e.b,o=e.transposeA,u=e.transposeB,l=e.bias,c=e.activation,d=e.preluActivationWeights,h=this.batchMatMul(r,a,o,u);return l&&(h=this.add(h,l)),c&&(h=Pm(this,h,c,d)),h},n.prototype.multiply=function(e,r){return e.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(e.cast("complex64"),r.cast("complex64"),(function(a,o,u,l){return{real:a*u-o*l,imag:a*l+o*u}})):this.broadcastedBinaryOp(e,r,Mn(e.dtype,r.dtype),(function(a,o){return a*o}))},n.prototype.realDivide=function(e,r){return ye([e,r],"realDivide"),this.broadcastedBinaryOp(e,r,"float32",(function(a,o){return a/o}))},n.prototype.floorDiv=function(e,r){return ye([e,r],"floorDiv"),this.broadcastedBinaryOp(e,r,"int32",(function(a,o){return Math.floor(a/o)}))},n.prototype.sum=function(e,r){ye(e,"sum"),xr("sum",r,e.rank);for(var a=Un(e.shape,r),o=a[0],u=a[1],l=It(o,Mn(e.dtype,"int32")),c=Ne(u),d=this.readSync(l.dataId),h=this.readSync(e.dataId),v=0;v<d.length;++v){for(var m=v*c,g=0,b=0;b<c;++b)g+=h[m+b];d[v]=g}return l},n.prototype.prod=function(e,r){ye(e,"sum");for(var a=Un(e.shape,r),o=a[0],u=a[1],l=It(o,Mn(e.dtype,"int32")),c=Ne(u),d=this.readSync(l.dataId),h=this.readSync(e.dataId),v=0;v<d.length;++v){for(var m=v*c,g=1,b=0;b<c;++b)g*=h[m+b];d[v]=g}return l},n.prototype.unsortedSegmentSum=function(e,r,a){ye(e,"unsortedSegmentSum");for(var o=[],u=e.rank-r.rank,l=0;l<u;++l)r=r.expandDims(l+1);for(l=0;l<a;++l){var c=Ee(l,"int32"),d=WR(c,r).asType("float32").mul(e).sum(0);o.push(d)}return Tr(o)},n.prototype.argMin=function(e,r){ye(e,"argMin");var a=[r];xr("argMin",a,e.rank);for(var o=Un(e.shape,a),u=o[0],l=o[1],c=It(u,"int32"),d=Ne(l),h=this.readSync(c.dataId),v=this.readSync(e.dataId),m=0;m<h.length;++m){for(var g=m*d,b=v[g],x=0,S=0;S<d;++S){var C=v[g+S];C<b&&(b=C,x=S)}h[m]=x}return c},n.prototype.argMax=function(e,r){ye(e,"argMax");var a=[r];xr("argMax",a,e.rank);for(var o=Un(e.shape,a),u=o[0],l=o[1],c=It(u,"int32"),d=Ne(l),h=this.readSync(c.dataId),v=this.readSync(e.dataId),m=0;m<h.length;++m){for(var g=m*d,b=v[g],x=0,S=0;S<d;++S){var C=v[g+S];C>b&&(b=C,x=S)}h[m]=x}return c},n.prototype.cumsum=function(e,r,a,o){if(ye(e,"cumsum"),r!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+r);for(var u=Mn(e.dtype,"int32"),l=It(e.shape,u),c=this.readSync(l.dataId),d=this.readSync(e.dataId),h=e.shape[e.rank-1],v=o?function(S,C){return S+h-C-1}:function(S,C){return S+C},m=0;m<d.length;m+=h)for(var g=0;g<h;g++){var b=v(m,g);if(g===0)c[b]=a?0:d[b];else{var x=v(m,g-1);c[b]=a?d[x]+c[x]:d[b]+c[x]}}return l},n.prototype.equal=function(e,r){return ye([e,r],"equal"),this.broadcastedBinaryOp(e,r,"bool",(function(a,o){return a===o?1:0}))},n.prototype.notEqual=function(e,r){return ye([e,r],"notEqual"),this.broadcastedBinaryOp(e,r,"bool",(function(a,o){return a!==o?1:0}))},n.prototype.less=function(e,r){return ye([e,r],"less"),this.broadcastedBinaryOp(e,r,"bool",(function(a,o){return a<o?1:0}))},n.prototype.lessEqual=function(e,r){return ye([e,r],"lessEqual"),this.broadcastedBinaryOp(e,r,"bool",(function(a,o){return a<=o?1:0}))},n.prototype.greater=function(e,r){return ye([e,r],"greater"),this.broadcastedBinaryOp(e,r,"bool",(function(a,o){return a>o?1:0}))},n.prototype.greaterEqual=function(e,r){return ye([e,r],"greaterEqual"),this.broadcastedBinaryOp(e,r,"bool",(function(a,o){return a>=o?1:0}))},n.prototype.logicalNot=function(e){ye(e,"logicalNot");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),o=0;o<r.length;++o)a[o]=r[o]?0:1;return this.makeOutput(a,e.shape,"bool")},n.prototype.logicalAnd=function(e,r){return ye([e,r],"logicalAnd"),this.broadcastedBinaryOp(e,r,"bool",(function(a,o){return a&&o}))},n.prototype.logicalOr=function(e,r){return ye([e,r],"logicalOr"),this.broadcastedBinaryOp(e,r,"bool",(function(a,o){return a||o}))},n.prototype.select=function(e,r,a){ye([e,r,a],"select");for(var o=this.readSync(e.dataId),u=this.readSync(r.dataId),l=this.readSync(a.dataId),c=It(r.shape,Mn(r.dtype,a.dtype)),d=this.readSync(c.dataId),h=0,v=e.rank===0||e.rank>1||r.rank===1?1:Ne(r.shape.slice(1)),m=0;m<o.length;m++)for(var g=0;g<v;g++)o[m]===1?d[h++]=u[m]:d[h++]=l[m];return c},n.prototype.where=function(e){ye([e],"where");var r=this.readSync(e.dataId);return Dy(e.shape,r)},n.prototype.topk=function(e,r,a){return ye(e,"topk"),yR(this.readSync(e.dataId),e.shape,e.dtype,r)},n.prototype.min=function(e,r){ye(e,"min"),xr("min",r,e.rank);for(var a=Un(e.shape,r),o=a[0],u=a[1],l=It(o,e.dtype),c=Ne(u),d=this.readSync(l.dataId),h=this.readSync(e.dataId),v=0;v<d.length;++v){for(var m=v*c,g=h[m],b=0;b<c;++b){var x=h[m+b];x<g&&(g=x)}d[v]=g}return l},n.prototype.minimum=function(e,r){return ye([e,r],"minimum"),this.broadcastedBinaryOp(e,r,e.dtype,(function(a,o){return Math.min(a,o)}))},n.prototype.mod=function(e,r){return ye([e,r],"mod"),this.broadcastedBinaryOp(e,r,e.dtype,(function(a,o){var u=a%o;return a<0&&o<0||a>=0&&o>=0?u:(u+o)%o}))},n.prototype.max=function(e,r){ye(e,"max"),xr("max",r,e.rank);for(var a=Un(e.shape,r),o=a[0],u=a[1],l=It(o,e.dtype),c=Ne(u),d=this.readSync(l.dataId),h=this.readSync(e.dataId),v=0;v<d.length;++v){for(var m=v*c,g=h[m],b=0;b<c;++b){var x=h[m+b];x>g&&(g=x)}d[v]=g}return l},n.prototype.maximum=function(e,r){return ye([e,r],"maximum"),this.broadcastedBinaryOp(e,r,e.dtype,(function(a,o){return Math.max(a,o)}))},n.prototype.all=function(e,r){ye(e,"all"),xr("all",r,e.rank);for(var a=Un(e.shape,r),o=a[0],u=a[1],l=It(o,e.dtype),c=Ne(u),d=this.readSync(l.dataId),h=this.readSync(e.dataId),v=0;v<d.length;++v){for(var m=v*c,g=h[m],b=0;b<c;++b){var x=h[m+b];g=g&&x}d[v]=g}return l},n.prototype.any=function(e,r){ye(e,"any"),xr("any",r,e.rank);for(var a=Un(e.shape,r),o=a[0],u=a[1],l=It(o,e.dtype),c=Ne(u),d=this.readSync(l.dataId),h=this.readSync(e.dataId),v=0;v<d.length;++v){for(var m=v*c,g=h[m],b=0;b<c;++b){var x=h[m+b];g=g||x}d[v]=g}return l},n.prototype.squaredDifference=function(e,r){return ye([e,r],"squaredDifference"),this.broadcastedBinaryOp(e,r,e.dtype,(function(a,o){var u=a-o;return u*u}))},n.prototype.ceil=function(e){ye(e,"ceil");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=Math.ceil(r[o]);return this.makeOutput(a,e.shape,"float32")},n.prototype.floor=function(e){ye(e,"floor");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=Math.floor(r[o]);return this.makeOutput(a,e.shape,"float32")},n.prototype.sign=function(e){ye(e,"x");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)r[o]<0?a[o]=-1:r[o]>0?a[o]=1:a[o]=0;return this.makeOutput(a,e.shape,"float32")},n.prototype.isNaN=function(e){ye(e,"x");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),o=0;o<r.length;++o)Number.isNaN(r[o])&&(a[o]=1);return this.makeOutput(a,e.shape,"bool")},n.prototype.isInf=function(e){ye(e,"x");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),o=0;o<r.length;++o)Math.abs(r[o])===1/0&&(a[o]=1);return this.makeOutput(a,e.shape,"bool")},n.prototype.isFinite=function(e){ye(e,"x");for(var r=this.readSync(e.dataId),a=new Uint8Array(r.length),o=0;o<r.length;++o)Number.isFinite(r[o])&&(a[o]=1);return this.makeOutput(a,e.shape,"bool")},n.prototype.round=function(e){ye(e,"round");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var u=Math.floor(r[o]);r[o]-u<.5?a[o]=Math.floor(r[o]):r[o]-u>.5?a[o]=Math.ceil(r[o]):a[o]=u%2==0?u:u+1}return this.makeOutput(a,e.shape,"float32")},n.prototype.exp=function(e){ye(e,"exp");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=Math.exp(r[o]);return this.makeOutput(a,e.shape,"float32")},n.prototype.expm1=function(e){ye(e,"expm1");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=Math.expm1(r[o]);return this.makeOutput(a,e.shape,"float32")},n.prototype.log=function(e){ye(e,"log");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var u=r[o];a[o]=Math.log(u)}return this.makeOutput(a,e.shape,"float32")},n.prototype.log1p=function(e){ye(e,"log1p");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var u=r[o];a[o]=Math.log1p(u)}return this.makeOutput(a,e.shape,"float32")},n.prototype.sqrt=function(e){ye(e,"sqrt");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var u=r[o];a[o]=Math.sqrt(u)}return this.makeOutput(a,e.shape,"float32")},n.prototype.rsqrt=function(e){ye(e,"rsqrt");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o){var u=r[o];a[o]=1/Math.sqrt(u)}return this.makeOutput(a,e.shape,"float32")},n.prototype.reciprocal=function(e){ye(e,"reciprocal");for(var r=this.readSync(e.dataId),a=new Float32Array(r.length),o=0;o<r.length;++o)a[o]=1/r[o];return this.makeOutput(a,e.shape,"float32")},n.prototype.linear=function(e){return e},n.prototype.relu=function(e){ye(e,"relu");for(var r=It(e.shape,e.dtype),a=this.readSync(r.dataId),o=this.readSync(e.dataId),u=0;u<o.length;++u)a[u]=Math.max(0,o[u]);return r},n.prototype.relu6=function(e){ye(e,"relu");for(var r=It(e.shape,e.dtype),a=this.readSync(r.dataId),o=this.readSync(e.dataId),u=0;u<o.length;++u)a[u]=Math.min(Math.max(0,o[u]),6);return r},n.prototype.prelu=function(e,r){return ye([e,r],"prelu"),this.broadcastedBinaryOp(e,r,e.dtype,(function(a,o){return a<0?o*a:a}))},n.prototype.elu=function(e){ye(e,"elu");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o){var u=a[o];r[o]=u>=0?u:Math.exp(u)-1}return this.makeOutput(r,e.shape,"float32")},n.prototype.eluDer=function(e,r){ye([e,r],"eluDer");for(var a=new Float32Array(r.size),o=this.readSync(r.dataId),u=this.readSync(e.dataId),l=0;l<o.length;++l){var c=o[l];a[l]=c>=1?u[l]:u[l]*(c+1)}return this.makeOutput(a,r.shape,"float32")},n.prototype.selu=function(e){ye(e,"selu");for(var r=My,a=Oy,o=new Float32Array(e.size),u=this.readSync(e.dataId),l=0;l<u.length;++l){var c=u[l];o[l]=c>=0?a*c:r*(Math.exp(c)-1)}return this.makeOutput(o,e.shape,"float32")},n.prototype.clip=function(e,r,a){ye(e,"clip");for(var o=new Float32Array(e.size),u=this.readSync(e.dataId),l=0;l<u.length;++l){var c=u[l];o[l]=c>a?a:c<r?r:c}return this.makeOutput(o,e.shape,"float32")},n.prototype.abs=function(e){for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.abs(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.complexAbs=function(e){for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<e.size;++o){var u=a[2*o],l=a[2*o+1];r[o]=Math.hypot(u,l)}return this.makeOutput(r,e.shape,"float32")},n.prototype.int=function(e){ye(e,"int");for(var r=new Int32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=a[o];return this.makeOutput(r,e.shape,"int32")},n.prototype.sigmoid=function(e){ye(e,"sigmoid");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=1/(1+Math.exp(-a[o]));return this.makeOutput(r,e.shape,"float32")},n.prototype.softplus=function(e){ye(e,"softplus");for(var r=Math.log(11920928955078125e-23)+2,a=new Float32Array(e.size),o=this.readSync(e.dataId),u=0;u<o.length;++u){var l=o[u]>-r,c=o[u]<r,d=Math.exp(o[u]),h=void 0;h=c?d:l?o[u]:Math.log(1+d),a[u]=h}return this.makeOutput(a,e.shape,"float32")},n.prototype.sin=function(e){ye(e,"sin");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.sin(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.cos=function(e){ye(e,"cos");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.cos(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.tan=function(e){ye(e,"tan");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.tan(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.asin=function(e){ye(e,"asin");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.asin(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.acos=function(e){ye(e,"acos");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.acos(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.atan=function(e){ye(e,"atan");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.atan(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.atan2=function(e,r){return ye([e,r],"atan2"),this.broadcastedBinaryOp(e,r,e.dtype,(function(a,o){return Math.atan2(a,o)}))},n.prototype.sinh=function(e){ye(e,"sinh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.sinh(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.cosh=function(e){ye(e,"cosh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.cosh(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.tanh=function(e){ye(e,"tanh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=tF(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.asinh=function(e){ye(e,"asinh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.asinh(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.acosh=function(e){ye(e,"acosh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.acosh(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.atanh=function(e){ye(e,"atanh");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o)r[o]=Math.atanh(a[o]);return this.makeOutput(r,e.shape,"float32")},n.prototype.erf=function(e){ye(e,"erf");for(var r=new Float32Array(e.size),a=this.readSync(e.dataId),o=0;o<a.length;++o){var u=Math.sign(a[o]),l=Math.abs(a[o]),c=1/(1+.3275911*l);r[o]=u*(1-((((1.061405429*c-1.453152027)*c+1.421413741)*c-.284496736)*c+.254829592)*c*Math.exp(-l*l))}return this.makeOutput(r,e.shape,"float32")},n.prototype.step=function(e,r){r===void 0&&(r=0),ye(e,"step");for(var a=new Float32Array(e.size),o=this.readSync(e.dataId),u=0;u<o.length;++u){var l=o[u];isNaN(l)?a[u]=NaN:a[u]=l>0?1:r}return this.makeOutput(a,e.shape,"float32")},n.prototype.fusedConv2d=function(e){var r=e.input,a=e.filter,o=e.convInfo,u=e.bias,l=e.activation,c=e.preluActivationWeights,d=this.conv2d(r,a,o);return u&&(d=this.add(d,u)),l&&(d=Pm(this,d,l,c)),d},n.prototype.conv2d=function(e,r,a){ye([e,r],"conv2d");for(var o=a.filterHeight,u=a.filterWidth,l=a.dilationHeight,c=a.dilationWidth,d=a.padInfo.left,h=a.padInfo.top,v=a.dataFormat==="channelsLast",m=qe(a.outShape,e.dtype),g=e.strides[0],b=v?e.strides[1]:e.strides[2],x=v?e.strides[2]:1,S=v?1:e.strides[1],C=m.strides[0],_=v?m.strides[1]:m.strides[2],R=v?m.strides[2]:1,E=v?1:m.strides[1],T=this.readSync(e.dataId),D=this.readSync(r.dataId),N=m.values,O=0;O<a.batchSize;++O)for(var I=O*g,B=O*C,H=0;H<a.outHeight;++H)for(var A=B+H*_,q=H*a.strideHeight-h,j=0;j<o;j++){var V=q+j*l;if(!(V<0||V>=a.inHeight))for(var P=j*r.strides[0],$=I+V*b,Q=0;Q<a.outWidth;++Q)for(var U=A+Q*R,G=Q*a.strideWidth-d,M=0;M<u;M++){var K=G+M*c;if(!(K<0||K>=a.inWidth))for(var Z=$+K*x,ie=P+M*r.strides[1],pe=0;pe<a.inChannels;++pe){for(var ge=T[Z+pe*S],xe=0;xe<a.outChannels;++xe)N[U+xe*E]+=ge*D[ie+xe];ie+=a.outChannels}}}return m.toTensor()},n.prototype.conv3d=function(e,r,a){for(var o=a.filterDepth,u=a.filterHeight,l=a.filterWidth,c=a.dilationDepth,d=a.dilationHeight,h=a.dilationWidth,v=a.padInfo.front,m=a.padInfo.left,g=a.padInfo.top,b=qe(a.outShape,e.dtype),x=this.readSync(e.dataId),S=this.readSync(r.dataId),C=b.values,_=0;_<a.batchSize;++_)for(var R=_*e.strides[0],E=_*b.strides[0],T=0;T<a.outDepth;++T)for(var D=E+T*b.strides[1],N=T*a.strideDepth-v,O=0;O<o;O++){var I=N+O*c;if(!(I<0||I>=a.inDepth))for(var B=O*r.strides[0],H=R+I*e.strides[1],A=0;A<a.outHeight;++A)for(var q=D+A*b.strides[2],j=A*a.strideHeight-g,V=0;V<u;V++){var P=j+V*d;if(!(P<0||P>=a.inHeight))for(var $=B+V*r.strides[1],Q=H+P*e.strides[2],U=0;U<a.outWidth;++U)for(var G=q+U*a.outChannels,M=U*a.strideWidth-m,K=0;K<l;K++){var Z=M+K*h;if(!(Z<0||Z>=a.inWidth))for(var ie=$+K*r.strides[2],pe=Q+Z*a.inChannels,ge=ie,xe=0;xe<a.inChannels;++xe){for(var Ce=x[pe+xe],he=0;he<a.outChannels;++he)C[G+he]+=Ce*S[ge+he];ge+=a.outChannels}}}}return b.toTensor()},n.prototype.conv2dDerInput=function(e,r,a){ye([e,r],"conv2dDerInput");for(var o=qe(a.inShape,"float32"),u=o.values,l=this.readSync(e.dataId),c=this.readSync(r.dataId),d=r.strides,h=d[0],v=d[1],m=d[2],g=a.batchSize,b=a.filterHeight,x=a.filterWidth,S=a.inChannels,C=a.inHeight,_=a.inWidth,R=a.outChannels,E=a.outHeight,T=a.outWidth,D=a.strideHeight,N=a.strideWidth,O=a.dataFormat,I=b-1-a.padInfo.top,B=x-1-a.padInfo.left,H=O==="channelsLast",A=o.strides[0],q=H?o.strides[1]:o.strides[2],j=H?o.strides[2]:1,V=H?1:o.strides[1],P=e.strides[0],$=H?e.strides[1]:e.strides[2],Q=H?e.strides[2]:1,U=H?1:e.strides[1],G=0;G<g;++G)for(var M=0;M<S;++M)for(var K=0;K<C;++K)for(var Z=K-I,ie=Math.max(0,Math.ceil(Z/D)),pe=Math.min(E,(b+Z)/D),ge=0;ge<_;++ge){for(var xe=ge-B,Ce=Math.max(0,Math.ceil(xe/N)),he=Math.min(T,(x+xe)/N),be=0,we=ie;we<pe;++we)for(var Re=we*D-Z,Me=Ce;Me<he;++Me)for(var Se=P*G+$*we+Q*Me,Fe=h*(b-1-Re)+v*(x-1-(Me*N-xe))+m*M,He=0;He<R;++He)be+=l[Se+U*He]*c[Fe+He];u[A*G+q*K+j*ge+V*M]=be}return o.toTensor()},n.prototype.conv3dDerInput=function(e,r,a){for(var o=qe(a.inShape,"float32"),u=o.values,l=o.strides,c=l[0],d=l[1],h=l[2],v=l[3],m=this.readSync(e.dataId),g=e.strides,b=g[0],x=g[1],S=g[2],C=g[3],_=this.readSync(r.dataId),R=r.strides,E=R[0],T=R[1],D=R[2],N=R[3],O=a.batchSize,I=a.filterDepth,B=a.filterHeight,H=a.filterWidth,A=a.inChannels,q=a.inDepth,j=a.inHeight,V=a.inWidth,P=a.outChannels,$=a.outDepth,Q=a.outHeight,U=a.outWidth,G=a.strideDepth,M=a.strideHeight,K=a.strideWidth,Z=I-1-a.padInfo.front,ie=B-1-a.padInfo.top,pe=H-1-a.padInfo.left,ge=0;ge<O;++ge)for(var xe=0;xe<A;++xe)for(var Ce=0;Ce<q;++Ce)for(var he=Ce-Z,be=Math.max(0,Math.ceil(he/G)),we=Math.min($,(I+he)/G),Re=0;Re<j;++Re)for(var Me=Re-ie,Se=Math.max(0,Math.ceil(Me/M)),Fe=Math.min(Q,(B+Me)/M),He=0;He<V;++He){for(var vt=He-pe,ut=Math.max(0,Math.ceil(vt/K)),yt=Math.min(U,(H+vt)/K),Vt=0,st=be;st<we;++st)for(var Le=st*G-he,fn=Se;fn<Fe;++fn)for(var Ye=fn*M-Me,Bn=ut;Bn<yt;++Bn)for(var Kn=b*ge+x*st+S*fn+C*Bn,Rn=E*(I-1-Le)+T*(B-1-Ye)+D*(H-1-(Bn*K-vt))+N*xe,rn=0;rn<P;++rn)Vt+=m[Kn+rn]*_[Rn+rn];u[c*ge+d*Ce+h*Re+v*He+xe]=Vt}return o.toTensor()},n.prototype.conv2dDerFilter=function(e,r,a){ye([e,r],"conv2dDerFilter");for(var o=a.strideHeight,u=a.strideWidth,l=a.filterHeight,c=a.filterWidth,d=a.dataFormat==="channelsLast",h=qe(a.filterShape,"float32"),v=a.padInfo.left,m=a.padInfo.top,g=this.bufferSync(e),b=this.bufferSync(r),x=0;x<l;++x)for(var S=Math.max(0,Math.ceil((m-x)/o)),C=Math.min(a.outHeight,(a.inHeight+m-x)/o),_=0;_<c;++_)for(var R=Math.max(0,Math.ceil((v-_)/u)),E=Math.min(a.outWidth,(a.inWidth+v-_)/u),T=0;T<a.inChannels;++T)for(var D=0;D<a.outChannels;++D){for(var N=0,O=0;O<a.batchSize;++O)for(var I=S;I<C;++I)for(var B=x+I*o-m,H=R;H<E;++H){var A=_+H*u-v;N+=d?g.get(O,B,A,T)*b.get(O,I,H,D):g.get(O,T,B,A)*b.get(O,D,I,H)}h.set(N,x,_,T,D)}return h.toTensor()},n.prototype.conv3dDerFilter=function(e,r,a){for(var o=a.strideDepth,u=a.strideHeight,l=a.strideWidth,c=a.filterDepth,d=a.filterHeight,h=a.filterWidth,v=qe(a.filterShape,"float32"),m=v.values,g=v.strides,b=g[0],x=g[1],S=g[2],C=g[3],_=this.readSync(r.dataId),R=r.strides,E=R[0],T=R[1],D=R[2],N=R[3],O=this.readSync(e.dataId),I=e.strides,B=I[0],H=I[1],A=I[2],q=I[3],j=a.padInfo.front,V=a.padInfo.left,P=a.padInfo.top,$=0;$<c;++$)for(var Q=Math.max(0,Math.ceil((j-$)/o)),U=Math.min(a.outDepth,(a.inDepth+j-$)/o),G=$*b,M=0;M<d;++M)for(var K=Math.max(0,Math.ceil((P-M)/u)),Z=Math.min(a.outHeight,(a.inHeight+P-M)/u),ie=M*x+G,pe=0;pe<h;++pe)for(var ge=Math.max(0,Math.ceil((V-pe)/l)),xe=Math.min(a.outWidth,(a.inWidth+V-pe)/l),Ce=pe*S+ie,he=0;he<a.inChannels;++he)for(var be=he*C+Ce,we=0;we<a.outChannels;++we){for(var Re=0,Me=0;Me<a.batchSize;++Me)for(var Se=Me*B,Fe=Me*E,He=Q;He<U;++He)for(var vt=($+He*o-j)*H+Se,ut=He*T+Fe,yt=K;yt<Z;++yt)for(var Vt=(M+yt*u-P)*A+vt,st=yt*D+ut,Le=ge;Le<xe;++Le){var fn=Le*N+st;Re+=O[(pe+Le*l-V)*q+Vt+he]*_[fn+we]}m[be+we]=Re}return v.toTensor()},n.prototype.fusedDepthwiseConv2D=function(e){var r=e.input,a=e.filter,o=e.convInfo,u=e.bias,l=e.activation,c=e.preluActivationWeights,d=this.depthwiseConv2D(r,a,o);return u&&(d=this.add(d,u)),l&&(d=Pm(this,d,l,c)),d},n.prototype.depthwiseConv2D=function(e,r,a){ye([e,r],"depthwiseConv2D");for(var o=a.filterHeight,u=a.filterWidth,l=a.dilationHeight,c=a.dilationWidth,d=a.padInfo.left,h=a.padInfo.top,v=a.outChannels/a.inChannels,m=qe(a.outShape,e.dtype),g=this.readSync(e.dataId),b=this.readSync(r.dataId),x=m.values,S=0;S<a.batchSize;++S)for(var C=S*e.strides[0],_=S*m.strides[0],R=0;R<a.outHeight;++R)for(var E=_+R*m.strides[1],T=R*a.strideHeight-d,D=0;D<o;++D){var N=T+D*l;if(!(N<0||N>=a.inHeight))for(var O=D*r.strides[0],I=C+N*e.strides[1],B=0;B<a.outWidth;++B)for(var H=E+B*m.strides[2],A=B*a.strideWidth-h,q=0;q<u;++q){var j=A+q*c;if(!(j<0||j>=a.inWidth))for(var V=O+q*r.strides[1],P=I+j*a.inChannels,$=H,Q=V,U=0;U<a.inChannels;++U){for(var G=g[P+U],M=0;M<v;++M)x[$+M]+=G*b[Q+M];$+=v,Q+=v}}}return m.toTensor()},n.prototype.depthwiseConv2DDerInput=function(e,r,a){ye([e,r],"depthwiseConv2DDerInput");for(var o=qe(a.inShape,"float32"),u=o.values,l=o.strides,c=l[0],d=l[1],h=l[2],v=this.readSync(e.dataId),m=e.strides,g=m[0],b=m[1],x=m[2],S=this.readSync(r.dataId),C=r.strides,_=C[0],R=C[1],E=C[2],T=a.batchSize,D=a.filterHeight,N=a.filterWidth,O=a.inChannels,I=a.inHeight,B=a.inWidth,H=a.outChannels,A=a.outHeight,q=a.outWidth,j=a.strideHeight,V=a.strideWidth,P=D-1-a.padInfo.top,$=N-1-a.padInfo.left,Q=H/O,U=0;U<T;++U)for(var G=0;G<O;++G)for(var M=0;M<I;++M)for(var K=M-P,Z=Math.max(0,Math.ceil(K/j)),ie=Math.min(A,(D+K)/j),pe=0;pe<B;++pe){for(var ge=pe-$,xe=Math.max(0,Math.ceil(ge/V)),Ce=Math.min(q,(N+ge)/V),he=0,be=Z;be<ie;++be)for(var we=be*j-K,Re=xe;Re<Ce;++Re)for(var Me=g*U+b*be+x*Re,Se=_*(D-1-we)+R*(N-1-(Re*V-ge))+E*G,Fe=0;Fe<Q;++Fe)he+=v[Me+(G*Q+Fe)]*S[Se+Fe];u[c*U+d*M+h*pe+G]=he}return o.toTensor()},n.prototype.depthwiseConv2DDerFilter=function(e,r,a){ye([e,r],"depthwiseConv2DDerFilter");for(var o=a.strideHeight,u=a.strideWidth,l=a.filterHeight,c=a.filterWidth,d=qe(a.filterShape,"float32"),h=a.padInfo.left,v=a.padInfo.top,m=a.outChannels/a.inChannels,g=this.bufferSync(e),b=this.bufferSync(r),x=0;x<l;++x)for(var S=Math.max(0,Math.ceil((v-x)/o)),C=Math.min(a.outHeight,(a.inHeight+v-x)/o),_=0;_<c;++_)for(var R=Math.max(0,Math.ceil((h-_)/u)),E=Math.min(a.outWidth,(a.inWidth+h-_)/u),T=0;T<a.outChannels;++T){for(var D=Math.trunc(T/m),N=T%m,O=0,I=0;I<a.batchSize;++I)for(var B=S;B<C;++B)for(var H=x+B*o-v,A=R;A<E;++A){var q=_+A*u-h;O+=g.get(I,H,q,D)*b.get(I,B,A,T)}d.set(O,x,_,D,N)}return d.toTensor()},n.prototype.tile=function(e,r){return ye(e,"tile"),gR(this.bufferSync(e),r)},n.prototype.pad=function(e,r,a){ye(e,"pad");var o=r.map((function(m,g){return m[0]+e.shape[g]+m[1]})),u=r.map((function(m){return m[0]})),l=this.bufferSync(e),c=qe(o,e.dtype);a!==0&&c.values.fill(a);for(var d=0;d<e.size;d++){var h=l.indexToLoc(d),v=h.map((function(m,g){return m+u[g]}));c.set.apply(c,[l.get.apply(l,h)].concat(v))}return c.toTensor()},n.prototype.transpose=function(e,r){ye(e,"transpose");for(var a=new Array(e.rank),o=0;o<a.length;o++)a[o]=e.shape[r[o]];var u=this.readSync(e.dataId),l=qe(a,e.dtype),c=this.bufferSync(e);for(o=0;o<e.size;++o){for(var d=c.indexToLoc(o),h=new Array(d.length),v=0;v<h.length;v++)h[v]=d[r[v]];var m=l.locToIndex(h);l.values[m]=u[o]}return l.toTensor()},n.prototype.gather=function(e,r,a){ye([e,r],"gather");var o=e.shape.slice(),u=this.readSync(r.dataId);o[a]=u.length;for(var l=qe(o,e.dtype),c=this.bufferSync(e),d=0;d<l.size;++d){var h=l.indexToLoc(d),v=h.slice();v[a]=u[h[a]];var m=c.locToIndex(v);l.values[d]=c.values[m]}return l.toTensor()},n.prototype.batchToSpaceND=function(e,r,a){ye([e],"batchToSpaceND");var o=r.reduce((function(v,m){return v*m})),u=Ed(e.shape,r,o),l=Rd(u.length,r.length),c=_d(e.shape,r,o),d=aR(a,r.length),h=oR(c,a,r.length);return e.reshape(u).transpose(l).reshape(c).slice(d,h)},n.prototype.spaceToBatchND=function(e,r,a){ye([e],"spaceToBatchND");var o=r.reduce((function(m,g){return m*g})),u=[[0,0]];u.push.apply(u,a);for(var l=1+r.length;l<e.shape.length;++l)u.push([0,0]);var c=e.pad(u),d=Ed(c.shape,r,o,!1),h=Rd(d.length,r.length,!1),v=_d(c.shape,r,o,!1);return c.reshape(d).transpose(h).reshape(v)},n.prototype.pool=function(e,r,a){ye(e,"pool");for(var o=r.strideHeight,u=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,v=r.padInfo.top,m=r.padInfo.left,g=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=this.readSync(e.dataId),x=qe(r.outShape,e.dtype),S=x.values,C=r.outShape[1]*r.outShape[2]*r.outShape[3],_=r.outShape[2]*r.outShape[3],R=r.outShape[3],E=0;E<r.batchSize;++E)for(var T=E*C,D=E*e.strides[0],N=0;N<r.inChannels;++N)for(var O=0;O<r.outHeight;++O)for(var I=O*o-v,B=Math.max(0,I),H=Math.min(r.inHeight,d+I),A=T+O*_,q=0;q<r.outWidth;++q){for(var j=q*u-m,V=Math.max(0,j),P=Math.min(r.inWidth,h+j),$=g,Q=0,U=0,G=B;G<H;G+=l){for(var M=D+G*e.strides[1],K=V;K<P;K+=c){var Z=b[M+K*e.strides[2]+N];a==="max"&&Z>$?$=Z:a==="avg"&&(Q+=Z,U++)}if(isNaN($))break}S[A+q*R+N]=a==="avg"?Q/U:$}return x.toTensor()},n.prototype.maxPool=function(e,r){return this.pool(e,r,"max")},n.prototype.maxPoolPositions=function(e,r){for(var a=qe(r.outShape,"int32"),o=r.strideHeight,u=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,v=r.padInfo.top,m=r.padInfo.left,g=this.bufferSync(e),b=0;b<r.batchSize;++b)for(var x=0;x<r.inChannels;++x)for(var S=0;S<r.outHeight;++S){for(var C=S*o-v,_=C;_<0;)_+=l;for(var R=Math.min(r.inHeight,d+C),E=0;E<r.outWidth;++E){for(var T=E*u-m,D=T;D<0;)D+=c;for(var N=Math.min(r.inWidth,h+T),O=Number.NEGATIVE_INFINITY,I=-1,B=_;B<R;B+=l)for(var H=B-C,A=D;A<N;A+=c){var q=A-T,j=g.get(b,B,A,x);j>O&&(O=j,I=H*h+q)}a.set(I,b,S,E,x)}}return a.toTensor()},n.prototype.maxPoolBackprop=function(e,r,a,o){ye([r,a],"maxPoolBackprop");for(var u=this.maxPoolPositions(r,o),l=o.strideHeight,c=o.strideWidth,d=o.dilationHeight,h=o.dilationWidth,v=o.effectiveFilterHeight,m=o.effectiveFilterWidth,g=m-1-o.padInfo.left,b=v-1-o.padInfo.top,x=qe(r.shape,"float32"),S=this.bufferSync(u),C=this.bufferSync(e),_=0;_<o.batchSize;++_)for(var R=0;R<o.inChannels;++R)for(var E=0;E<o.inHeight;++E)for(var T=0;T<o.inWidth;++T){for(var D=E-b,N=T-g,O=0,I=0;I<v;I+=d){var B=(D+I)/l;if(!(B<0||B>=o.outHeight||Math.floor(B)!==B))for(var H=0;H<m;H+=h){var A=(N+H)/c;if(!(A<0||A>=o.outWidth||Math.floor(A)!==A)){var q=v*m-1-S.get(_,B,A,R)===I*m+H?1:0;q!==0&&(O+=C.get(_,B,A,R)*q)}}}x.set(O,_,E,T,R)}return x.toTensor()},n.prototype.avgPoolBackprop=function(e,r,a){ye([e,r],"avgPoolBackprop");for(var o=a.strideHeight,u=a.strideWidth,l=a.filterHeight,c=a.filterWidth,d=a.dilationHeight,h=a.dilationWidth,v=a.effectiveFilterHeight,m=a.effectiveFilterWidth,g=m-1-a.padInfo.left,b=v-1-a.padInfo.top,x=qe(r.shape,"float32"),S=1/(l*c),C=this.bufferSync(e),_=0;_<a.batchSize;++_)for(var R=0;R<a.inChannels;++R)for(var E=0;E<a.inHeight;++E)for(var T=0;T<a.inWidth;++T){for(var D=E-b,N=T-g,O=0,I=0;I<v;I+=d){var B=(D+I)/o;if(!(B<0||B>=a.outHeight||Math.floor(B)!==B))for(var H=0;H<m;H+=h){var A=(N+H)/u;A<0||A>=a.outWidth||Math.floor(A)!==A||(O+=C.get(_,B,A,R))}}x.set(O*S,_,E,T,R)}return x.toTensor()},n.prototype.pool3d=function(e,r,a){ye(e,"pool3d");for(var o=r.strideDepth,u=r.strideHeight,l=r.strideWidth,c=r.dilationDepth,d=r.dilationHeight,h=r.dilationWidth,v=r.effectiveFilterDepth,m=r.effectiveFilterHeight,g=r.effectiveFilterWidth,b=r.padInfo.front,x=r.padInfo.top,S=r.padInfo.left,C=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,_=this.readSync(e.dataId),R=qe(r.outShape,e.dtype),E=R.values,T=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],D=r.outShape[2]*r.outShape[3]*r.outShape[4],N=r.outShape[3]*r.outShape[4],O=r.outShape[4],I=0;I<r.batchSize;++I)for(var B=I*T,H=I*e.strides[0],A=0;A<r.inChannels;++A)for(var q=0;q<r.outDepth;++q){for(var j=q*o-b,V=j;V<0;)V+=c;for(var P=Math.min(r.inDepth,v+j),$=B+q*D,Q=0;Q<r.outHeight;++Q){for(var U=Q*u-x,G=U;G<0;)G+=d;for(var M=Math.min(r.inHeight,m+U),K=$+Q*N,Z=0;Z<r.outWidth;++Z){for(var ie=Z*l-S,pe=ie;pe<0;)pe+=h;for(var ge=Math.min(r.inWidth,g+ie),xe=K+Z*O,Ce=C,he=0,be=0,we=V;we<P;we+=c){for(var Re=H+we*e.strides[1],Me=G;Me<M;Me+=d){for(var Se=Re+Me*e.strides[2],Fe=pe;Fe<ge;Fe+=h){var He=_[Se+Fe*e.strides[3]+A];if(a==="max"&&He>Ce?Ce=He:a==="avg"&&(he+=He,be++),isNaN(Ce))break}if(isNaN(Ce))break}if(isNaN(Ce))break}E[xe+A]=a==="avg"?he/be:Ce}}}return R.toTensor()},n.prototype.avgPool3d=function(e,r){return ye(e,"avgPool3d"),this.pool3d(e,r,"avg").toFloat()},n.prototype.avgPool3dBackprop=function(e,r,a){ye([e,r],"avgPool3dBackprop");for(var o=a.strideDepth,u=a.strideHeight,l=a.strideWidth,c=a.filterDepth,d=a.filterHeight,h=a.filterWidth,v=a.dilationDepth,m=a.dilationHeight,g=a.dilationWidth,b=a.effectiveFilterDepth,x=a.effectiveFilterHeight,S=a.effectiveFilterWidth,C=b-1-a.padInfo.front,_=S-1-a.padInfo.left,R=x-1-a.padInfo.top,E=qe(r.shape,"float32"),T=1/(c*d*h),D=this.bufferSync(e),N=0;N<a.batchSize;++N)for(var O=0;O<a.inChannels;++O)for(var I=0;I<a.inDepth;++I)for(var B=0;B<a.inHeight;++B)for(var H=0;H<a.inWidth;++H){for(var A=I-C,q=B-R,j=H-_,V=0,P=0;P<b;P+=v){var $=(A+P)/o;if(!($<0||$>=a.outDepth||Math.floor($)!==$))for(var Q=0;Q<x;Q+=m){var U=(q+Q)/u;if(!(U<0||U>=a.outHeight||Math.floor(U)!==U))for(var G=0;G<S;G+=g){var M=(j+G)/l;M<0||M>=a.outWidth||Math.floor(M)!==M||(V+=D.get(N,$,U,M,O))}}}E.set(V*T,N,I,B,H,O)}return E.toTensor()},n.prototype.maxPool3d=function(e,r){return ye(e,"maxPool3d"),this.pool3d(e,r,"max").toFloat()},n.prototype.maxPool3dPositions=function(e,r){for(var a=qe(r.outShape,"int32"),o=r.strideDepth,u=r.strideHeight,l=r.strideWidth,c=r.dilationDepth,d=r.dilationHeight,h=r.dilationWidth,v=r.effectiveFilterDepth,m=r.effectiveFilterHeight,g=r.effectiveFilterWidth,b=r.padInfo.front,x=r.padInfo.top,S=r.padInfo.left,C=this.bufferSync(e),_=0;_<r.batchSize;++_)for(var R=0;R<r.inChannels;++R)for(var E=0;E<r.outDepth;++E){for(var T=E*o-b,D=T;D<0;)D+=c;for(var N=Math.min(r.inDepth,v+T),O=0;O<r.outHeight;++O){for(var I=O*u-x,B=I;B<0;)B+=d;for(var H=Math.min(r.inHeight,m+I),A=0;A<r.outWidth;++A){for(var q=A*l-S,j=q;j<0;)j+=h;for(var V=Math.min(r.inWidth,g+q),P=Number.NEGATIVE_INFINITY,$=-1,Q=D;Q<N;Q+=c)for(var U=Q-T,G=B;G<H;G+=d)for(var M=G-I,K=j;K<V;K+=h){var Z=K-q,ie=C.get(_,Q,G,K,R);ie>=P&&(P=ie,$=U*m*g+M*m+Z)}a.set($,_,E,O,A,R)}}}return a.toTensor()},n.prototype.maxPool3dBackprop=function(e,r,a,o){ye([r,a],"maxPool3dBackprop");for(var u=this.maxPool3dPositions(r,o),l=o.strideDepth,c=o.strideHeight,d=o.strideWidth,h=o.dilationDepth,v=o.dilationHeight,m=o.dilationWidth,g=o.effectiveFilterDepth,b=o.effectiveFilterHeight,x=o.effectiveFilterWidth,S=g-1-o.padInfo.front,C=x-1-o.padInfo.left,_=b-1-o.padInfo.top,R=qe(r.shape,"float32"),E=this.bufferSync(u),T=this.bufferSync(e),D=0;D<o.batchSize;++D)for(var N=0;N<o.inChannels;++N)for(var O=0;O<o.inDepth;++O)for(var I=0;I<o.inHeight;++I)for(var B=0;B<o.inWidth;++B){for(var H=O-S,A=I-_,q=B-C,j=0,V=0;V<g;V+=h){var P=(H+V)/l;if(!(P<0||P>=o.outDepth||Math.floor(P)!==P))for(var $=0;$<b;$+=v){var Q=(A+$)/c;if(!(Q<0||Q>=o.outHeight||Math.floor(Q)!==Q))for(var U=0;U<x;U+=m){var G=(q+U)/d;if(!(G<0||G>=o.outWidth||Math.floor(G)!==G)){var M=g*b*x-1-E.get(D,P,Q,G,N)===V*b*x+$*x+U?1:0;M!==0&&(j+=T.get(D,P,Q,G,N)*M)}}}}R.set(j,D,O,I,B,N)}return R.toTensor()},n.prototype.cast=function(e,r){return hR(e,r,this)},n.prototype.reshape=function(e,r){return Rg(e,r)},n.prototype.avgPool=function(e,r){return ye(e,"avgPool"),this.pool(e,r,"avg").toFloat()},n.prototype.resizeBilinear=function(e,r,a,o){ye(e,"resizeBilinear");for(var u=e.shape,l=u[0],c=u[1],d=u[2],h=u[3],v=this.readSync(e.dataId),m=new Float32Array(Ne([l,r,a,h])),g=[o&&r>1?c-1:c,o&&a>1?d-1:d],b=[o&&r>1?r-1:r,o&&a>1?a-1:a],x=0,S=g[0]/b[0],C=g[1]/b[1],_=0;_<l;_++)for(var R=0;R<r;R++)for(var E=S*R,T=Math.floor(E),D=E-T,N=Math.min(c-1,Math.ceil(E)),O=_*e.strides[0]+T*e.strides[1],I=_*e.strides[0]+N*e.strides[1],B=0;B<a;B++)for(var H=C*B,A=Math.floor(H),q=H-A,j=Math.min(d-1,Math.ceil(H)),V=O+A*e.strides[2],P=I+A*e.strides[2],$=O+j*e.strides[2],Q=I+j*e.strides[2],U=0;U<h;U++){var G=v[V+U],M=v[P+U],K=G+(v[$+U]-G)*q,Z=K+(M+(v[Q+U]-M)*q-K)*D;m[x++]=Z}return In(m,[l,r,a,h])},n.prototype.resizeBilinearBackprop=function(e,r,a){ye([e,r],"resizeBilinearBackprop");for(var o=r.shape,u=o[0],l=o[1],c=o[2],d=o[3],h=e.shape,v=h[1],m=h[2],g=new Float32Array(u*l*c*d),b=[a&&v>1?l-1:l,a&&m>1?c-1:c],x=[a&&v>1?v-1:v,a&&m>1?m-1:m],S=b[0]/x[0],C=b[1]/x[1],_=this.readSync(e.dataId),R=0,E=0;E<u;E++)for(var T=E*r.strides[0],D=0;D<v;D++)for(var N=D*S,O=Math.floor(N),I=Math.min(Math.ceil(N),l-1),B=T+O*r.strides[1],H=T+I*r.strides[1],A=N-O,q=1-A,j=0;j<m;j++)for(var V=j*C,P=Math.floor(V),$=Math.min(Math.ceil(V),c-1),Q=V-P,U=1-Q,G=B+P*r.strides[2],M=B+$*r.strides[2],K=H+P*r.strides[2],Z=H+$*r.strides[2],ie=q*U,pe=q*Q,ge=A*U,xe=A*Q,Ce=0;Ce<d;Ce++){var he=_[R++];g[G+Ce]+=he*ie,g[M+Ce]+=he*pe,g[K+Ce]+=he*ge,g[Z+Ce]+=he*xe}return or(g,[u,c,l,d],r.dtype)},n.prototype.resizeNearestNeighbor=function(e,r,a,o){ye(e,"resizeNearestNeighbor");for(var u=e.shape,l=u[0],c=u[1],d=u[2],h=u[3],v=this.readSync(e.dataId),m=new Float32Array(l*r*a*h),g=[o&&r>1?c-1:c,o&&a>1?d-1:d],b=[o&&r>1?r-1:r,o&&a>1?a-1:a],x=g[0]/b[0],S=g[1]/b[1],C=0,_=0;_<l;_++)for(var R=_*e.strides[0],E=0;E<r;E++)for(var T=x*E,D=R+Math.min(c-1,o?Math.round(T):Math.floor(T))*e.strides[1],N=0;N<a;N++)for(var O=S*N,I=D+Math.min(d-1,o?Math.round(O):Math.floor(O))*e.strides[2],B=0;B<h;B++){var H=v[I+B];m[C++]=H}return In(m,[l,r,a,h],e.dtype)},n.prototype.resizeNearestNeighborBackprop=function(e,r,a){ye([e,r],"resizeNearestNeighborBackprop");for(var o=r.shape,u=o[0],l=o[1],c=o[2],d=o[3],h=e.shape,v=h[1],m=h[2],g=new Float32Array(u*l*c*d),b=this.readSync(e.dataId),x=[a&&v>1?l-1:l,a&&m>1?c-1:c],S=[a&&v>1?v-1:v,a&&m>1?m-1:m],C=x[0]/S[0],_=x[1]/S[1],R=1/C,E=1/_,T=2*Math.ceil(R)+2,D=2*Math.ceil(E)+2,N=0;N<u;N++)for(var O=N*r.strides[0],I=0;I<l;I++)for(var B=O+I*r.strides[1],H=Math.floor(I*R),A=Math.floor(H-T/2),q=0;q<c;q++)for(var j=B+q*r.strides[2],V=Math.floor(q*E),P=Math.floor(V-D/2),$=0;$<d;$++){for(var Q=0,U=0;U<T;U++){var G=U+A;if(!(G<0||G>=v)){var M=O+G*e.strides[1],K=G*C;if(I===Math.min(l-1,a?Math.round(K):Math.floor(K)))for(var Z=0;Z<D;Z++){var ie=Z+P;if(!(ie<0||ie>=m)){var pe=M+ie*e.strides[2],ge=ie*_;q===Math.min(c-1,a?Math.round(ge):Math.floor(ge))&&(Q+=b[pe+$])}}}}g[j+$]=Q}return or(g,r.shape,r.dtype)},n.prototype.batchNormalization=function(e,r,a,o,u,l){ye([e,r,a,u,l],"batchNorm");for(var c=this.readSync(e.dataId),d=this.readSync(r.dataId),h=this.readSync(a.dataId),v=u?this.readSync(u.dataId):new Float32Array([1]),m=l?this.readSync(l.dataId):new Float32Array([0]),g=new Float32Array(c.length),b=m.length,x=v.length,S=h.length,C=d.length,_=0,R=0,E=0,T=0,D=0;D<c.length;++D)g[D]=m[_++]+(c[D]-d[R++])*v[E++]/Math.sqrt(h[T++]+o),_>=b&&(_=0),R>=C&&(R=0),E>=x&&(E=0),T>=S&&(T=0);return or(g,e.shape)},n.prototype.localResponseNormalization4D=function(e,r,a,o,u){ye(e,"localResponseNormalization4D");var l=e.shape[3],c=l-1,d=this.readSync(e.dataId),h=e.size,v=new Float32Array(h);function m(S){for(var C=S%l,_=S-C+Math.max(0,C-r),R=S-C+Math.min(C+r,c),E=0;_<=R;_++){var T=d[_];E+=T*T}return E}for(var g=0;g<h;g++){var b=m(g),x=d[g]*Math.pow(a+o*b,-u);v[g]=x}return or(v,e.shape)},n.prototype.LRNGrad=function(e,r,a,o,u,l,c){ye(e,"LRNGrad");for(var d=e.shape[3],h=this.readSync(e.dataId),v=this.readSync(r.dataId),m=this.readSync(a.dataId),g=new Float32Array(e.size),b=e.size,x=0;x<b;x++){for(var S=x%d,C=x-S+Math.max(0,S-o),_=x-S+Math.min(d,S+o+1),R=0,E=C;E<_;E++)R+=Math.pow(v[E],2);for(R=l*R+u,E=C;E<_;E++){var T=-2*l*c*v[E]*m[x]/R;x===E&&(T+=Math.pow(R,-c)),T*=h[x],g[E]+=T}}return or(g,e.shape)},n.prototype.multinomial=function(e,r,a,o){ye(e,"multinomial");for(var u=r?e:fo(e),l=u.shape[0],c=u.shape[1],d=It([l,a],"int32"),h=this.readSync(d.dataId),v=this.readSync(u.dataId),m=0;m<l;++m){var g=m*c,b=new Float32Array(c-1);b[0]=v[g];for(var x=1;x<b.length;++x)b[x]=b[x-1]+v[g+x];for(var S=ih(o.toString()),C=m*a,_=0;_<a;++_){var R=S();h[C+_]=b.length;for(var E=0;E<b.length;E++)if(R<b[E]){h[C+_]=E;break}}}return d},n.prototype.oneHot=function(e,r,a,o){ye(e,"oneHot");var u=new Float32Array(e.size*r);u.fill(o);for(var l=this.readSync(e.dataId),c=0;c<e.size;++c)l[c]>=0&&l[c]<r&&(u[c*r+l[c]]=a);return $o(u,[e.size,r],"int32")},n.prototype.nonMaxSuppression=function(e,r,a,o,u){return ye(e,"nonMaxSuppression"),Ay(this.readSync(e.dataId),this.readSync(r.dataId),a,o,u)},n.prototype.fft=function(e){return this.fftBatch(e,!1)},n.prototype.ifft=function(e){return this.fftBatch(e,!0)},n.prototype.fftBatch=function(e,r){for(var a=e.shape[0],o=e.shape[1],u=qe(e.shape,"float32"),l=qe(e.shape,"float32"),c=jr(e).as2D(a,o),d=wa(e).as2D(a,o),h=0;h<a;h++)for(var v=c.slice([h,0],[1,o]),m=d.slice([h,0],[1,o]),g=Nn(v,m),b=this.readSync(this.fftImpl(g,r).dataId),x=0;x<o;x++){var S=CS(b,x);u.values[h*o+x]=S.real,l.values[h*o+x]=S.imag}return Nn(u.toTensor(),l.toTensor()).as2D(a,o)},n.prototype.fftImpl=function(e,r){var a=e.as1D(),o=a.size;if(this.isExponentOf2(o)){var u=this.fftRadix2(a,o,r).as2D(e.shape[0],e.shape[1]);return r&&(u=Nn(jr(u).div(Ee(o)),wa(u).div(Ee(o)))),u}var l=this.readSync(e.dataId),c=(function(d){for(var h=new Float32Array(d.length/2),v=new Float32Array(d.length/2),m=0;m<d.length;m+=2)h[m/2]=d[m],v[m/2]=d[m+1];return{real:h,imag:v}})(this.fourierTransformByMatmul(l,o,r));return Nn(c.real,c.imag).as2D(e.shape[0],e.shape[1])},n.prototype.isExponentOf2=function(e){return(e&e-1)==0},n.prototype.fftRadix2=function(e,r,a){if(r===1)return e;var o=this.readSync(e.dataId),u=r/2,l=(function(C){for(var _=Math.ceil(C.length/4),R=new Float32Array(_),E=new Float32Array(_),T=0;T<C.length;T+=4)R[Math.floor(T/4)]=C[T],E[Math.floor(T/4)]=C[T+1];return{real:R,imag:E}})(o),c=Nn(l.real,l.imag).as1D(),d=(function(C){for(var _=Math.floor(C.length/4),R=new Float32Array(_),E=new Float32Array(_),T=2;T<C.length;T+=4)R[Math.floor(T/4)]=C[T],E[Math.floor(T/4)]=C[T+1];return{real:R,imag:E}})(o),h=Nn(d.real,d.imag).as1D();c=this.fftRadix2(c,u,a),h=this.fftRadix2(h,u,a);var v=(function(C,_){for(var R=new Float32Array(C/2),E=new Float32Array(C/2),T=0;T<Math.ceil(C/2);T++){var D=(_?2:-2)*Math.PI*(T/C);R[T]=Math.cos(D),E[T]=Math.sin(D)}return{real:R,imag:E}})(r,a),m=Nn(v.real,v.imag).mul(h),g=c.add(m),b=c.sub(m),x=jr(g).concat(jr(b)),S=wa(g).concat(wa(b));return Nn(x,S).as1D()},n.prototype.fourierTransformByMatmul=function(e,r,a){for(var o=new Float32Array(2*r),u=0;u<r;u++){for(var l=0,c=0,d=0;d<r;d++){var h=IL(u*d,r,a),v=CS(e,d);l+=v.real*h.real-v.imag*h.imag,c+=v.real*h.imag+v.imag*h.real}a&&(l/=r,c/=r),OL(o,l,c,u)}return o},n.prototype.depthToSpace=function(e,r,a){W(a==="NHWC",(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a})),W(r>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+r}));for(var o=e.shape[0],u=e.shape[1],l=e.shape[2],c=e.shape[3],d=u*r,h=l*r,v=c/(r*r),m=this.readSync(e.dataId),g=new Float32Array(o*d*h*v),b=0,x=0;x<o;++x)for(var S=0;S<d;++S)for(var C=Math.floor(S/r),_=S%r,R=0;R<h;++R)for(var E=Math.floor(R/r),T=(_*r+R%r)*v,D=0;D<v;++D){var N=D+T+c*(E+l*(C+u*x));g[b++]=m[N]}return or(g,[o,d,h,v])},n.prototype.broadcastedBinaryOp=function(e,r,a,o){var u=nt(e.shape,r.shape),l=qe(u,a),c=this.readSync(e.dataId),d=this.readSync(r.dataId),h=jo(e.shape,u),v=jo(r.shape,u),m=l.values;if(h.length+v.length===0)for(var g=0;g<m.length;++g)m[g]=o(c[g%c.length],d[g%d.length]);else{var b=this.bufferSync(e),x=this.bufferSync(r),S=function(C){var _=l.indexToLoc(C),R=_.slice(-e.rank);h.forEach((function(N){return R[N]=0}));var E=b.locToIndex(R),T=_.slice(-r.rank);v.forEach((function(N){return T[N]=0}));var D=x.locToIndex(T);m[C]=o(c[E],d[D])};for(g=0;g<m.length;++g)S(g)}return l.toTensor()},n.prototype.broadcastedBinaryComplexOp=function(e,r,a){var o=nt(e.shape,r.shape),u=qe(o,"float32"),l=qe(o,"float32"),c=this.readSync(e.dataId),d=this.readSync(r.dataId),h=jo(e.shape,o),v=jo(r.shape,o),m=u.values,g=l.values;if(h.length+v.length===0)for(var b=0;b<m.length;b++){var x=b%c.length,S=b%d.length,C=a(c[2*x],c[2*x+1],d[2*S],d[2*S+1]);m[b]=C.real,g[b]=C.imag}else{var _=this.bufferSync(this.data.get(e.dataId).complexTensors.real),R=this.bufferSync(this.data.get(r.dataId).complexTensors.real),E=function(T){var D=u.indexToLoc(T),N=D.slice(-e.rank);h.forEach((function(A){return N[A]=0}));var O=_.locToIndex(N),I=D.slice(-r.rank);v.forEach((function(A){return I[A]=0}));var B=R.locToIndex(I),H=a(c[2*O],c[2*O+1],d[2*B],d[2*B+1]);m[T]=H.real,g[T]=H.imag};for(b=0;b<m.length;b++)E(b)}return this.complex(u.toTensor(),l.toTensor())},n.prototype.split=function(e,r,a){return mR(e,r,a)},n.prototype.dispose=function(){},n.prototype.floatPrecision=function(){return 32},n.prototype.epsilon=function(){return 1e-7},n.prototype.cropAndResize=function(e,r,a,o,u,l){for(var c=e.shape,d=c[0],h=c[1],v=c[2],m=c[3],g=r.shape[0],b=o[0],x=o[1],S=qe([g,b,x,m],"float32"),C=this.readSync(r.dataId),_=this.readSync(a.dataId),R=this.readSync(e.dataId),E=e.strides,T=S.strides,D=0;D<g;D++){var N=4*D,O=C[N],I=C[N+1],B=C[N+2],H=C[N+3],A=_[D];if(!(A>=d))for(var q=b>1?(B-O)*(h-1)/(b-1):0,j=x>1?(H-I)*(v-1)/(x-1):0,V=0;V<b;V++){var P=b>1?O*(h-1)+V*q:.5*(O+B)*(h-1);if(P<0||P>h-1)for(var $=0;$<x;$++)for(var Q=0;Q<m;Q++){var U=Q+$*T[2]+V*T[1]+D*T[0];S.values[U]=l}else if(u==="bilinear"){var G=Math.floor(P),M=Math.ceil(P),K=P-G;for($=0;$<x;$++)if((we=x>1?I*(v-1)+$*j:.5*(I+H)*(v-1))<0||we>v-1)for(Q=0;Q<m;Q++)U=Q+$*T[2]+V*T[1]+D*T[0],S.values[U]=l;else{var Z=Math.floor(we),ie=Math.ceil(we),pe=we-Z;for(Q=0;Q<m;Q++){var ge=R[U=Q+Z*E[2]+G*E[1]+A*E[0]],xe=R[U=Q+ie*E[2]+G*E[1]+A*E[0]],Ce=R[U=Q+Z*E[2]+M*E[1]+A*E[0]],he=ge+(xe-ge)*pe,be=Ce+(R[U=Q+ie*E[2]+M*E[1]+A*E[0]]-Ce)*pe;U=Q+$*T[2]+V*T[1]+D*T[0],S.values[U]=he+(be-he)*K}}}else for($=0;$<x;++$){var we;if((we=x>1?I*(v-1)+$*j:.5*(I+H)*(v-1))<0||we>v-1)for(Q=0;Q<m;Q++)U=Q+$*T[2]+V*T[1]+D*T[0],S.values[U]=l;else{var Re=Math.round(we),Me=Math.round(P);for(Q=0;Q<m;Q++){var Se=Q+Re*E[2]+Me*E[1]+A*E[0],Fe=Q+$*T[2]+V*T[1]+D*T[0];S.values[Fe]=R[Se]}}}}}return S.toTensor()},n.prototype.sparseToDense=function(e,r,a,o){var u=Td(0,e,a),l=u.sliceRank,c=u.numUpdates,d=u.sliceSize,h=u.strides,v=u.outputSize;return this.scatter(e,r,a,v,d,c,l,h,o,!1)},n.prototype.gatherND=function(e,r){var a=r.shape,o=a[a.length-1],u=iR(e,r),l=u[0],c=u[1],d=u[2],h=u[3];if(c===0)return In([],l,e.dtype);for(var v=new zl([c,d],e.dtype),m=this.readSync(r.dataId),g=this.readSync(e.dataId),b=0;b<c;b++){for(var x=[],S=0,C=0;C<o;C++){var _=m[b*o+C];S+=_*h[C],x.push(_)}if(S<0||S>=e.size/d)throw new Error("Invalid indices: "+x+" does not index into "+e.shape);for(var R=0;R<d;R++)v.values[b*d+R]=g[S*d+R]}return v.toTensor().reshape(l)},n.prototype.scatterND=function(e,r,a){var o=Td(0,e,a),u=o.sliceRank,l=o.numUpdates,c=o.sliceSize,d=o.strides,h=o.outputSize,v=Ee(0);return this.scatter(e,r,a,h,c,l,u,d,v,!0)},n.prototype.fill=function(e,r,a){var o=gd(a=a||rc(r),Ne(e));return o.fill(r),ee.makeTensor(o,e,a,this)},n.prototype.onesLike=function(e){if(e.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},n.prototype.zerosLike=function(e){var r=gd(e.dtype,Ne(e.shape));return this.makeOutput(r,e.shape,e.dtype)},n.prototype.linspace=function(e,r,a){return pR(e,r,a)},n.prototype.scatter=function(e,r,a,o,u,l,c,d,h,v){var m=[o/u,u],g=this.readSync(e.dataId),b=this.readSync(r.dataId);if(o===0)return In([],a,r.dtype);var x=new zl(m,r.dtype);x.values.fill(this.readSync(h.dataId)[0]);for(var S=0;S<l;S++){for(var C=[],_=0,R=0;R<c;R++){var E=g[S*c+R];C.push(E),_+=E*d[R]}if(_<0||_>=o/u)throw new Error("Invalid indices: "+C+" does not index into "+a);for(var T=0;T<u;T++)v?x.values[_*u+T]+=b[S*u+T]:x.values[_*u+T]=r.rank===0?b[0]:b[S*u+T]}return x.toTensor().reshape(a)},n})(fR);ee.registerBackend("cpu",(function(){return new eU}),1);for(var zm=0,GS=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(t){var n=t.inputs,e=t.backend,r=t.attrs,a=n,o=a.boxes,u=a.scores,l=r,c=l.maxOutputSize,d=l.iouThreshold,h=l.scoreThreshold,v=l.softNmsSigma,m=e;ye(o,"NonMaxSuppressionWithScore");var g=ky(m.data.get(o.dataId).values,m.data.get(u.dataId).values,c,d,h,v);return[g.selectedIndices,g.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(t){var n=t.inputs,e=t.backend,r=n.x,a=e;ye(r,"square");for(var o=a.data.get(r.dataId).values,u=new Float32Array(o.length),l=0;l<o.length;++l){var c=o[l];u[l]=c*c}return{dataId:a.write(u,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:Hl,backendName:"cpu",kernelFunc:function(t){var n=t.inputs,e=t.backend,r=n,a=r.a,o=r.b,u=e;ye([a,o],Hl);var l=u.data.get(a.dataId).values,c=u.data.get(o.dataId).values,d=(function(m,g,b,x,S,C){var _=nt(m,g),R=_.length,E=_a(_),T=Pl(S,Ne(_)),D=m.length,N=g.length,O=_a(m),I=_a(g),B=jo(m,_),H=jo(g,_);if(B.length+H.length===0)for(var A=0;A<T.length;++A)T[A]=C(b[A%b.length],x[A%x.length]);else{var q=function(j){var V=cF(j,R,E),P=V.slice(-D);B.forEach((function(G){return P[G]=0}));var $=pS(P,D,O),Q=V.slice(-N);H.forEach((function(G){return Q[G]=0}));var U=pS(Q,N,I);T[j]=C(b[$],x[U])};for(A=0;A<T.length;++A)q(A)}return[T,_]})(a.shape,o.shape,l,c,a.dtype,(function(m,g){var b=m-g;return b*b})),h=d[0],v=d[1];return{dataId:u.write(h,v,a.dtype),shape:v,dtype:a.dtype}}}];zm<GS.length;zm++)zE(GS[zm]);var Ws,tU=function(t){this.variableNames=["A"];var n=jn(),e=t[0],r=t[1];this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+e+`.0);

        vec4 values = `+n.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},nU=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=jn(),e=t[0],r=t[1];this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+e+`.0);
            vec4 values = `+n.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+n.output+` = result;
      }
    `};for(var Um=0,qS=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(t){var n=t.inputs,e=t.backend,r=t.attrs,a=n.pixels,o=r.numChannels,u=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,l=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,c=u?[a.videoWidth,a.videoHeight]:[a.width,a.height],d=c[0],h=c[1],v=[h,d],m=[h,d,o];(l||u)&&(Ws==null&&(Ws=document.createElement("canvas").getContext("2d")),Ws.canvas.width=d,Ws.canvas.height=h,Ws.drawImage(a,0,0,d,h),a=Ws.canvas);var g=e.makeTensorInfo(v,"int32");e.texData.get(g.dataId).usage=Cr.PIXELS,e.gpgpu.uploadPixelDataToTexture(e.getTexture(g.dataId),a);var b=de().getBool("WEBGL_PACK")?new nU(m):new tU(m),x=e.runWebGLProgram(b,[g],"int32");return e.disposeData(g.dataId),x}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(t){var n=t.inputs,e=t.backend,r=t.attrs;wd("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=n,o=a.boxes,u=a.scores,l=r,c=l.maxOutputSize,d=l.iouThreshold,h=l.scoreThreshold,v=l.softNmsSigma,m=e,g=ky(m.readSync(o.dataId),m.readSync(u.dataId),c,d,h,v);return[g.selectedIndices,g.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(t){var n=t.inputs,e=t.backend,r=n.x,a=e,o=new Xe(r.shape,"return x * x;");return a.runWebGLProgram(o,[r],r.dtype)}},{kernelName:Hl,backendName:"webgl",kernelFunc:function(t){var n=t.inputs,e=t.backend,r=n,a=r.a,o=r.b,u=e,l=de().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new no("return (a - b) * (a - b);",a.shape,o.shape):new $t("return (a - b) * (a - b);",a.shape,o.shape);return u.compileAndRun(l,[a,o])}}];Um<qS.length;Um++)zE(qS[Um]);for(var Wm=0,$S=[{kernelName:"Square",gradFunc:function(t,n){var e=n[0];return{x:function(){return t.mul(e.toFloat().mul(2))}}}},{kernelName:Hl,gradFunc:function(t,n){var e=n[0],r=n[1],a=Ee(2);return{a:function(){return Gn(t,Gn(a,yn(e,r)))},b:function(){return Gn(t,Gn(a,yn(r,e)))}}}}];Wm<$S.length;Wm++)JB($S[Wm]);var rU=(function(){function t(){}return t.prototype.fetch=function(n,e){return fetch(n,e)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(n,e){if(e!=="utf-8"&&e!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+e);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(n)},t.prototype.decode=function(n,e){return new TextDecoder(e).decode(n)},t})();de().get("IS_BROWSER")&&de().setPlatform("browser",new rU);var Hm,aU=function(){return require("node-fetch")},oU=(function(){function t(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(n,e){return de().global.fetch!=null?de().global.fetch(n,e):(Hm==null&&(Hm=aU()),Hm(n,e))},t.prototype.now=function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6},t.prototype.encode=function(n,e){if(e!=="utf-8"&&e!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+e);return this.textEncoder.encode(n)},t.prototype.decode=function(n,e){return n.length===0?"":new this.util.TextDecoder(e).decode(n)},t})();de().get("IS_NODE")&&de().setPlatform("node",new oU);var Ag={float32:4,int32:4,uint16:2,uint8:1,bool:1},Id=4;function u_(t,n){for(var e={},r=0,a=function(l){var c=l.name,d=l.dtype,h=l.shape,v=Ne(h),m=void 0;if("quantization"in l){var g=l.quantization;if(g.dtype!=="uint8"&&g.dtype!=="uint16")throw new Error("Weight "+l.name+" has unknown quantization dtype "+g.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var b=Ag[g.dtype],x=t.slice(r,r+v*b),S=g.dtype==="uint8"?new Uint8Array(x):new Uint16Array(x);if(d==="float32")m=Float32Array.from(S,(function(D){return D*g.scale+g.min}));else{if(d!=="int32")throw new Error("Unsupported dtype in weight '"+c+"': "+d);m=Int32Array.from(S,(function(D){return Math.round(D*g.scale+g.min)}))}r+=v*b}else if(d==="string"){var C=Ne(l.shape);m=[];for(var _=0;_<C;_++){var R=new Uint32Array(t.slice(r,r+Id))[0];r+=Id;var E=new Uint8Array(t.slice(r,r+R));m.push(E),r+=R}}else{var T=Ag[d];if(x=t.slice(r,r+v*T),d==="float32")m=new Float32Array(x);else if(d==="int32")m=new Int32Array(x);else{if(d!=="bool")throw new Error("Unsupported dtype in weight '"+c+"': "+d);m=new Uint8Array(x)}r+=v*T}e[c]=In(m,h,d)},o=0,u=n;o<u.length;o++)a(u[o]);return e}function iU(t){if(t===null)throw new Error("Invalid input value: "+JSON.stringify(t));var n=0,e=[];t.forEach((function(o){if(n+=o.byteLength,e.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+o.constructor.name)}));var r=new Uint8Array(n),a=0;return e.forEach((function(o){r.set(new Uint8Array(o.buffer),a),a+=o.byteLength})),r.buffer}var kg=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function KS(t){return kg?Buffer.byteLength(t):new Blob([t]).size}function Ky(t){var n=0;t.forEach((function(a){n+=a.byteLength}));var e=new Uint8Array(n),r=0;return t.forEach((function(a){e.set(new Uint8Array(a),r),r+=a.byteLength})),e.buffer}function XS(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var n=t.split("/");return n[n.length-1]}function cc(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:KS(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:KS(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}var Er=(function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerSaveRouter=function(n){t.getInstance().saveRouters.push(n)},t.registerLoadRouter=function(n){t.getInstance().loadRouters.push(n)},t.getSaveHandlers=function(n){return t.getHandlers(n,"save")},t.getLoadHandlers=function(n,e){return t.getHandlers(n,"load",e)},t.getHandlers=function(n,e,r){var a=[];return(e==="load"?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach((function(o){var u=o(n,r);u!==null&&a.push(u)})),a},t})(),tu="://",Ko=(function(){function t(){this.managers={}}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerManager=function(n,e){W(n!=null,(function(){return"scheme must not be undefined or null."})),n.endsWith(tu)&&(n=n.slice(0,n.indexOf(tu))),W(n.length>0,(function(){return"scheme must not be an empty string."}));var r=t.getInstance();W(r.managers[n]==null,(function(){return"A model store manager is already registered for scheme '"+n+"'."})),r.managers[n]=e},t.getManager=function(n){var e=this.getInstance().managers[n];if(e==null)throw new Error("Cannot find model manager for scheme '"+n+"'");return e},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t})();function ad(t){if(t.indexOf(tu)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Ko.getSchemes().join(","));return{scheme:t.split(tu)[0],path:t.split(tu)[1]}}function YS(t,n,e){return e===void 0&&(e=!1),Ae(this,void 0,void 0,(function(){var r,a,o,u,l,c,d,h,v;return ke(this,(function(m){switch(m.label){case 0:return W(t!==n,(function(){return"Old path and new path are the same: '"+t+"'"})),W((r=Er.getLoadHandlers(t)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+t+"."})),W(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+t+"."})),a=r[0],W((o=Er.getSaveHandlers(n)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+n+"."})),W(o.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+n+"."})),u=o[0],l=ad(t).scheme,c=ad(t).path,d=l===ad(t).scheme,[4,a.load()];case 1:return h=m.sent(),e&&d?[4,Ko.getManager(l).removeModel(c)]:[3,3];case 2:m.sent(),m.label=3;case 3:return[4,u.save(h)];case 4:return v=m.sent(),!e||d?[3,6]:[4,Ko.getManager(l).removeModel(c)];case 5:m.sent(),m.label=6;case 6:return[2,v.modelArtifactsInfo]}}))}))}var Bi="models_store",Vo="model_info_store";function l_(){if(!de().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window||self,n=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(n==null)throw new Error("The current browser does not appear to support IndexedDB.");return n}function Dg(t){var n=t.result;n.createObjectStore(Bi,{keyPath:"modelPath"}),n.createObjectStore(Vo,{keyPath:"modelPath"})}var nu=(function(){function t(n){if(this.indexedDB=l_(),n==null||!n)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=n}return t.prototype.save=function(n){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,n)]}))}))},t.prototype.load=function(){return Ae(this,void 0,void 0,(function(){return ke(this,(function(n){return[2,this.databaseAction(this.modelPath)]}))}))},t.prototype.databaseAction=function(n,e){var r=this;return new Promise((function(a,o){var u=r.indexedDB.open("tensorflowjs",1);u.onupgradeneeded=function(){return Dg(u)},u.onsuccess=function(){var l=u.result;if(e==null){var c=l.transaction(Bi,"readonly"),d=c.objectStore(Bi).get(r.modelPath);d.onsuccess=function(){if(d.result==null)return l.close(),o(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));a(d.result.modelArtifacts)},d.onerror=function(x){return l.close(),o(d.error)},c.oncomplete=function(){return l.close()}}else{var h,v=cc(e),m=l.transaction(Vo,"readwrite"),g=m.objectStore(Vo),b=g.put({modelPath:r.modelPath,modelArtifactsInfo:v});b.onsuccess=function(){var x=(h=l.transaction(Bi,"readwrite")).objectStore(Bi).put({modelPath:r.modelPath,modelArtifacts:e,modelArtifactsInfo:v});x.onsuccess=function(){return a({modelArtifactsInfo:v})},x.onerror=function(S){var C=(g=m.objectStore(Vo)).delete(r.modelPath);C.onsuccess=function(){return l.close(),o(x.error)},C.onerror=function(_){return l.close(),o(x.error)}}},b.onerror=function(x){return l.close(),o(b.error)},m.oncomplete=function(){h==null?l.close():h.oncomplete=function(){return l.close()}}}},u.onerror=function(l){return o(u.error)}}))},t.URL_SCHEME="indexeddb://",t})(),QS=function(t){return de().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(nu.URL_SCHEME)?(n=t.slice(nu.URL_SCHEME.length),new nu(n)):null;var n};Er.registerSaveRouter(QS),Er.registerLoadRouter(QS);var sU=(function(){function t(){this.indexedDB=l_()}return t.prototype.listModels=function(){return Ae(this,void 0,void 0,(function(){var n=this;return ke(this,(function(e){return[2,new Promise((function(r,a){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return Dg(o)},o.onsuccess=function(){var u=o.result,l=u.transaction(Vo,"readonly"),c=l.objectStore(Vo).getAll();c.onsuccess=function(){for(var d={},h=0,v=c.result;h<v.length;h++){var m=v[h];d[m.modelPath]=m.modelArtifactsInfo}r(d)},c.onerror=function(d){return u.close(),a(c.error)},l.oncomplete=function(){return u.close()}},o.onerror=function(u){return a(o.error)}}))]}))}))},t.prototype.removeModel=function(n){return Ae(this,void 0,void 0,(function(){var e=this;return ke(this,(function(r){var a;return n=(a=n).startsWith(nu.URL_SCHEME)?a.slice(nu.URL_SCHEME.length):a,[2,new Promise((function(o,u){var l=e.indexedDB.open("tensorflowjs",1);l.onupgradeneeded=function(){return Dg(l)},l.onsuccess=function(){var c,d=l.result,h=d.transaction(Vo,"readwrite"),v=h.objectStore(Vo),m=v.get(n);m.onsuccess=function(){if(m.result==null)return d.close(),u(new Error("Cannot find model with path '"+n+"' in IndexedDB."));var g=v.delete(n),b=function(){var x=(c=d.transaction(Bi,"readwrite")).objectStore(Bi).delete(n);x.onsuccess=function(){return o(m.result.modelArtifactsInfo)},x.onerror=function(S){return u(m.error)}};g.onsuccess=b,g.onerror=function(x){return b(),d.close(),u(m.error)}},m.onerror=function(g){return d.close(),u(m.error)},h.oncomplete=function(){c==null?d.close():c.oncomplete=function(){return d.close()}}},l.onerror=function(c){return u(l.error)}}))]}))}))},t})();if(de().getBool("IS_BROWSER"))try{Ko.registerManager(nu.URL_SCHEME,new sU)}catch{}var ro="/",Xs="tensorflowjs_models",c_="info",uU="model_topology",lU="weight_specs",cU="weight_data",fU="model_metadata";function f_(t){return{info:[Xs,t,c_].join(ro),topology:[Xs,t,uU].join(ro),weightSpecs:[Xs,t,lU].join(ro),weightData:[Xs,t,cU].join(ro),modelMetadata:[Xs,t,fU].join(ro)}}function dU(t){var n=t.split(ro);if(n.length<3)throw new Error("Invalid key format: "+t);return n.slice(1,n.length-1).join(ro)}var ru=(function(){function t(n){if(!de().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,n==null||!n)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=n,this.keys=f_(this.modelPath)}return t.prototype.save=function(n){return Ae(this,void 0,void 0,(function(){var e,r,a;return ke(this,(function(o){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(n.modelTopology),r=JSON.stringify(n.weightSpecs),a=cc(n);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,(function(u){if(kg)return Buffer.from(u).toString("base64");for(var l=new Uint8Array(u),c="",d=0,h=l.length;d<h;d++)c+=String.fromCharCode(l[d]);return btoa(c)})(n.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,userDefinedMetadata:n.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]}))}))},t.prototype.load=function(){return Ae(this,void 0,void 0,(function(){var n,e,r,a,o,u,l;return ke(this,(function(c){if((n=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(n.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=r,(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=a,(o=this.LS.getItem(this.keys.modelMetadata))!=null&&(u=JSON.parse(o),e.format=u.format,e.generatedBy=u.generatedBy,e.convertedBy=u.convertedBy,e.userDefinedMetadata=u.userDefinedMetadata),(l=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return e.weightData=(function(d){if(kg){var h=Buffer.from(d,"base64");return h.buffer.slice(h.byteOffset,h.byteOffset+h.byteLength)}for(var v=atob(d),m=new Uint8Array(v.length),g=0;g<v.length;++g)m.set([v.charCodeAt(g)],g);return m.buffer})(l),[2,e]}))}))},t.URL_SCHEME="localstorage://",t})(),ZS=function(t){return de().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(ru.URL_SCHEME)?(n=t.slice(ru.URL_SCHEME.length),new ru(n)):null;var n};Er.registerSaveRouter(ZS),Er.registerLoadRouter(ZS);var hU=(function(){function t(){W(de().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),W(typeof window>"u"||window.localStorage!==void 0,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return t.prototype.listModels=function(){return Ae(this,void 0,void 0,(function(){var n,e,r,a,o,u;return ke(this,(function(l){for(n={},e=Xs+ro,r=ro+c_,a=0;a<this.LS.length;++a)(o=this.LS.key(a)).startsWith(e)&&o.endsWith(r)&&(u=dU(o),n[u]=JSON.parse(this.LS.getItem(o)));return[2,n]}))}))},t.prototype.removeModel=function(n){return Ae(this,void 0,void 0,(function(){var e,r;return ke(this,(function(a){var o;if(n=(o=n).startsWith(ru.URL_SCHEME)?o.slice(ru.URL_SCHEME.length):o,e=f_(n),this.LS.getItem(e.info)==null)throw new Error("Cannot find model at path '"+n+"'");return r=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,r]}))}))},t})();if(de().getBool("IS_BROWSER"))try{Ko.registerManager(ru.URL_SCHEME,new hU)}catch{}var pU="model",vU=".json",mU=".weights.bin";function JS(t){return new Promise((function(n){return setTimeout(n)})).then(t)}var jm=(function(){function t(n){if(!de().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");n.startsWith(t.URL_SCHEME)&&(n=n.slice(t.URL_SCHEME.length)),n!=null&&n.length!==0||(n=pU),this.modelTopologyFileName=n+vU,this.weightDataFileName=n+mU}return t.prototype.save=function(n){return Ae(this,void 0,void 0,(function(){var e,r,a,o,u,l;return ke(this,(function(c){switch(c.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(e=window.URL.createObjectURL(new Blob([n.weightData],{type:"application/octet-stream"})),!(n.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:n.weightSpecs}],a={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:r},o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(u=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,u.href=o,[4,JS((function(){return u.dispatchEvent(new MouseEvent("click"))}))];case 2:return c.sent(),n.weightData==null?[3,4]:((l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,l.href=e,[4,JS((function(){return l.dispatchEvent(new MouseEvent("click"))}))]);case 3:c.sent(),c.label=4;case 4:return[2,{modelArtifactsInfo:cc(n)}]}}))}))},t.URL_SCHEME="downloads://",t})(),gU=(function(){function t(n){if(n==null||n.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+n);this.files=n}return t.prototype.load=function(){return Ae(this,void 0,void 0,(function(){var n,e,r=this;return ke(this,(function(a){return n=this.files[0],e=this.files.slice(1),[2,new Promise((function(o,u){var l=new FileReader;l.onload=function(c){var d=JSON.parse(c.target.result),h=d.modelTopology;if(h!=null){e.length===0&&o({modelTopology:h});var v=d.weightsManifest;if(v!=null){var m;try{m=r.checkManifestAndWeightFiles(v,e)}catch(S){return void u(S)}var g=[],b=[],x=[];v.forEach((function(S){S.paths.forEach((function(C){b.push(C),x.push(null)})),g.push.apply(g,S.weights)})),v.forEach((function(S){S.paths.forEach((function(C){var _=new FileReader;_.onload=function(R){var E=R.target.result,T=b.indexOf(C);x[T]=E,x.indexOf(null)===-1&&o({modelTopology:h,weightSpecs:g,weightData:Ky(x),format:d.format,generatedBy:d.generatedBy,convertedBy:d.convertedBy,userDefinedMetadata:d.userDefinedMetadata})},_.onerror=function(R){return u("Failed to weights data from file of path '"+C+"'.")},_.readAsArrayBuffer(m[C])}))}))}else u(new Error("weightManifest field is missing from file "+n.name))}else u(new Error("modelTopology field is missing from file "+n.name))},l.onerror=function(c){return u("Failed to read model topology and weights manifest JSON from file '"+n.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},l.readAsText(n)}))]}))}))},t.prototype.checkManifestAndWeightFiles=function(n,e){for(var r=[],a=e.map((function(c){return XS(c.name)})),o={},u=0,l=n;u<l.length;u++)l[u].paths.forEach((function(c){var d=XS(c);if(r.indexOf(d)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+d+"'");if(r.push(d),a.indexOf(d)===-1)throw new Error("Weight file with basename '"+d+"' is not provided.");o[c]=e[a.indexOf(d)]}));if(r.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+e.length+").");return o},t})();function eC(t,n,e,r){(function(o){W(o!=null&&Array.isArray(o)&&o.length>0,(function(){return"promises must be a none empty array"}))})(t),(function(o,u){W(o>=0&&o<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+o})),W(u>=0&&u<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+u})),W(u>=o,(function(){return"startFraction must be no more than endFraction, but got startFraction "+o+" and endFraction "+u}))})(e=e??0,r=r??1);var a=0;return Promise.all(t.map((function(o){return o.then((function(u){var l=e+ ++a/t.length*(r-e);return n(l),u})),o})))}function d_(t,n){return Ae(this,void 0,void 0,(function(){var e,r,a,o,u,l,c,d,h;return ke(this,(function(v){switch(v.label){case 0:return n==null&&(n={}),e=n.fetchFunc==null?de().platform.fetch:n.fetchFunc,r=t.map((function(m){return e(m,n.requestInit,{isBinary:!0})})),a=0,o=.5,n.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return u=v.sent(),[3,4];case 2:return[4,eC(r,n.onProgress,a,o)];case 3:u=v.sent(),v.label=4;case 4:return l=u.map((function(m){return m.arrayBuffer()})),c=.5,d=1,n.onProgress!=null?[3,6]:[4,Promise.all(l)];case 5:return h=v.sent(),[3,8];case 6:return[4,eC(l,n.onProgress,c,d)];case 7:h=v.sent(),v.label=8;case 8:return[2,h]}}))}))}function tC(t){var n=this;return function(e,r,a){return r===void 0&&(r=""),Ae(n,void 0,void 0,(function(){var o,u,l,c,d,h,v,m,g,b;return ke(this,(function(x){switch(x.label){case 0:if(o=e.map((function(){return!1})),u={},l=a!=null?a.map((function(){return!1})):[],c=[],e.forEach((function(S,C){var _=0;S.weights.forEach((function(R){var E="quantization"in R?R.quantization.dtype:R.dtype,T=Ag[E]*Ne(R.shape),D=function(){o[C]=!0,u[C]==null&&(u[C]=[]),u[C].push({manifestEntry:R,groupOffset:_,sizeBytes:T})};a!=null?a.forEach((function(N,O){N===R.name&&(D(),l[O]=!0)})):D(),c.push(R.name),_+=T}))})),!l.every((function(S){return S})))throw d=a.filter((function(S,C){return!l[C]})),new Error("Could not find weights in manifest with names: "+d.join(", ")+`. 
Manifest JSON has weights with names: `+c.join(", ")+".");return h=o.reduce((function(S,C,_){return C&&S.push(_),S}),[]),v=[],h.forEach((function(S){e[S].paths.forEach((function(C){var _=r+(r.endsWith("/")?"":"/")+C;v.push(_)}))})),[4,t(v)];case 1:return m=x.sent(),g={},b=0,h.forEach((function(S){for(var C=e[S].paths.length,_=0,R=0;R<C;R++)_+=m[b+R].byteLength;for(var E=new ArrayBuffer(_),T=new Uint8Array(E),D=0,N=0;N<C;N++){var O=new Uint8Array(m[b+N]);T.set(O,D),D+=O.byteLength}u[S].forEach((function(I){var B=u_(E.slice(I.groupOffset,I.groupOffset+I.sizeBytes),[I.manifestEntry]);for(var H in B)g[H]=B[H]})),b+=C})),[2,g]}}))}))}}Er.registerSaveRouter((function(t){return de().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(jm.URL_SCHEME)?(function(n){return n===void 0&&(n="model"),new jm(n)})(t.slice(jm.URL_SCHEME.length)):null}));var h_=(function(){function t(n,e){if(this.DEFAULT_METHOD="POST",e==null&&(e={}),this.weightPathPrefix=e.weightPathPrefix,this.onProgress=e.onProgress,e.fetchFunc!=null?(W(typeof e.fetchFunc=="function",(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=e.fetchFunc):this.fetch=de().platform.fetch,W(n!=null&&n.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(n)&&W(n.length===2,(function(){return"URL paths for http must have a length of 2, (actual length is "+n.length+")."})),this.path=n,e.requestInit!=null&&e.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e.requestInit||{}}return t.prototype.save=function(n){return Ae(this,void 0,void 0,(function(){var e,r,a,o;return ke(this,(function(u){switch(u.label){case 0:if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:n.weightSpecs}],a={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,userDefinedMetadata:n.userDefinedMetadata,weightsManifest:r},e.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),n.weightData!=null&&e.body.append("model.weights.bin",new Blob([n.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,e)];case 1:if((o=u.sent()).ok)return[2,{modelArtifactsInfo:cc(n),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}}))}))},t.prototype.load=function(){return Ae(this,void 0,void 0,(function(){var n,e,r,a,o,u,l,c,d,h,v,m;return ke(this,(function(g){switch(g.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(n=g.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+n.status+". Please verify this URL points to the model JSON of the model to load.");g.label=2;case 2:return g.trys.push([2,4,,5]),[4,n.json()];case 3:return e=g.sent(),[3,5];case 4:throw g.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(a=e.modelTopology,o=e.weightsManifest,u=e.generatedBy,l=e.convertedBy,c=e.format,d=e.userDefinedMetadata,a==null&&o==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return o==null?[3,7]:[4,this.loadWeights(o)];case 6:m=g.sent(),h=m[0],v=m[1],g.label=7;case 7:return[2,{modelTopology:a,weightSpecs:h,weightData:v,userDefinedMetadata:d,generatedBy:u,convertedBy:l,format:c}]}}))}))},t.prototype.loadWeights=function(n){return Ae(this,void 0,void 0,(function(){var e,r,a,o,u,l,c,d,h,v,m;return ke(this,(function(g){switch(g.label){case 0:for(e=Array.isArray(this.path)?this.path[1]:this.path,r=(function(b){var x=b.lastIndexOf("/"),S=b.lastIndexOf("?"),C=b.substring(0,x),_=S>x?b.substring(S):"";return[C+"/",_]})(e),a=r[0],o=r[1],u=this.weightPathPrefix||a,l=[],c=0,d=n;c<d.length;c++)h=d[c],l.push.apply(l,h.weights);return v=[],n.forEach((function(b){b.paths.forEach((function(x){v.push(u+x+o)}))})),[4,d_(v,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return m=g.sent(),[2,[l,Ky(m)]]}}))}))},t.URL_SCHEME_REGEX=/^https?:\/\//,t})();function Ng(t){return t.match(h_.URL_SCHEME_REGEX)!=null}var nC=function(t,n){return typeof fetch>"u"?null:(Array.isArray(t)?t.every((function(e){return Ng(e)})):Ng(t))?Mg(t,{onProgress:n}):null};function Mg(t,n){return new h_(t,n)}Er.registerSaveRouter(nC),Er.registerLoadRouter(nC);var Vm=(function(){function t(n){this.modelArtifacts=n}return t.prototype.load=function(){return Ae(this,void 0,void 0,(function(){return ke(this,(function(n){return[2,this.modelArtifacts]}))}))},t})(),yU=(function(){function t(n){this.saveHandler=n}return t.prototype.save=function(n){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){return[2,this.saveHandler(n)]}))}))},t})(),p_=Object.freeze({browserFiles:function(t){return new gU(t)},browserHTTPRequest:function(t,n){return Mg(t,n)},concatenateArrayBuffers:Ky,decodeWeights:u_,encodeWeights:function(t,n){return Ae(this,void 0,void 0,(function(){var e,r,a,o,u,l=this;return ke(this,(function(c){switch(c.label){case 0:for(e=[],r=[],a=Array.isArray(t)?t.map((function(d){return d.name})):Object.keys(t),o=function(d){var h=a[d],v=Array.isArray(t)?t[d].tensor:t[h];if(v.dtype!=="float32"&&v.dtype!=="int32"&&v.dtype!=="bool"&&v.dtype!=="string")throw new Error("Unsupported dtype in weight '"+h+"': "+v.dtype);var m={name:h,shape:v.shape,dtype:v.dtype};if(v.dtype==="string"){var g=new Promise((function(b){return Ae(l,void 0,void 0,(function(){var x,S,C,_,R,E,T;return ke(this,(function(D){switch(D.label){case 0:return[4,v.bytes()];case 1:for(x=D.sent(),S=x.reduce((function(N,O){return N+O.length}),0)+Id*x.length,C=new Uint8Array(S),_=0,R=0;R<x.length;R++)E=x[R],T=new Uint8Array(new Uint32Array([E.length]).buffer),C.set(T,_),_+=Id,C.set(E,_),_+=E.length;return b(C),[2]}}))}))}));r.push(g)}else r.push(v.data());n!=null&&(m.group=n),e.push(m)},u=0;u<a.length;++u)o(u);return[4,Promise.all(r)];case 1:return[2,{data:iU(c.sent()),specs:e}]}}))}))},fromMemory:function(t,n,e,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new Vm(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Vm({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Vm({modelTopology:t,weightSpecs:n,weightData:e,trainingConfig:r}))},getLoadHandlers:function(t,n){return Er.getLoadHandlers(t,n)},getModelArtifactsInfoForJSON:cc,getSaveHandlers:function(t){return Er.getSaveHandlers(t)},http:Mg,isHTTPScheme:Ng,loadWeights:function(t,n,e,r){return n===void 0&&(n=""),Ae(this,void 0,void 0,(function(){return ke(this,(function(a){return[2,tC((function(o){return d_(o,{requestInit:r})}))(t,n,e)]}))}))},registerLoadRouter:function(t){return Er.registerLoadRouter(t)},registerSaveRouter:function(t){return Er.registerSaveRouter(t)},weightsLoaderFactory:tC,withSaveHandler:function(t){return new yU(t)},copyModel:function(t,n){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){return[2,YS(t,n,!1)]}))}))},listModels:function(){return Ae(this,void 0,void 0,(function(){var t,n,e,r,a,o,u;return ke(this,(function(l){switch(l.label){case 0:t=Ko.getSchemes(),n={},e=0,r=t,l.label=1;case 1:return e<r.length?(a=r[e],[4,Ko.getManager(a).listModels()]):[3,4];case 2:for(u in o=l.sent())n[a+tu+u]=o[u];l.label=3;case 3:return e++,[3,1];case 4:return[2,n]}}))}))},moveModel:function(t,n){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){return[2,YS(t,n,!0)]}))}))},removeModel:function(t){return Ae(this,void 0,void 0,(function(){var n;return ke(this,(function(e){return n=ad(t),[2,Ko.getManager(n.scheme).removeModel(n.path)]}))}))}}),Hs;Y({confusionMatrix_:function(t,n,e){var r=z(t,"labels","confusionMatrix"),a=z(n,"predictions","confusionMatrix");W(e==null||e>0&&Number.isInteger(e),(function(){return"If provided, numClasses must be a positive integer, but got "+e})),W(r.rank===1,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),W(a.rank===1,(function(){return"Expected the rank of predictions to be 1, but got "+a.rank})),W(r.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."})),W(e>0&&Number.isInteger(e),(function(){return"numClasses is required to be a positive integer, but got "+e}));var o=Cg(r.asType("int32"),e),u=Cg(a.asType("int32"),e);return o.transpose().matMul(u).asType("int32")}});var bU=Y({fromPixels_:function(t,n){if(n===void 0&&(n=3),n>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var e=!1,r=!1,a=!1,o=!1,u=!1;if(t.data instanceof Uint8Array)e=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)o=!0;else{if(t.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+t.constructor.name);u=!0}if(a&&a&&t.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(PE("FromPixels",ee.backendName)!=null)return ee.runKernel("FromPixels",{pixels:t},{numChannels:n});var l,c,d=a?[t.videoWidth,t.videoHeight]:[t.width,t.height],h=d[0],v=d[1];if(u?l=t.getContext("2d").getImageData(0,0,h,v).data:r||e?l=t.data:(o||a)&&(Hs==null&&(Hs=document.createElement("canvas").getContext("2d")),Hs.canvas.width=h,Hs.canvas.height=v,Hs.drawImage(t,0,0,h,v),l=Hs.getImageData(0,0,h,v).data),n===4)c=new Int32Array(l);else{var m=h*v;c=new Int32Array(m*n);for(var g=0;g<m;g++)for(var b=0;b<n;++b)c[g*n+b]=l[4*g+b]}return Cy(c,[v,h,n],"int32")}}),Xy=Object.freeze({toPixels:function(t,n){return Ae(this,void 0,void 0,(function(){var e,r,a,o,u,l,c,d,h,v,m,g,b,x,S,C,_,R,E,T,D,N,O;return ke(this,(function(I){switch(I.label){case 0:if(e=z(t,"img","toPixels"),t instanceof Ut||(e=e.toInt()),e.rank!==2&&e.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+e.rank+".");if(r=e.shape.slice(0,2),a=r[0],o=r[1],(u=e.rank===2?1:e.shape[2])>4||u===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+u);return[4,e.data()];case 1:return l=I.sent(),c=e.min(),d=e.max(),[4,Promise.all([c.data(),d.data()])];case 2:if(h=I.sent(),v=h[0],m=h[1],g=v[0],b=m[0],c.dispose(),d.dispose(),e.dtype==="float32"){if(g<0||b>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+g+" - "+b+"].")}else{if(e.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+e.dtype+". Please use float32 or int32 tensors.");if(g<0||b>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+g+" - "+b+"].")}for(x=e.dtype==="float32"?255:1,S=new Uint8ClampedArray(o*a*4),C=0;C<a*o;++C)_=void 0,R=void 0,E=void 0,T=void 0,u===1?(_=l[C]*x,R=l[C]*x,E=l[C]*x,T=255):u===3?(_=l[3*C]*x,R=l[3*C+1]*x,E=l[3*C+2]*x,T=255):u===4&&(_=l[4*C]*x,R=l[4*C+1]*x,E=l[4*C+2]*x,T=l[4*C+3]*x),S[(D=4*C)+0]=Math.round(_),S[D+1]=Math.round(R),S[D+2]=Math.round(E),S[D+3]=Math.round(T);return n!=null&&(n.width=o,n.height=a,N=n.getContext("2d"),O=new ImageData(S,o,a),N.putImageData(O,0,0)),e!==t&&e.dispose(),[2,S]}}))}))},fromPixels:bU}),xU=(function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(n,e){return new n(e)},t})(),wU=(function(){function t(){this.classNameMap={}}return t.getMap=function(){return t.instance==null&&(t.instance=new t),t.instance},t.register=function(n){t.getMap().classNameMap[n.className]=[n,n.fromConfig]},t})();function Ki(t){W(t.className!=null,(function(){return"Class being registered does not have the static className property defined."})),W(typeof t.className=="string",(function(){return"className is required to be a string, but got type "+typeof t.className})),W(t.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),wU.register(t)}var Xi=(function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return ia(n,t),n.prototype.minimize=function(e,r,a){r===void 0&&(r=!1);var o=this.computeGradients(e,a),u=o.value,l=o.grads;if(a!=null){var c=a.map((function(d){return{name:d.name,tensor:l[d.name]}}));this.applyGradients(c)}else this.applyGradients(l);return sr(l),r?u:(u.dispose(),null)},Object.defineProperty(n.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),n.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},n.prototype.computeGradients=function(e,r){return NL(e,r)},n.prototype.dispose=function(){this.iterations_!=null&&sr(this.iterations_)},n.prototype.saveIterations=function(){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:Ee(this.iterations_,"int32")}]}))}))},n.prototype.getWeights=function(){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},n.prototype.setWeights=function(e){return Ae(this,void 0,void 0,(function(){return ke(this,(function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},n.prototype.extractIterations=function(e){return Ae(this,void 0,void 0,(function(){var r;return ke(this,(function(a){switch(a.label){case 0:return r=this,[4,e[0].tensor.data()];case 1:return r.iterations_=a.sent()[0],[2,e.slice(1)]}}))}))},n})(xU);Object.defineProperty(Xi,Symbol.hasInstance,{value:function(t){return t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null}});var SU=(function(t){function n(e,r,a){a===void 0&&(a=null);var o=t.call(this)||this;return o.learningRate=e,o.rho=r,o.epsilon=a,o.accumulatedGrads=[],o.accumulatedUpdates=[],a==null&&(o.epsilon=ee.backend.epsilon()),o}return ia(n,t),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map((function(a){return a.name})):Object.keys(e)).forEach((function(a,o){var u=ee.registeredVariables[a];r.accumulatedGrads[o]==null&&(r.accumulatedGrads[o]={originalName:a+"/accum_grad",variable:_e((function(){return it(u).variable(!1)}))}),r.accumulatedUpdates[o]==null&&(r.accumulatedUpdates[o]={originalName:a+"/accum_var",variable:_e((function(){return it(u).variable(!1)}))});var l=Array.isArray(e)?e[o].tensor:e[a];if(l!=null){var c=r.accumulatedGrads[o].variable,d=r.accumulatedUpdates[o].variable;_e((function(){var h=c.mul(r.rho).add(l.square().mul(1-r.rho)),v=d.add(r.epsilon).sqrt().div(c.add(r.epsilon).sqrt()).mul(l),m=d.mul(r.rho).add(v.square().mul(1-r.rho));c.assign(h),d.assign(m);var g=v.mul(-r.learningRate).add(u);u.assign(g)}))}})),this.incrementIterations()},n.prototype.dispose=function(){this.accumulatedUpdates!=null&&(sr(this.accumulatedGrads.map((function(e){return e.variable}))),sr(this.accumulatedUpdates.map((function(e){return e.variable}))))},n.prototype.getWeights=function(){return Ae(this,void 0,void 0,(function(){var e;return ke(this,(function(r){switch(r.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(e.map((function(a){return{name:a.originalName,tensor:a.variable}})))]}}))}))},n.prototype.setWeights=function(e){return Ae(this,void 0,void 0,(function(){var r;return ke(this,(function(a){switch(a.label){case 0:return[4,this.extractIterations(e)];case 1:return e=a.sent(),r=e.length/2,this.accumulatedGrads=e.slice(0,r).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(r,2*r).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},n.fromConfig=function(e,r){return new e(r.learningRate,r.rho,r.epsilon)},n.className="Adadelta",n})(Xi);Ki(SU);var CU=(function(t){function n(e,r){r===void 0&&(r=.1);var a=t.call(this)||this;return a.learningRate=e,a.initialAccumulatorValue=r,a.accumulatedGrads=[],a}return ia(n,t),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map((function(a){return a.name})):Object.keys(e)).forEach((function(a,o){var u=ee.registeredVariables[a];r.accumulatedGrads[o]==null&&(r.accumulatedGrads[o]={originalName:a+"/accumulator",variable:_e((function(){return Ta(u.shape,r.initialAccumulatorValue).variable(!1)}))});var l=Array.isArray(e)?e[o].tensor:e[a];if(l!=null){var c=r.accumulatedGrads[o].variable;_e((function(){var d=c.add(l.square());c.assign(d);var h=l.div(d.add(ee.backend.epsilon()).sqrt()).mul(-r.learningRate).add(u);u.assign(h)}))}})),this.incrementIterations()},n.prototype.dispose=function(){this.accumulatedGrads!=null&&sr(this.accumulatedGrads.map((function(e){return e.variable})))},n.prototype.getWeights=function(){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(r){return{name:r.originalName,tensor:r.variable}})))]}}))}))},n.prototype.setWeights=function(e){return Ae(this,void 0,void 0,(function(){return ke(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),this.accumulatedGrads=e.map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},n.fromConfig=function(e,r){return new e(r.learningRate,r.initialAccumulatorValue)},n.className="Adagrad",n})(Xi);Ki(CU);var EU=(function(t){function n(e,r,a,o){o===void 0&&(o=null);var u=t.call(this)||this;return u.learningRate=e,u.beta1=r,u.beta2=a,u.epsilon=o,u.accumulatedFirstMoment=[],u.accumulatedSecondMoment=[],_e((function(){u.accBeta1=Ee(r).variable(),u.accBeta2=Ee(a).variable()})),o==null&&(u.epsilon=ee.backend.epsilon()),u}return ia(n,t),n.prototype.applyGradients=function(e){var r=this,a=Array.isArray(e)?e.map((function(o){return o.name})):Object.keys(e);_e((function(){var o=yn(1,r.accBeta1),u=yn(1,r.accBeta2);a.forEach((function(l,c){var d=ee.registeredVariables[l];r.accumulatedFirstMoment[c]==null&&(r.accumulatedFirstMoment[c]={originalName:l+"/m",variable:_e((function(){return it(d).variable(!1)}))}),r.accumulatedSecondMoment[c]==null&&(r.accumulatedSecondMoment[c]={originalName:l+"/v",variable:_e((function(){return it(d).variable(!1)}))});var h=Array.isArray(e)?e[c].tensor:e[l];if(h!=null){var v=r.accumulatedFirstMoment[c].variable,m=r.accumulatedSecondMoment[c].variable,g=v.mul(r.beta1).add(h.mul(1-r.beta1)),b=m.mul(r.beta2).add(h.square().mul(1-r.beta2)),x=g.div(o),S=b.div(u);v.assign(g),m.assign(b);var C=x.div(S.sqrt().add(r.epsilon)).mul(-r.learningRate).add(d);d.assign(C)}})),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))})),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&sr(this.accumulatedFirstMoment.map((function(e){return e.variable}))),this.accumulatedSecondMoment!=null&&sr(this.accumulatedSecondMoment.map((function(e){return e.variable})))},n.prototype.getWeights=function(){return Ae(this,void 0,void 0,(function(){var e;return ke(this,(function(r){switch(r.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(e.map((function(a){return{name:a.originalName,tensor:a.variable}})))]}}))}))},n.prototype.setWeights=function(e){return Ae(this,void 0,void 0,(function(){var r,a=this;return ke(this,(function(o){switch(o.label){case 0:return[4,this.extractIterations(e)];case 1:return e=o.sent(),_e((function(){a.accBeta1.assign(Md(a.beta1,a.iterations_+1)),a.accBeta2.assign(Md(a.beta2,a.iterations_+1))})),r=e.length/2,this.accumulatedFirstMoment=e.slice(0,r).map((function(u){return{originalName:u.name,variable:u.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(r,2*r).map((function(u){return{originalName:u.name,variable:u.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},n.fromConfig=function(e,r){return new e(r.learningRate,r.beta1,r.beta2,r.epsilon)},n.className="Adam",n})(Xi);Ki(EU);var RU=(function(t){function n(e,r,a,o,u){o===void 0&&(o=null),u===void 0&&(u=0);var l=t.call(this)||this;return l.learningRate=e,l.beta1=r,l.beta2=a,l.epsilon=o,l.decay=u,l.accumulatedFirstMoment=[],l.accumulatedWeightedInfNorm=[],_e((function(){l.iteration=Ee(0).variable(),l.accBeta1=Ee(r).variable()})),o==null&&(l.epsilon=ee.backend.epsilon()),l}return ia(n,t),n.prototype.applyGradients=function(e){var r=this,a=Array.isArray(e)?e.map((function(o){return o.name})):Object.keys(e);_e((function(){var o=yn(1,r.accBeta1),u=ta(-r.learningRate,r.iteration.mul(r.decay).add(1));a.forEach((function(l,c){var d=ee.registeredVariables[l];r.accumulatedFirstMoment[c]==null&&(r.accumulatedFirstMoment[c]={originalName:l+"/m",variable:it(d).variable(!1)}),r.accumulatedWeightedInfNorm[c]==null&&(r.accumulatedWeightedInfNorm[c]={originalName:l+"/v",variable:it(d).variable(!1)});var h=Array.isArray(e)?e[c].tensor:e[l];if(h!=null){var v=r.accumulatedFirstMoment[c].variable,m=r.accumulatedWeightedInfNorm[c].variable,g=v.mul(r.beta1).add(h.mul(1-r.beta1)),b=m.mul(r.beta2),x=h.abs(),S=b.maximum(x);v.assign(g),m.assign(S);var C=u.div(o).mul(g.div(S.add(r.epsilon))).add(d);d.assign(C)}})),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))})),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&sr(this.accumulatedFirstMoment.map((function(e){return e.variable}))),this.accumulatedWeightedInfNorm!=null&&sr(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},n.prototype.getWeights=function(){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},n.prototype.setWeights=function(e){return Ae(this,void 0,void 0,(function(){return ke(this,(function(r){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},n.fromConfig=function(e,r){return new e(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},n.className="Adamax",n})(Xi);Ki(RU);var v_=(function(t){function n(e){var r=t.call(this)||this;return r.learningRate=e,r.setLearningRate(e),r}return ia(n,t),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map((function(a){return a.name})):Object.keys(e)).forEach((function(a,o){var u=Array.isArray(e)?e[o].tensor:e[a];if(u!=null){var l=ee.registeredVariables[a];_e((function(){var c=r.c.mul(u).add(l);l.assign(c)}))}})),this.incrementIterations()},n.prototype.setLearningRate=function(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=GF(Ee(-e))},n.prototype.dispose=function(){this.c.dispose()},n.prototype.getWeights=function(){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},n.prototype.setWeights=function(e){return Ae(this,void 0,void 0,(function(){return ke(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:if((e=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate}},n.fromConfig=function(e,r){return new e(r.learningRate)},n.className="SGD",n})(Xi);Ki(v_);var _U=(function(t){function n(e,r,a){a===void 0&&(a=!1);var o=t.call(this,e)||this;return o.learningRate=e,o.momentum=r,o.useNesterov=a,o.accumulations=[],o.m=Ee(o.momentum),o}return ia(n,t),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map((function(a){return a.name})):Object.keys(e)).forEach((function(a,o){var u=ee.registeredVariables[a];r.accumulations[o]==null&&(r.accumulations[o]={originalName:a+"/momentum",variable:_e((function(){return it(u).variable(!1)}))});var l=r.accumulations[o].variable,c=Array.isArray(e)?e[o].tensor:e[a];c!=null&&_e((function(){var d,h=r.m.mul(l).add(c);d=r.useNesterov?r.c.mul(c.add(h.mul(r.m))).add(u):r.c.mul(h).add(u),l.assign(h),u.assign(d)}))})),this.incrementIterations()},n.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&sr(this.accumulations.map((function(e){return e.variable})))},n.prototype.setMomentum=function(e){this.momentum=e},n.prototype.getWeights=function(){return Ae(this,void 0,void 0,(function(){return ke(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(r){return{name:r.originalName,tensor:r.variable}})))]}}))}))},n.prototype.setWeights=function(e){return Ae(this,void 0,void 0,(function(){return ke(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),this.accumulations=e.map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},n.fromConfig=function(e,r){return new e(r.learningRate,r.momentum,r.useNesterov)},n.className="Momentum",n})(v_);Ki(_U);var TU=(function(t){function n(e,r,a,o,u){r===void 0&&(r=.9),a===void 0&&(a=0),o===void 0&&(o=null),u===void 0&&(u=!1);var l=t.call(this)||this;if(l.learningRate=e,l.decay=r,l.momentum=a,l.epsilon=o,l.accumulatedMeanSquares=[],l.accumulatedMoments=[],l.accumulatedMeanGrads=[],l.centered=u,o==null&&(l.epsilon=ee.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return l}return ia(n,t),n.prototype.applyGradients=function(e){var r=this;(Array.isArray(e)?e.map((function(a){return a.name})):Object.keys(e)).forEach((function(a,o){var u=ee.registeredVariables[a];r.accumulatedMeanSquares[o]==null&&(r.accumulatedMeanSquares[o]={originalName:a+"/rms",variable:_e((function(){return it(u).variable(!1)}))}),r.accumulatedMoments[o]==null&&(r.accumulatedMoments[o]={originalName:a+"/momentum",variable:_e((function(){return it(u).variable(!1)}))}),r.accumulatedMeanGrads[o]==null&&r.centered&&(r.accumulatedMeanGrads[o]={originalName:a+"/mg",variable:_e((function(){return it(u).variable(!1)}))});var l=Array.isArray(e)?e[o].tensor:e[a];if(l!=null){var c=r.accumulatedMeanSquares[o].variable,d=r.accumulatedMoments[o].variable;_e((function(){var h=c.mul(r.decay).add(l.square().mul(1-r.decay));if(r.centered){var v=r.accumulatedMeanGrads[o].variable,m=v.mul(r.decay).add(l.mul(1-r.decay)),g=d.mul(r.momentum).add(l.mul(r.learningRate).div(h.sub(m.square().add(r.epsilon)).sqrt()));c.assign(h),v.assign(m),d.assign(g);var b=u.sub(g);u.assign(b)}else{var x=c.mul(r.decay).add(l.square().mul(1-r.decay));g=d.mul(r.momentum).add(l.mul(r.learningRate).div(x.add(r.epsilon).sqrt())),c.assign(x),d.assign(g),b=u.sub(g),u.assign(b)}}))}})),this.incrementIterations()},n.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&sr(this.accumulatedMeanSquares.map((function(e){return e.variable}))),this.accumulatedMeanGrads!=null&&this.centered&&sr(this.accumulatedMeanGrads.map((function(e){return e.variable}))),this.accumulatedMoments!=null&&sr(this.accumulatedMoments.map((function(e){return e.variable})))},n.prototype.getWeights=function(){return Ae(this,void 0,void 0,(function(){var e;return ke(this,(function(r){switch(r.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(e.map((function(a){return{name:a.originalName,tensor:a.variable}})))]}}))}))},n.prototype.setWeights=function(e){return Ae(this,void 0,void 0,(function(){var r;return ke(this,(function(a){switch(a.label){case 0:return[4,this.extractIterations(e)];case 1:return e=a.sent(),r=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,r).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(r,2*r).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*r,3*r).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}))),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},n.fromConfig=function(e,r){return new e(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},n.className="RMSProp",n})(Xi);Ki(TU);Ut.prototype.squaredDifference=function(t){return DR(this,t)},le=J6;function Ri(t,n,e){if(e===void 0&&(e=!1),t.beginPath(),n.slice(1).forEach(function(o,u){var l=o.x,c=o.y,d=n[u];t.moveTo(d.x,d.y),t.lineTo(l,c)}),e){var r=n[n.length-1],a=n[0];if(!r||!a)return;t.moveTo(r.x,r.y),t.lineTo(a.x,a.y)}t.stroke()}var Og=function(t,n){return Og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])},Og(t,n)};function Ve(t,n){Og(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var Hn=function(){return Hn=Object.assign||function(n){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Hn.apply(this,arguments)};function Ie(t,n,e,r){function a(o){return o instanceof e?o:new e(function(u){u(o)})}return new(e||(e=Promise))(function(o,u){function l(h){try{d(r.next(h))}catch(v){u(v)}}function c(h){try{d(r.throw(h))}catch(v){u(v)}}function d(h){h.done?o(h.value):a(h.value).then(l,c)}d((r=r.apply(t,[])).next())})}function Be(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(h){return c([d,h])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,a&&(o=d[0]&2?a.return:d[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,d[1])).done)return o;switch(a=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,a=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){e.label=d[1];break}if(d[0]===6&&e.label<o[1]){e.label=o[1],o=d;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(d);break}o[2]&&e.ops.pop(),e.trys.pop();continue}d=n.call(t,e)}catch(h){d=[6,h],a=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ml(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),a=0,n=0;n<e;n++)for(var o=arguments[n],u=0,l=o.length;u<l;u++,a++)r[a]=o[u];return r}var Li=(function(){function t(n,e){if(!Pi(n)||!Pi(e))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:n,height:e}));this._width=n,this._height=e}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.reverse=function(){return new t(1/this.width,1/this.height)},t})();function ph(t,n){return t instanceof Ut&&t.shape.length===n}function AU(t){return ph(t,2)}function vh(t){return ph(t,3)}function Xo(t){return ph(t,4)}function kU(t){return t%1!==0}function rC(t){return t%2===0}function Yy(t,n){n===void 0&&(n=2);var e=Math.pow(10,n);return Math.floor(t*e)/e}function aC(t){return t&&t.width&&t.height}function DU(t,n){var e=t.width,r=t.height,a=n/Math.max(r,e);return new Li(Math.round(e*a),Math.round(r*a))}function Qy(t){return t.reduce(function(n,e){return n.add(e)},new ft(0,0)).div(new ft(t.length,t.length))}function jl(t,n,e){return Array(t).fill(0).map(function(r,a){return n+a*e})}function Pi(t){return!!t&&t!==1/0&&t!==-1/0&&!isNaN(t)||t===0}function oC(t){return Pi(t)&&0<=t&&t<=1}var ft=(function(){function t(n,e){this._x=n,this._y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y)},t.prototype.sub=function(n){return new t(this.x-n.x,this.y-n.y)},t.prototype.mul=function(n){return new t(this.x*n.x,this.y*n.y)},t.prototype.div=function(n){return new t(this.x/n.x,this.y/n.y)},t.prototype.abs=function(){return new t(Math.abs(this.x),Math.abs(this.y))},t.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t})(),ka=(function(){function t(n,e){e===void 0&&(e=!0);var r=n||{},a=[r.left,r.top,r.right,r.bottom].every(Pi),o=[r.x,r.y,r.width,r.height].every(Pi);if(!o&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var u=o?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],l=u[0],c=u[1],d=u[2],h=u[3];t.assertIsValidBox({x:l,y:c,width:d,height:h},"Box.constructor",e),this._x=l,this._y=c,this._width=d,this._height=h}return t.isRect=function(n){return!!n&&[n.x,n.y,n.width,n.height].every(Pi)},t.assertIsValidBox=function(n,e,r){if(r===void 0&&(r=!1),!t.isRect(n))throw new Error(e+" - invalid box: "+JSON.stringify(n)+", expected object with properties x, y, width, height");if(!r&&(n.width<0||n.height<0))throw new Error(e+" - width ("+n.width+") and height ("+n.height+") must be positive numbers")},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeft",{get:function(){return new ft(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRight",{get:function(){return new ft(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeft",{get:function(){return new ft(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRight",{get:function(){return new ft(this.right,this.bottom)},enumerable:!0,configurable:!0}),t.prototype.round=function(){var n=[this.x,this.y,this.width,this.height].map(function(u){return Math.round(u)}),e=n[0],r=n[1],a=n[2],o=n[3];return new t({x:e,y:r,width:a,height:o})},t.prototype.floor=function(){var n=[this.x,this.y,this.width,this.height].map(function(u){return Math.floor(u)}),e=n[0],r=n[1],a=n[2],o=n[3];return new t({x:e,y:r,width:a,height:o})},t.prototype.toSquare=function(){var n=this,e=n.x,r=n.y,a=n.width,o=n.height,u=Math.abs(a-o);return a<o&&(e-=u/2,a+=u),o<a&&(r-=u/2,o+=u),new t({x:e,y:r,width:a,height:o})},t.prototype.rescale=function(n){var e=aC(n)?n.width:n,r=aC(n)?n.height:n;return new t({x:this.x*e,y:this.y*r,width:this.width*e,height:this.height*r})},t.prototype.pad=function(n,e){var r=[this.x-n/2,this.y-e/2,this.width+n,this.height+e],a=r[0],o=r[1],u=r[2],l=r[3];return new t({x:a,y:o,width:u,height:l})},t.prototype.clipAtImageBorders=function(n,e){var r=this,a=r.x,o=r.y,u=r.right,l=r.bottom,c=Math.max(a,0),d=Math.max(o,0),h=u-c,v=l-d,m=Math.min(h,n-c),g=Math.min(v,e-d);return new t({x:c,y:d,width:m,height:g}).floor()},t.prototype.shift=function(n,e){var r=this,a=r.width,o=r.height,u=this.x+n,l=this.y+e;return new t({x:u,y:l,width:a,height:o})},t.prototype.padAtBorders=function(n,e){var r=this.width+1,a=this.height+1,o=1,u=1,l=r,c=a,d=this.left,h=this.top,v=this.right,m=this.bottom;return v>e&&(l=-v+e+r,v=e),m>n&&(c=-m+n+a,m=n),d<1&&(c=2-d,d=1),h<1&&(c=2-h,h=1),{dy:u,edy:c,dx:o,edx:l,y:h,ey:m,x:d,ex:v,w:r,h:a}},t.prototype.calibrate=function(n){return new t({left:this.left+n.left*this.width,top:this.top+n.top*this.height,right:this.right+n.right*this.width,bottom:this.bottom+n.bottom*this.height}).toSquare().round()},t})(),mh=(function(t){Ve(n,t);function n(e,r,a,o,u){return u===void 0&&(u=!1),t.call(this,{left:e,top:r,right:a,bottom:o},u)||this}return n})(ka),m_=(function(){function t(n,e,r,a,o){this._imageDims=new Li(o.width,o.height),this._score=n,this._classScore=e,this._className=r,this._box=new ka(a).rescale(this._imageDims)}return Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeBox",{get:function(){return new ka(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),t.prototype.forSize=function(n,e){return new t(this.score,this.classScore,this.className,this.relativeBox,{width:n,height:e})},t})(),Ar=(function(t){Ve(n,t);function n(e,r,a){return t.call(this,e,e,"",r,a)||this}return n.prototype.forSize=function(e,r){var a=t.prototype.forSize.call(this,e,r),o=a.score,u=a.relativeBox,l=a.imageDims;return new n(o,u,l)},n})(m_);function NU(t,n,e){e===void 0&&(e=!0);var r=Math.max(0,Math.min(t.right,n.right)-Math.max(t.left,n.left)),a=Math.max(0,Math.min(t.bottom,n.bottom)-Math.max(t.top,n.top)),o=r*a;return e?o/(t.area+n.area-o):o/Math.min(t.area,n.area)}function MU(t){var n=t.map(function(l){return l.x}),e=t.map(function(l){return l.y}),r=n.reduce(function(l,c){return c<l?c:l},1/0),a=e.reduce(function(l,c){return c<l?c:l},1/0),o=n.reduce(function(l,c){return l<c?c:l},0),u=e.reduce(function(l,c){return l<c?c:l},0);return new mh(r,a,o,u)}function Vl(t,n,e,r){r===void 0&&(r=!0);for(var a=n.map(function(l,c){return{score:l,boxIndex:c}}).sort(function(l,c){return l.score-c.score}).map(function(l){return l.boxIndex}),o=[],u=function(){var l=a.pop();o.push(l);for(var c=a,d=[],h=0;h<c.length;h++){var v=c[h],m=t[l],g=t[v];d.push(NU(m,g,r))}a=a.filter(function(b,x){return d[x]<=e})};a.length>0;)u();return o}function fc(t,n){return _e(function(){var e=n[0],r=n[1],a=n[2],o=Ta(Ml(t.shape.slice(0,3),[1]),e),u=Ta(Ml(t.shape.slice(0,3),[1]),r),l=Ta(Ml(t.shape.slice(0,3),[1]),a),c=vn([o,u,l],3);return yn(t,c)})}function OU(t,n){return n===void 0&&(n=!1),_e(function(){var e=t.shape.slice(1),r=e[0],a=e[1];if(r===a)return t;var o=Math.abs(r-a),u=Math.round(o*(n?.5:1)),l=r>a?2:1,c=function(g){var b=t.shape.slice();return b[l]=g,Ta(b,0)},d=c(u),h=o-d.shape[l],v=n&&h?c(h):null,m=[v,t,d].filter(function(g){return!!g}).map(function(g){return g.toFloat()});return vn(m,l)})}function Gm(t){return 1/(1+Math.exp(-t))}var Zy=(function(t){Ve(n,t);function n(e,r,a,o,u){return u===void 0&&(u=!1),t.call(this,{x:e,y:r,width:a,height:o},u)||this}return n})(ka),IU=.5,BU=.43,FU=.45,fu=(function(){function t(n,e,r){r===void 0&&(r=new ft(0,0));var a=e.width,o=e.height;this._imgDims=new Li(a,o),this._shift=r,this._positions=n.map(function(u){return u.mul(new ft(a,o)).add(r)})}return Object.defineProperty(t.prototype,"shift",{get:function(){return new ft(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePositions",{get:function(){var n=this;return this._positions.map(function(e){return e.sub(n._shift).div(new ft(n.imageWidth,n.imageHeight))})},enumerable:!0,configurable:!0}),t.prototype.forSize=function(n,e){return new this.constructor(this.relativePositions,{width:n,height:e})},t.prototype.shiftBy=function(n,e){return new this.constructor(this.relativePositions,this._imgDims,new ft(n,e))},t.prototype.shiftByPoint=function(n){return this.shiftBy(n.x,n.y)},t.prototype.align=function(n,e){if(e===void 0&&(e={}),n){var r=n instanceof Ar?n.box.floor():new ka(n);return this.shiftBy(r.x,r.y).align(null,e)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},e),o=a.useDlibAlignment,u=a.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(u)},t.prototype.alignDlib=function(){var n=this.getRefPointsForAlignment(),e=n[0],r=n[1],a=n[2],o=function(v){return a.sub(v).magnitude()},u=(o(e)+o(r))/2,l=Math.floor(u/FU),c=Qy(n),d=Math.floor(Math.max(0,c.x-IU*l)),h=Math.floor(Math.max(0,c.y-BU*l));return new Zy(d,h,Math.min(l,this.imageWidth+d),Math.min(l,this.imageHeight+h))},t.prototype.alignMinBbox=function(n){var e=MU(this.positions);return e.pad(e.width*n,e.height*n)},t.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},t})(),LU=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],Qy([e[3],e[4]])]},n})(fu),g_=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getJawOutline=function(){return this.positions.slice(0,17)},n.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},n.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},n.prototype.getNose=function(){return this.positions.slice(27,36)},n.prototype.getLeftEye=function(){return this.positions.slice(36,42)},n.prototype.getRightEye=function(){return this.positions.slice(42,48)},n.prototype.getMouth=function(){return this.positions.slice(48,68)},n.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(Qy)},n})(fu),iC=(function(){function t(n,e){this._label=n,this._distance=e}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.toString=function(n){return n===void 0&&(n=!0),""+this.label+(n?" ("+Yy(this.distance)+")":"")},t})(),sC=(function(t){Ve(n,t);function n(e,r){var a=t.call(this,e)||this;return a._label=r,a}return n.assertIsValidLabeledBox=function(e,r){if(ka.assertIsValidBox(e,r),!Pi(e.label))throw new Error(r+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),n})(ka),Vf=(function(){function t(n,e){if(typeof n!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(e)||e.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=n,this._descriptors=e}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(n){return Array.from(n)})}},t.fromJSON=function(n){var e=n.descriptors.map(function(r){return new Float32Array(r)});return new t(n.label,e)},t})();(function(t){Ve(n,t);function n(e,r,a,o){var u=t.call(this,e,r)||this;return u._score=a,u._classScore=o,u}return n.assertIsValidPredictedBox=function(e,r){if(sC.assertIsValidLabeledBox(e,r),!oC(e.score)||!oC(e.classScore))throw new Error(r+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(n.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),n})(sC);function Gl(t){return t.detection instanceof Ar}function ql(t,n){var e={detection:n};return Object.assign({},t,e)}function y_(){var t=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},n=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:t,readFile:n}}function b_(t){var n="";if(!t)try{t=require("fs")}catch(r){n=r.toString()}var e=t?function(r){return new Promise(function(a,o){t.readFile(r,function(u,l){return u?o(u):a(l)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+n)};return{readFile:e}}function x_(){var t=global.Canvas||global.HTMLCanvasElement,n=global.Image||global.HTMLImageElement,e=function(){if(t)return new t;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(n)return new n;throw new Error("createImageElement - missing Image implementation for nodejs environment")},a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},o=b_();return Hn({Canvas:t||(function(){function u(){}return u})(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||(function(){function u(){}return u})(),Image:n||(function(){function u(){}return u})(),ImageData:global.ImageData||(function(){function u(){}return u})(),Video:global.HTMLVideoElement||(function(){function u(){}return u})(),createCanvasElement:e,createImageElement:r,fetch:a},o)}function w_(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function S_(){return typeof global=="object"&&typeof require=="function"&&typeof tT<"u"&&typeof process<"u"&&!!process.version}var pn;function PU(){if(!pn)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return pn}function Ig(t){pn=t}function Jy(){w_()&&Ig(y_()),S_()&&Ig(x_())}function zU(t){if(pn||Jy(),!pn)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var n=t.Canvas,e=n===void 0?pn.Canvas:n,r=t.Image,a=r===void 0?pn.Image:r;pn.Canvas=e,pn.Image=a,pn.createCanvasElement=t.createCanvasElement||(function(){return new e}),pn.createImageElement=t.createImageElement||(function(){return new a}),pn.ImageData=t.ImageData||pn.ImageData,pn.Video=t.Video||pn.Video,pn.fetch=t.fetch||pn.fetch,pn.readFile=t.readFile||pn.readFile}var $n={getEnv:PU,setEnv:Ig,initialize:Jy,createBrowserEnv:y_,createFileSystem:b_,createNodejsEnv:x_,monkeyPatch:zU,isBrowser:w_,isNodejs:S_};Jy();function e0(t){return!$n.isNodejs()&&typeof t=="string"?document.getElementById(t):t}function Da(t){var n=$n.getEnv(),e=n.Canvas,r=n.CanvasRenderingContext2D;if(t instanceof r)return t;var a=e0(t);if(!(a instanceof e))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=a.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}var Go;(function(t){t.TOP_LEFT="TOP_LEFT",t.TOP_RIGHT="TOP_RIGHT",t.BOTTOM_LEFT="BOTTOM_LEFT",t.BOTTOM_RIGHT="BOTTOM_RIGHT"})(Go||(Go={}));var C_=(function(){function t(n){n===void 0&&(n={});var e=n.anchorPosition,r=n.backgroundColor,a=n.fontColor,o=n.fontSize,u=n.fontStyle,l=n.padding;this.anchorPosition=e||Go.TOP_LEFT,this.backgroundColor=r||"rgba(0, 0, 0, 0.5)",this.fontColor=a||"rgba(255, 255, 255, 1)",this.fontSize=o||14,this.fontStyle=u||"Georgia",this.padding=l||4}return t})(),E_=(function(){function t(n,e,r){r===void 0&&(r={}),this.text=typeof n=="string"?[n]:n instanceof t?n.text:n,this.anchor=e,this.options=new C_(r)}return t.prototype.measureWidth=function(n){var e=this.options.padding;return this.text.map(function(r){return n.measureText(r).width}).reduce(function(r,a){return r<a?a:r},0)+2*e},t.prototype.measureHeight=function(){var n=this.options,e=n.fontSize,r=n.padding;return this.text.length*e+2*r},t.prototype.getUpperLeft=function(n,e){var r=this.options.anchorPosition,a=r===Go.BOTTOM_RIGHT||r===Go.TOP_RIGHT,o=r===Go.BOTTOM_LEFT||r===Go.BOTTOM_RIGHT,u=this.measureWidth(n),l=this.measureHeight(),c=a?this.anchor.x-u:this.anchor.x,d=o?this.anchor.y-l:this.anchor.y;if(e){var h=e.width,v=e.height,m=Math.max(Math.min(c,h-u),0),g=Math.max(Math.min(d,v-l),0);return{x:m,y:g}}return{x:c,y:d}},t.prototype.draw=function(n){var e=e0(n),r=Da(e),a=this.options,o=a.backgroundColor,u=a.fontColor,l=a.fontSize,c=a.fontStyle,d=a.padding;r.font=l+"px "+c;var h=this.measureWidth(r),v=this.measureHeight();r.fillStyle=o;var m=this.getUpperLeft(r,e);r.fillRect(m.x,m.y,h,v),r.fillStyle=u,this.text.forEach(function(g,b){var x=d+m.x,S=d+m.y+(b+1)*l;r.fillText(g,x,S)})},t})(),UU=(function(){function t(n){n===void 0&&(n={});var e=n.boxColor,r=n.lineWidth,a=n.label,o=n.drawLabelOptions;this.boxColor=e||"rgba(0, 0, 255, 1)",this.lineWidth=r||2,this.label=a;var u={anchorPosition:Go.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new C_(Object.assign({},u,o))}return t})(),WU=(function(){function t(n,e){e===void 0&&(e={}),this.box=new ka(n),this.options=new UU(e)}return t.prototype.draw=function(n){var e=Da(n),r=this.options,a=r.boxColor,o=r.lineWidth,u=this.box,l=u.x,c=u.y,d=u.width,h=u.height;e.strokeStyle=a,e.lineWidth=o,e.strokeRect(l,c,d,h);var v=this.options.label;v&&new E_([v],{x:l-o/2,y:c},this.options.drawLabelOptions).draw(n)},t})();function HU(t,n){var e=Array.isArray(n)?n:[n];e.forEach(function(r){var a=r instanceof Ar?r.score:Gl(r)?r.detection.score:void 0,o=r instanceof Ar?r.box:Gl(r)?r.detection.box:new ka(r),u=a?""+Yy(a):void 0;new WU(o,{label:u}).draw(t)})}function R_(t){var n=$n.getEnv(),e=n.Image,r=n.Video;return t instanceof e&&t.complete||t instanceof r&&t.readyState>=3}function jU(t){return new Promise(function(n,e){if(t instanceof $n.getEnv().Canvas||R_(t))return n();function r(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",r),o.currentTarget.removeEventListener("error",a),n(o))}function a(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",r),o.currentTarget.removeEventListener("error",a),e(o))}t.addEventListener("load",r),t.addEventListener("error",a)})}function t0(t){var n=$n.getEnv(),e=n.Image,r=n.Video;return t instanceof e?new Li(t.naturalWidth,t.naturalHeight):t instanceof r?new Li(t.videoWidth,t.videoHeight):new Li(t.width,t.height)}function gh(t){var n=t.width,e=t.height,r=$n.getEnv().createCanvasElement,a=r();return a.width=n,a.height=e,a}function n0(t,n){var e=$n.getEnv().ImageData;if(!(t instanceof e)&&!R_(t))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t0(t),a=r.width,o=r.height,u=gh({width:a,height:o});return t instanceof e?Da(u).putImageData(t,0,0):Da(u).drawImage(t,0,0,a,o),u}function VU(t,n){return Ie(this,void 0,void 0,function(){var e,r,a,o,u,l;return Be(this,function(c){switch(c.label){case 0:return e=$n.getEnv().createCanvasElement(),r=t.shape.slice(Xo(t)?1:0),a=r[0],o=r[1],u=r[2],l=_e(function(){return t.as3D(a,o,u).toInt()}),[4,Xy.toPixels(l,e)];case 1:return c.sent(),l.dispose(),[2,e]}})})}function uC(t){var n=$n.getEnv(),e=n.Image,r=n.Canvas,a=n.Video;return t instanceof e||t instanceof r||t instanceof a}function GU(t,n,e){e===void 0&&(e=!1);var r=$n.getEnv(),a=r.Image,o=r.Canvas;if(!(t instanceof a||t instanceof o))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var u=t0(t),l=n/Math.max(u.height,u.width),c=l*u.width,d=l*u.height,h=gh({width:n,height:n}),v=t instanceof o?t:n0(t),m=Math.abs(c-d)/2,g=e&&c<d?m:0,b=e&&d<c?m:0;return Da(h).drawImage(v,g,b,c,d),h}var Bd=(function(){function t(n,e){var r=this;if(e===void 0&&(e=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(n))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+n);this._treatAsBatchInput=e,this._batchSize=n.length,n.forEach(function(a,o){if(vh(a)){r._imageTensors[o]=a,r._inputDimensions[o]=a.shape;return}if(Xo(a)){var u=a.shape[0];if(u!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+u+" passed, but not supported in input array");r._imageTensors[o]=a,r._inputDimensions[o]=a.shape.slice(1);return}var l=a instanceof $n.getEnv().Canvas?a:n0(a);r._canvases[o]=l,r._inputDimensions[o]=[l.height,l.width,3]})}return Object.defineProperty(t.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reshapedInputDimensions",{get:function(){var n=this;return jl(this.batchSize,0,1).map(function(e,r){return n.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),t.prototype.getInput=function(n){return this.canvases[n]||this.imageTensors[n]},t.prototype.getInputDimensions=function(n){return this._inputDimensions[n]},t.prototype.getInputHeight=function(n){return this._inputDimensions[n][0]},t.prototype.getInputWidth=function(n){return this._inputDimensions[n][1]},t.prototype.getReshapedInputDimensions=function(n){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var e=this.getInputWidth(n),r=this.getInputHeight(n);return DU({width:e,height:r},this.inputSize)},t.prototype.toBatchTensor=function(n,e){var r=this;return e===void 0&&(e=!0),this._inputSize=n,_e(function(){var a=jl(r.batchSize,0,1).map(function(u){var l=r.getInput(u);if(l instanceof Ut){var c=Xo(l)?l:l.expandDims();return c=OU(c,e),(c.shape[1]!==n||c.shape[2]!==n)&&(c=jy.resizeBilinear(c,[n,n])),c.as3D(n,n,3)}if(l instanceof $n.getEnv().Canvas)return Xy.fromPixels(GU(l,n,e));throw new Error("toBatchTensor - at batchIdx "+u+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+l)}),o=Tr(a.map(function(u){return u.toFloat()})).as4D(r.batchSize,n,n,3);return o})},t})();function En(t){return Ie(this,void 0,void 0,function(){var n,e,r;return Be(this,function(a){switch(a.label){case 0:if(t instanceof Bd)return[2,t];if(n=Array.isArray(t)?t:[t],!n.length)throw new Error("toNetInput - empty array passed as input");return e=function(o){return Array.isArray(t)?" at input index "+o+":":""},r=n.map(e0),r.forEach(function(o,u){if(!uC(o)&&!vh(o)&&!Xo(o))throw typeof n[u]=="string"?new Error("toNetInput -"+e(u)+" string passed, but could not resolve HTMLElement for element id "+n[u]):new Error("toNetInput -"+e(u)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(Xo(o)){var l=o.shape[0];if(l!==1)throw new Error("toNetInput -"+e(u)+" tf.Tensor4D with batchSize "+l+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(o){return uC(o)&&jU(o)}))];case 1:return a.sent(),[2,new Bd(r,Array.isArray(t))]}})})}function r0(t,n){return Ie(this,void 0,void 0,function(){var e,r,a,o,u,l,c;return Be(this,function(d){switch(d.label){case 0:return e=$n.getEnv().Canvas,r=t,t instanceof e?[3,5]:[4,En(t)];case 1:if(a=d.sent(),a.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return o=a.getInput(0),o instanceof e?(u=o,[3,4]):[3,2];case 2:return[4,VU(o)];case 3:u=d.sent(),d.label=4;case 4:r=u,d.label=5;case 5:return l=Da(r),c=n.map(function(h){return h instanceof Ar?h.forSize(r.width,r.height).box.floor():h}).map(function(h){return h.clipAtImageBorders(r.width,r.height)}),[2,c.map(function(h){var v=h.x,m=h.y,g=h.width,b=h.height,x=gh({width:g,height:b});return Da(x).putImageData(l.getImageData(v,m,g,b),0,0),x})]}})})}function a0(t,n){return Ie(this,void 0,void 0,function(){return Be(this,function(e){if(!vh(t)&&!Xo(t))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(Xo(t)&&t.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,_e(function(){var r=t.shape.slice(Xo(t)?1:0),a=r[0],o=r[1],u=r[2],l=n.map(function(d){return d instanceof Ar?d.forSize(o,a).box:d}).map(function(d){return d.clipAtImageBorders(o,a)}),c=l.map(function(d){var h=d.x,v=d.y,m=d.width,g=d.height;return QR(t.as3D(a,o,u),[v,h,0],[g,m,u])});return c})]})})}function qU(t,n){return Ie(this,void 0,void 0,function(){var e,r;return Be(this,function(a){switch(a.label){case 0:return e=$n.getEnv().fetch,[4,e(t,n)];case 1:if(r=a.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function $U(t){return Ie(this,void 0,void 0,function(){return Be(this,function(n){switch(n.label){case 0:return[4,qU(t)];case 1:return[2,n.sent().json()]}})})}function __(t,n){var e=n+"-weights_manifest.json";if(!t)return{modelBaseUri:"",manifestUri:e};if(t==="/")return{modelBaseUri:"/",manifestUri:"/"+e};var r=t.startsWith("http://")?"http://":t.startsWith("https://")?"https://":"";t=t.replace(r,"");var a=t.split("/").filter(function(l){return l}),o=t.endsWith(".json")?a[a.length-1]:e,u=r+(t.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return u=t.startsWith("/")?"/"+u:u,{modelBaseUri:u,manifestUri:u==="/"?"/"+o:u+"/"+o}}function KU(t,n){return Ie(this,void 0,void 0,function(){var e,r,a,o;return Be(this,function(u){switch(u.label){case 0:return e=__(t,n),r=e.manifestUri,a=e.modelBaseUri,[4,$U(r)];case 1:return o=u.sent(),[2,p_.loadWeights(o,a)]}})})}function XU(t,n,e){e===void 0&&(e=!1);var r=e?t0(n):n,a=r.width,o=r.height;return t.width=a,t.height=o,{width:a,height:o}}var po=(function(){function t(n){this._name=n,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),t.prototype.getParamFromPath=function(n){var e=this.traversePropertyPath(n),r=e.obj,a=e.objProp;return r[a]},t.prototype.reassignParamFromPath=function(n,e){var r=this.traversePropertyPath(n),a=r.obj,o=r.objProp;a[o].dispose(),a[o]=e},t.prototype.getParamList=function(){var n=this;return this._paramMappings.map(function(e){var r=e.paramPath;return{path:r,tensor:n.getParamFromPath(r)}})},t.prototype.getTrainableParams=function(){return this.getParamList().filter(function(n){return n.tensor instanceof uu})},t.prototype.getFrozenParams=function(){return this.getParamList().filter(function(n){return!(n.tensor instanceof uu)})},t.prototype.variable=function(){var n=this;this.getFrozenParams().forEach(function(e){var r=e.path,a=e.tensor;n.reassignParamFromPath(r,a.variable())})},t.prototype.freeze=function(){var n=this;this.getTrainableParams().forEach(function(e){var r=e.path,a=e.tensor,o=In(a.dataSync());a.dispose(),n.reassignParamFromPath(r,o)})},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.getParamList().forEach(function(e){if(n&&e.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+e.path);e.tensor.dispose()}),this._params=void 0},t.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(n){var e=n.tensor;return Array.from(e.dataSync())}).reduce(function(n,e){return n.concat(e)}))},t.prototype.load=function(n){return Ie(this,void 0,void 0,function(){return Be(this,function(e){switch(e.label){case 0:return n instanceof Float32Array?(this.extractWeights(n),[2]):[4,this.loadFromUri(n)];case 1:return e.sent(),[2]}})})},t.prototype.loadFromUri=function(n){return Ie(this,void 0,void 0,function(){var e;return Be(this,function(r){switch(r.label){case 0:if(n&&typeof n!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,KU(n,this.getDefaultModelName())];case 1:return e=r.sent(),this.loadFromWeightMap(e),[2]}})})},t.prototype.loadFromDisk=function(n){return Ie(this,void 0,void 0,function(){var e,r,a,o,u,l,c,d,h,v;return Be(this,function(m){switch(m.label){case 0:if(n&&typeof n!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return e=$n.getEnv().readFile,r=__(n,this.getDefaultModelName()),a=r.manifestUri,o=r.modelBaseUri,u=function(g){return Promise.all(g.map(function(b){return e(b).then(function(x){return x.buffer})}))},l=p_.weightsLoaderFactory(u),h=(d=JSON).parse,[4,e(a)];case 1:return c=h.apply(d,[m.sent().toString()]),[4,l(c,o)];case 2:return v=m.sent(),this.loadFromWeightMap(v),[2]}})})},t.prototype.loadFromWeightMap=function(n){var e=this.extractParamsFromWeigthMap(n),r=e.paramMappings,a=e.params;this._paramMappings=r,this._params=a},t.prototype.extractWeights=function(n){var e=this.extractParams(n),r=e.paramMappings,a=e.params;this._paramMappings=r,this._params=a},t.prototype.traversePropertyPath=function(n){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var e=n.split("/").reduce(function(o,u){if(!o.nextObj.hasOwnProperty(u))throw new Error("traversePropertyPath - object does not have property "+u+", for path "+n);return{obj:o.nextObj,objProp:u,nextObj:o.nextObj[u]}},{nextObj:this.params}),r=e.obj,a=e.objProp;if(!r||!a||!(r[a]instanceof Ut))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+n);return{obj:r,objProp:a}},t})();function Rr(t,n,e){return _e(function(){var r=Py(t,n.depthwise_filter,n.pointwise_filter,e,"same");return r=Je(r,n.bias),r})}function qm(t,n,e){return e===void 0&&(e=!1),_e(function(){var r=Wt(e?Je(Kr(t,n.conv0.filters,[2,2],"same"),n.conv0.bias):Rr(t,n.conv0,[2,2])),a=Rr(r,n.conv1,[1,1]),o=Wt(Je(r,a)),u=Rr(o,n.conv2,[1,1]);return Wt(Je(r,Je(a,u)))})}function Gf(t,n,e,r){return e===void 0&&(e=!1),r===void 0&&(r=!0),_e(function(){var a=Wt(e?Je(Kr(t,n.conv0.filters,r?[2,2]:[1,1],"same"),n.conv0.bias):Rr(t,n.conv0,r?[2,2]:[1,1])),o=Rr(a,n.conv1,[1,1]),u=Wt(Je(a,o)),l=Rr(u,n.conv2,[1,1]),c=Wt(Je(a,Je(o,l))),d=Rr(c,n.conv3,[1,1]);return Wt(Je(a,Je(o,Je(l,d))))})}function ra(t,n,e,r){return e===void 0&&(e="same"),r===void 0&&(r=!1),_e(function(){var a=Je(Kr(t,n.filters,[1,1],e),n.bias);return r?Wt(a):a})}function vo(t,n){Object.keys(t).forEach(function(e){n.some(function(r){return r.originalPath===e})||t[e].dispose()})}function yh(t,n){return function(e,r,a,o){var u=or(t(e*r*a*a),[a,a,e,r]),l=cn(t(r));return n.push({paramPath:o+"/filters"},{paramPath:o+"/bias"}),{filters:u,bias:l}}}function o0(t,n){return function(e,r,a){var o=$o(t(e*r),[e,r]),u=cn(t(r));return n.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:o,bias:u}}}var T_=(function(){function t(n,e,r){this.depthwise_filter=n,this.pointwise_filter=e,this.bias=r}return t})();function i0(t,n){return function(e,r,a){var o=or(t(9*e),[3,3,e,1]),u=or(t(e*r),[1,1,e,r]),l=cn(t(r));return n.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new T_(o,u,l)}}function s0(t){return function(n){var e=t(n+"/depthwise_filter",4),r=t(n+"/pointwise_filter",4),a=t(n+"/bias",1);return new T_(e,r,a)}}function ti(t,n){return function(e,r,a){var o=t[e];if(!ph(o,r))throw new Error("expected weightMap["+e+"] to be a Tensor"+r+"D, instead have "+o);return n.push({originalPath:e,paramPath:a||e}),o}}function mo(t){var n=t;function e(a){var o=n.slice(0,a);return n=n.slice(a),o}function r(){return n}return{extractWeights:e,getRemainingWeights:r}}function A_(t,n){var e=yh(t,n),r=i0(t,n);function a(u,l,c,d){d===void 0&&(d=!1);var h=d?e(u,l,3,c+"/conv0"):r(u,l,c+"/conv0"),v=r(l,l,c+"/conv1"),m=r(l,l,c+"/conv2");return{conv0:h,conv1:v,conv2:m}}function o(u,l,c,d){d===void 0&&(d=!1);var h=a(u,l,c,d),v=h.conv0,m=h.conv1,g=h.conv2,b=r(l,l,c+"/conv3");return{conv0:v,conv1:m,conv2:g,conv3:b}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:o}}function YU(t){var n=[],e=mo(t),r=e.extractWeights,a=e.getRemainingWeights,o=A_(r,n).extractDenseBlock4Params,u=o(3,32,"dense0",!0),l=o(32,64,"dense1"),c=o(64,128,"dense2"),d=o(128,256,"dense3");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{dense0:u,dense1:l,dense2:c,dense3:d}}}function k_(t){return function(n){var e=t(n+"/filters",4),r=t(n+"/bias",1);return{filters:e,bias:r}}}function D_(t,n){var e=ti(t,n),r=k_(e),a=s0(e);function o(l,c){c===void 0&&(c=!1);var d=c?r(l+"/conv0"):a(l+"/conv0"),h=a(l+"/conv1"),v=a(l+"/conv2");return{conv0:d,conv1:h,conv2:v}}function u(l,c){c===void 0&&(c=!1);var d=c?r(l+"/conv0"):a(l+"/conv0"),h=a(l+"/conv1"),v=a(l+"/conv2"),m=a(l+"/conv3");return{conv0:d,conv1:h,conv2:v,conv3:m}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:u}}function QU(t){var n=[],e=D_(t,n).extractDenseBlock4Params,r={dense0:e("dense0",!0),dense1:e("dense1"),dense2:e("dense2"),dense3:e("dense3")};return vo(t,n),{params:r,paramMappings:n}}var N_=(function(t){Ve(n,t);function n(){return t.call(this,"FaceFeatureExtractor")||this}return n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return _e(function(){var a=e.toBatchTensor(112,!0),o=[122.782,117.001,104.298],u=fc(a,o).div(Ee(255)),l=Gf(u,r.dense0,!0);return l=Gf(l,r.dense1),l=Gf(l,r.dense2),l=Gf(l,r.dense3),l=lc(l,[7,7],[2,2],"valid"),l})},n.prototype.forward=function(e){return Ie(this,void 0,void 0,function(){var r;return Be(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,En(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},n.prototype.extractParamsFromWeigthMap=function(e){return QU(e)},n.prototype.extractParams=function(e){return YU(e)},n})(po);function Ca(t,n){return _e(function(){return Je(fh(t,n.weights),n.bias)})}function ZU(t,n,e){var r=[],a=mo(t),o=a.extractWeights,u=a.getRemainingWeights,l=o0(o,r),c=l(n,e,"fc");if(u().length!==0)throw new Error("weights remaing after extract: "+u().length);return{paramMappings:r,params:{fc:c}}}function JU(t){var n=[],e=ti(t,n);function r(o){var u=e(o+"/weights",2),l=e(o+"/bias",1);return{weights:u,bias:l}}var a={fc:r("fc")};return vo(t,n),{params:a,paramMappings:n}}function M_(t){var n={},e={};return Object.keys(t).forEach(function(r){var a=r.startsWith("fc")?e:n;a[r]=t[r]}),{featureExtractorMap:n,classifierMap:e}}var O_=(function(t){Ve(n,t);function n(e,r){var a=t.call(this,e)||this;return a._faceFeatureExtractor=r,a}return Object.defineProperty(n.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),n.prototype.runNet=function(e){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return _e(function(){var o=e instanceof Bd?r.faceFeatureExtractor.forwardInput(e):e;return Ca(o.as2D(o.shape[0],-1),a.fc)})},n.prototype.dispose=function(e){e===void 0&&(e=!0),this.faceFeatureExtractor.dispose(e),t.prototype.dispose.call(this,e)},n.prototype.loadClassifierParams=function(e){var r=this.extractClassifierParams(e),a=r.params,o=r.paramMappings;this._params=a,this._paramMappings=o},n.prototype.extractClassifierParams=function(e){return ZU(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},n.prototype.extractParamsFromWeigthMap=function(e){var r=M_(e),a=r.featureExtractorMap,o=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),JU(o)},n.prototype.extractParams=function(e){var r=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),o=a*r+a,u=e.slice(0,e.length-o),l=e.slice(e.length-o);return this.faceFeatureExtractor.extractWeights(u),this.extractClassifierParams(l)},n})(po),lC=["neutral","happy","sad","angry","fearful","disgusted","surprised"],u0=(function(){function t(n){var e=this;if(n.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+n.length);lC.forEach(function(r,a){e[r]=n[a]})}return t.prototype.asSortedArray=function(){var n=this;return lC.map(function(e){return{expression:e,probability:n[e]}}).sort(function(e,r){return r.probability-e.probability})},t})(),eW=(function(t){Ve(n,t);function n(e){return e===void 0&&(e=new N_),t.call(this,"FaceExpressionNet",e)||this}return n.prototype.forwardInput=function(e){var r=this;return _e(function(){return fo(r.runNet(e))})},n.prototype.forward=function(e){return Ie(this,void 0,void 0,function(){var r;return Be(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,En(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.predictExpressions=function(e){return Ie(this,void 0,void 0,function(){var r,a,o,u,l=this;return Be(this,function(c){switch(c.label){case 0:return[4,En(e)];case 1:return r=c.sent(),[4,this.forwardInput(r)];case 2:return a=c.sent(),[4,Promise.all(mn(a).map(function(d){return Ie(l,void 0,void 0,function(){var h;return Be(this,function(v){switch(v.label){case 0:return[4,d.data()];case 1:return h=v.sent(),d.dispose(),[2,h]}})})}))];case 3:return o=c.sent(),a.dispose(),u=o.map(function(d){return new u0(d)}),[2,r.isBatchInput?u:u[0]]}})})},n.prototype.getDefaultModelName=function(){return"face_expression_model"},n.prototype.getClassifierChannelsIn=function(){return 256},n.prototype.getClassifierChannelsOut=function(){return 7},n})(O_);function tW(t){return t.expressions instanceof u0}function I_(t,n){var e={expressions:n};return Object.assign({},t,e)}function nW(t,n,e,r){e===void 0&&(e=.1);var a=Array.isArray(n)?n:[n];a.forEach(function(o){var u=o instanceof u0?o:tW(o)?o.expressions:void 0;if(!u)throw new Error("drawFaceExpressions - expected faceExpressions to be FaceExpressions | WithFaceExpressions<{}> or array thereof");var l=u.asSortedArray(),c=l.filter(function(v){return v.probability>e}),d=Gl(o)?o.detection.box.bottomLeft:new ft(0,0),h=new E_(c.map(function(v){return v.expression+" ("+Yy(v.probability)+")"}),d);h.draw(t)})}function l0(t){return Gl(t)&&t.landmarks instanceof fu&&t.unshiftedLandmarks instanceof fu&&t.alignedRect instanceof Ar}function bh(t,n){var e=t.detection.box,r=n.shiftBy(e.x,e.y),a=r.align(),o=t.detection.imageDims,u=new Ar(t.detection.score,a.rescale(o.reverse()),o),l={landmarks:r,unshiftedLandmarks:n,alignedRect:u};return Object.assign({},t,l)}var rW=(function(){function t(n){n===void 0&&(n={});var e=n.drawLines,r=e===void 0?!0:e,a=n.drawPoints,o=a===void 0?!0:a,u=n.lineWidth,l=n.lineColor,c=n.pointSize,d=n.pointColor;this.drawLines=r,this.drawPoints=o,this.lineWidth=u||1,this.pointSize=c||2,this.lineColor=l||"rgba(0, 255, 255, 1)",this.pointColor=d||"rgba(255, 0, 255, 1)"}return t})(),aW=(function(){function t(n,e){e===void 0&&(e={}),this.faceLandmarks=n,this.options=new rW(e)}return t.prototype.draw=function(n){var e=Da(n),r=this.options,a=r.drawLines,o=r.drawPoints,u=r.lineWidth,l=r.lineColor,c=r.pointSize,d=r.pointColor;if(a&&this.faceLandmarks instanceof g_&&(e.strokeStyle=l,e.lineWidth=u,Ri(e,this.faceLandmarks.getJawOutline()),Ri(e,this.faceLandmarks.getLeftEyeBrow()),Ri(e,this.faceLandmarks.getRightEyeBrow()),Ri(e,this.faceLandmarks.getNose()),Ri(e,this.faceLandmarks.getLeftEye(),!0),Ri(e,this.faceLandmarks.getRightEye(),!0),Ri(e,this.faceLandmarks.getMouth(),!0)),o){e.strokeStyle=d,e.fillStyle=d;var h=function(v){e.beginPath(),e.arc(v.x,v.y,c,0,2*Math.PI),e.fill()};this.faceLandmarks.positions.forEach(h)}},t})();function cC(t,n){var e=Array.isArray(n)?n:[n];e.forEach(function(r){var a=r instanceof fu?r:l0(r)?r.landmarks:void 0;if(!a)throw new Error("drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof");new aW(a).draw(t)})}function oW(t,n){var e=yh(t,n),r=i0(t,n);function a(u,l,c){var d=r(u,l,c+"/separable_conv0"),h=r(l,l,c+"/separable_conv1"),v=e(u,l,1,c+"/expansion_conv");return{separable_conv0:d,separable_conv1:h,expansion_conv:v}}function o(u,l){var c=r(u,u,l+"/separable_conv0"),d=r(u,u,l+"/separable_conv1"),h=r(u,u,l+"/separable_conv2");return{separable_conv0:c,separable_conv1:d,separable_conv2:h}}return{extractConvParams:e,extractSeparableConvParams:r,extractReductionBlockParams:a,extractMainBlockParams:o}}function iW(t,n){var e=[],r=mo(t),a=r.extractWeights,o=r.getRemainingWeights,u=oW(a,e),l=u.extractConvParams,c=u.extractSeparableConvParams,d=u.extractReductionBlockParams,h=u.extractMainBlockParams,v=l(3,32,3,"entry_flow/conv_in"),m=d(32,64,"entry_flow/reduction_block_0"),g=d(64,128,"entry_flow/reduction_block_1"),b={conv_in:v,reduction_block_0:m,reduction_block_1:g},x={};jl(n,0,1).forEach(function(R){x["main_block_"+R]=h(128,"middle_flow/main_block_"+R)});var S=d(128,256,"exit_flow/reduction_block"),C=c(256,512,"exit_flow/separable_conv"),_={reduction_block:S,separable_conv:C};if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:e,params:{entry_flow:b,middle_flow:x,exit_flow:_}}}function sW(t,n){var e=ti(t,n),r=k_(e),a=s0(e);function o(l){var c=a(l+"/separable_conv0"),d=a(l+"/separable_conv1"),h=r(l+"/expansion_conv");return{separable_conv0:c,separable_conv1:d,expansion_conv:h}}function u(l){var c=a(l+"/separable_conv0"),d=a(l+"/separable_conv1"),h=a(l+"/separable_conv2");return{separable_conv0:c,separable_conv1:d,separable_conv2:h}}return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:o,extractMainBlockParams:u}}function uW(t,n){var e=[],r=sW(t,e),a=r.extractConvParams,o=r.extractSeparableConvParams,u=r.extractReductionBlockParams,l=r.extractMainBlockParams,c=a("entry_flow/conv_in"),d=u("entry_flow/reduction_block_0"),h=u("entry_flow/reduction_block_1"),v={conv_in:c,reduction_block_0:d,reduction_block_1:h},m={};jl(n,0,1).forEach(function(S){m["main_block_"+S]=l("middle_flow/main_block_"+S)});var g=u("exit_flow/reduction_block"),b=o("exit_flow/separable_conv"),x={reduction_block:g,separable_conv:b};return vo(t,e),{params:{entry_flow:v,middle_flow:m,exit_flow:x},paramMappings:e}}function B_(t,n,e){return Je(Kr(t,n.filters,e,"same"),n.bias)}function $m(t,n,e){e===void 0&&(e=!0);var r=e?Wt(t):t;return r=Rr(r,n.separable_conv0,[1,1]),r=Rr(Wt(r),n.separable_conv1,[1,1]),r=Sn(r,[3,3],[2,2],"same"),r=Je(r,B_(t,n.expansion_conv,[2,2])),r}function lW(t,n){var e=Rr(Wt(t),n.separable_conv0,[1,1]);return e=Rr(Wt(e),n.separable_conv1,[1,1]),e=Rr(Wt(e),n.separable_conv2,[1,1]),e=Je(e,t),e}var cW=(function(t){Ve(n,t);function n(e){var r=t.call(this,"TinyXception")||this;return r._numMainBlocks=e,r}return n.prototype.forwardInput=function(e){var r=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return _e(function(){var o=e.toBatchTensor(112,!0),u=[122.782,117.001,104.298],l=fc(o,u).div(Ee(256)),c=Wt(B_(l,a.entry_flow.conv_in,[2,2]));return c=$m(c,a.entry_flow.reduction_block_0,!1),c=$m(c,a.entry_flow.reduction_block_1),jl(r._numMainBlocks,0,1).forEach(function(d){c=lW(c,a.middle_flow["main_block_"+d])}),c=$m(c,a.exit_flow.reduction_block),c=Wt(Rr(c,a.exit_flow.separable_conv,[1,1])),c})},n.prototype.forward=function(e){return Ie(this,void 0,void 0,function(){var r;return Be(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,En(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"tiny_xception_model"},n.prototype.extractParamsFromWeigthMap=function(e){return uW(e,this._numMainBlocks)},n.prototype.extractParams=function(e){return iW(e,this._numMainBlocks)},n})(po);function fW(t){var n=[],e=mo(t),r=e.extractWeights,a=e.getRemainingWeights,o=o0(r,n),u=o(512,1,"fc/age"),l=o(512,2,"fc/gender");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{fc:{age:u,gender:l}}}}function dW(t){var n=[],e=ti(t,n);function r(o){var u=e(o+"/weights",2),l=e(o+"/bias",1);return{weights:u,bias:l}}var a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return vo(t,n),{params:a,paramMappings:n}}var Fd;(function(t){t.FEMALE="female",t.MALE="male"})(Fd||(Fd={}));var hW=(function(t){Ve(n,t);function n(e){e===void 0&&(e=new cW(2));var r=t.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=e,r}return Object.defineProperty(n.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),n.prototype.runNet=function(e){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return _e(function(){var o=e instanceof Bd?r.faceFeatureExtractor.forwardInput(e):e,u=lc(o,[7,7],[2,2],"valid").as2D(o.shape[0],-1),l=Ca(u,a.fc.age).as1D(),c=Ca(u,a.fc.gender);return{age:l,gender:c}})},n.prototype.forwardInput=function(e){var r=this;return _e(function(){var a=r.runNet(e),o=a.age,u=a.gender;return{age:o,gender:fo(u)}})},n.prototype.forward=function(e){return Ie(this,void 0,void 0,function(){var r;return Be(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,En(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.predictAgeAndGender=function(e){return Ie(this,void 0,void 0,function(){var r,a,o,u,l,c,d=this;return Be(this,function(h){switch(h.label){case 0:return[4,En(e)];case 1:return r=h.sent(),[4,this.forwardInput(r)];case 2:return a=h.sent(),o=mn(a.age),u=mn(a.gender),l=o.map(function(v,m){return{ageTensor:v,genderTensor:u[m]}}),[4,Promise.all(l.map(function(v){var m=v.ageTensor,g=v.genderTensor;return Ie(d,void 0,void 0,function(){var b,x,S,C,_;return Be(this,function(R){switch(R.label){case 0:return[4,m.data()];case 1:return b=R.sent()[0],[4,g.data()];case 2:return x=R.sent()[0],S=x>.5,C=S?Fd.MALE:Fd.FEMALE,_=S?x:1-x,m.dispose(),g.dispose(),[2,{age:b,gender:C,genderProbability:_}]}})})}))];case 3:return c=h.sent(),a.age.dispose(),a.gender.dispose(),[2,r.isBatchInput?c:c[0]]}})})},n.prototype.getDefaultModelName=function(){return"age_gender_model"},n.prototype.dispose=function(e){e===void 0&&(e=!0),this.faceFeatureExtractor.dispose(e),t.prototype.dispose.call(this,e)},n.prototype.loadClassifierParams=function(e){var r=this.extractClassifierParams(e),a=r.params,o=r.paramMappings;this._params=a,this._paramMappings=o},n.prototype.extractClassifierParams=function(e){return fW(e)},n.prototype.extractParamsFromWeigthMap=function(e){var r=M_(e),a=r.featureExtractorMap,o=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),dW(o)},n.prototype.extractParams=function(e){var r=1539,a=e.slice(0,e.length-r),o=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(o)},n})(po),F_=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.postProcess=function(e,r,a){var o=a.map(function(l){var c=l.width,d=l.height,h=r/Math.max(d,c);return{width:c*h,height:d*h}}),u=o.length;return _e(function(){var l=function(m,g){return Tr([Ta([68],m),Ta([68],g)],1).as2D(1,136).as1D()},c=function(m,g){var b=o[m],x=b.width,S=b.height;return g(x,S)?Math.abs(x-S)/2:0},d=function(m){return c(m,function(g,b){return g<b})},h=function(m){return c(m,function(g,b){return b<g})},v=e.mul(Ta([u,136],r)).sub(Tr(Array.from(Array(u),function(m,g){return l(d(g),h(g))}))).div(Tr(Array.from(Array(u),function(m,g){return l(o[g].width,o[g].height)})));return v})},n.prototype.forwardInput=function(e){var r=this;return _e(function(){var a=r.runNet(e);return r.postProcess(a,e.inputSize,e.inputDimensions.map(function(o){var u=o[0],l=o[1];return{height:u,width:l}}))})},n.prototype.forward=function(e){return Ie(this,void 0,void 0,function(){var r;return Be(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,En(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.detectLandmarks=function(e){return Ie(this,void 0,void 0,function(){var r,a,o,u=this;return Be(this,function(l){switch(l.label){case 0:return[4,En(e)];case 1:return r=l.sent(),a=_e(function(){return mn(u.forwardInput(r))}),[4,Promise.all(a.map(function(c,d){return Ie(u,void 0,void 0,function(){var h,v,m,g,b;return Be(this,function(x){switch(x.label){case 0:return m=(v=Array).from,[4,c.data()];case 1:return h=m.apply(v,[x.sent()]),g=h.filter(function(S,C){return rC(C)}),b=h.filter(function(S,C){return!rC(C)}),[2,new g_(Array(68).fill(0).map(function(S,C){return new ft(g[C],b[C])}),{height:r.getInputHeight(d),width:r.getInputWidth(d)})]}})})}))];case 2:return o=l.sent(),a.forEach(function(c){return c.dispose()}),[2,r.isBatchInput?o:o[0]]}})})},n.prototype.getClassifierChannelsOut=function(){return 136},n})(O_),L_=(function(t){Ve(n,t);function n(e){return e===void 0&&(e=new N_),t.call(this,"FaceLandmark68Net",e)||this}return n.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},n.prototype.getClassifierChannelsIn=function(){return 256},n})(F_);function pW(t){var n=[],e=D_(t,n).extractDenseBlock3Params,r={dense0:e("dense0",!0),dense1:e("dense1"),dense2:e("dense2")};return vo(t,n),{params:r,paramMappings:n}}function vW(t){var n=[],e=mo(t),r=e.extractWeights,a=e.getRemainingWeights,o=A_(r,n).extractDenseBlock3Params,u=o(3,32,"dense0",!0),l=o(32,64,"dense1"),c=o(64,128,"dense2");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{dense0:u,dense1:l,dense2:c}}}var mW=(function(t){Ve(n,t);function n(){return t.call(this,"TinyFaceFeatureExtractor")||this}return n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return _e(function(){var a=e.toBatchTensor(112,!0),o=[122.782,117.001,104.298],u=fc(a,o).div(Ee(255)),l=qm(u,r.dense0,!0);return l=qm(l,r.dense1),l=qm(l,r.dense2),l=lc(l,[14,14],[2,2],"valid"),l})},n.prototype.forward=function(e){return Ie(this,void 0,void 0,function(){var r;return Be(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,En(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},n.prototype.extractParamsFromWeigthMap=function(e){return pW(e)},n.prototype.extractParams=function(e){return vW(e)},n})(po),gW=(function(t){Ve(n,t);function n(e){return e===void 0&&(e=new mW),t.call(this,"FaceLandmark68TinyNet",e)||this}return n.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},n.prototype.getClassifierChannelsIn=function(){return 128},n})(F_);(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n})(L_);function yW(t,n){return Je(Gn(t,n.weights),n.biases)}function c0(t,n,e,r,a){a===void 0&&(a="same");var o=n.conv,u=o.filters,l=o.bias,c=Kr(t,u,e,a);return c=Je(c,l),c=yW(c,n.scale),r?Wt(c):c}function bW(t,n){return c0(t,n,[1,1],!0)}function P_(t,n){return c0(t,n,[1,1],!1)}function z_(t,n){return c0(t,n,[2,2],!0,"valid")}function xW(t,n){function e(l,c,d){var h=t(l),v=h.length/(c*d*d);if(kU(v))throw new Error("depth has to be an integer: "+v+", weights.length: "+h.length+", numFilters: "+c+", filterSize: "+d);return _e(function(){return Zo(or(h,[c,v,d,d]),[2,3,1,0])})}function r(l,c,d,h){var v=e(l,c,d),m=cn(t(c));return n.push({paramPath:h+"/filters"},{paramPath:h+"/bias"}),{filters:v,bias:m}}function a(l,c){var d=cn(t(l)),h=cn(t(l));return n.push({paramPath:c+"/weights"},{paramPath:c+"/biases"}),{weights:d,biases:h}}function o(l,c,d,h){var v=r(l,c,d,h+"/conv"),m=a(c,h+"/scale");return{conv:v,scale:m}}function u(l,c,d,h,v){v===void 0&&(v=!1);var m=o((v?.5:1)*l,c,d,h+"/conv1"),g=o(l,c,d,h+"/conv2");return{conv1:m,conv2:g}}return{extractConvLayerParams:o,extractResidualLayerParams:u}}function wW(t){var n=mo(t),e=n.extractWeights,r=n.getRemainingWeights,a=[],o=xW(e,a),u=o.extractConvLayerParams,l=o.extractResidualLayerParams,c=u(4704,32,7,"conv32_down"),d=l(9216,32,3,"conv32_1"),h=l(9216,32,3,"conv32_2"),v=l(9216,32,3,"conv32_3"),m=l(36864,64,3,"conv64_down",!0),g=l(36864,64,3,"conv64_1"),b=l(36864,64,3,"conv64_2"),x=l(36864,64,3,"conv64_3"),S=l(147456,128,3,"conv128_down",!0),C=l(147456,128,3,"conv128_1"),_=l(147456,128,3,"conv128_2"),R=l(589824,256,3,"conv256_down",!0),E=l(589824,256,3,"conv256_1"),T=l(589824,256,3,"conv256_2"),D=l(589824,256,3,"conv256_down_out"),N=_e(function(){return Zo($o(e(256*128),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var O={conv32_down:c,conv32_1:d,conv32_2:h,conv32_3:v,conv64_down:m,conv64_1:g,conv64_2:b,conv64_3:x,conv128_down:S,conv128_1:C,conv128_2:_,conv256_down:R,conv256_1:E,conv256_2:T,conv256_down_out:D,fc:N};return{params:O,paramMappings:a}}function SW(t,n){var e=ti(t,n);function r(u){var l=e(u+"/scale/weights",1),c=e(u+"/scale/biases",1);return{weights:l,biases:c}}function a(u){var l=e(u+"/conv/filters",4),c=e(u+"/conv/bias",1),d=r(u);return{conv:{filters:l,bias:c},scale:d}}function o(u){return{conv1:a(u+"/conv1"),conv2:a(u+"/conv2")}}return{extractConvLayerParams:a,extractResidualLayerParams:o}}function CW(t){var n=[],e=SW(t,n),r=e.extractConvLayerParams,a=e.extractResidualLayerParams,o=r("conv32_down"),u=a("conv32_1"),l=a("conv32_2"),c=a("conv32_3"),d=a("conv64_down"),h=a("conv64_1"),v=a("conv64_2"),m=a("conv64_3"),g=a("conv128_down"),b=a("conv128_1"),x=a("conv128_2"),S=a("conv256_down"),C=a("conv256_1"),_=a("conv256_2"),R=a("conv256_down_out"),E=t.fc;if(n.push({originalPath:"fc",paramPath:"fc"}),!AU(E))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+E);var T={conv32_down:o,conv32_1:u,conv32_2:l,conv32_3:c,conv64_down:d,conv64_1:h,conv64_2:v,conv64_3:m,conv128_down:g,conv128_1:b,conv128_2:x,conv256_down:S,conv256_1:C,conv256_2:_,conv256_down_out:R,fc:E};return vo(t,n),{params:T,paramMappings:n}}function pa(t,n){var e=bW(t,n.conv1);return e=P_(e,n.conv2),e=Je(e,t),e=Wt(e),e}function qf(t,n){var e=z_(t,n.conv1);e=P_(e,n.conv2);var r=lc(t,2,2,"valid"),a=It(r.shape),o=r.shape[3]!==e.shape[3],u=r.shape[1]!==e.shape[1]||r.shape[2]!==e.shape[2];if(u){var l=Ml(e.shape);l[1]=1;var c=It(l);e=vn([e,c],1);var d=Ml(e.shape);d[2]=1;var h=It(d);e=vn([e,h],2)}return r=o?vn([r,a],3):r,e=Je(r,e),e=Wt(e),e}var EW=(function(t){Ve(n,t);function n(){return t.call(this,"FaceRecognitionNet")||this}return n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return _e(function(){var a=e.toBatchTensor(150,!0).toFloat(),o=[122.782,117.001,104.298],u=fc(a,o).div(Ee(256)),l=z_(u,r.conv32_down);l=Sn(l,3,2,"valid"),l=pa(l,r.conv32_1),l=pa(l,r.conv32_2),l=pa(l,r.conv32_3),l=qf(l,r.conv64_down),l=pa(l,r.conv64_1),l=pa(l,r.conv64_2),l=pa(l,r.conv64_3),l=qf(l,r.conv128_down),l=pa(l,r.conv128_1),l=pa(l,r.conv128_2),l=qf(l,r.conv256_down),l=pa(l,r.conv256_1),l=pa(l,r.conv256_2),l=qf(l,r.conv256_down_out);var c=l.mean([1,2]),d=fh(c,r.fc);return d})},n.prototype.forward=function(e){return Ie(this,void 0,void 0,function(){var r;return Be(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,En(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.computeFaceDescriptor=function(e){return Ie(this,void 0,void 0,function(){var r,a,o,u=this;return Be(this,function(l){switch(l.label){case 0:return[4,En(e)];case 1:return r=l.sent(),a=_e(function(){return mn(u.forwardInput(r))}),[4,Promise.all(a.map(function(c){return c.data()}))];case 2:return o=l.sent(),a.forEach(function(c){return c.dispose()}),[2,r.isBatchInput?o:o[0]]}})})},n.prototype.getDefaultModelName=function(){return"face_recognition_model"},n.prototype.extractParamsFromWeigthMap=function(e){return CW(e)},n.prototype.extractParams=function(e){return wW(e)},n})(po);function U_(t,n){var e={descriptor:n};return Object.assign({},t,e)}function W_(t,n){var e={age:n};return Object.assign({},t,e)}function H_(t,n,e){var r={gender:n,genderProbability:e};return Object.assign({},t,r)}var j_=(function(){function t(n){var e=n===void 0?{}:n,r=e.minFaceSize,a=e.scaleFactor,o=e.maxNumScales,u=e.scoreThresholds,l=e.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=a||.709,this._maxNumScales=o||10,this._scoreThresholds=u||[.6,.7,.7],this._scaleSteps=l,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(c){return typeof c!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(c){return typeof c!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(t.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),t})();function RW(t,n){function e(c,d){var h=or(t(9*c),[3,3,c,1]),v=cn(t(c)),m=cn(t(c)),g=cn(t(c)),b=cn(t(c));return n.push({paramPath:d+"/filters"},{paramPath:d+"/batch_norm_scale"},{paramPath:d+"/batch_norm_offset"},{paramPath:d+"/batch_norm_mean"},{paramPath:d+"/batch_norm_variance"}),{filters:h,batch_norm_scale:v,batch_norm_offset:m,batch_norm_mean:g,batch_norm_variance:b}}function r(c,d,h,v,m){var g=or(t(c*d*h*h),[h,h,c,d]),b=cn(t(d));return n.push({paramPath:v+"/filters"},{paramPath:v+"/"+(m?"batch_norm_offset":"bias")}),{filters:g,bias:b}}function a(c,d,h,v){var m=r(c,d,h,v,!0),g=m.filters,b=m.bias;return{filters:g,batch_norm_offset:b}}function o(c,d,h){var v=e(c,h+"/depthwise_conv"),m=a(c,d,1,h+"/pointwise_conv");return{depthwise_conv:v,pointwise_conv:m}}function u(){var c=a(3,32,3,"mobilenetv1/conv_0"),d=o(32,64,"mobilenetv1/conv_1"),h=o(64,128,"mobilenetv1/conv_2"),v=o(128,128,"mobilenetv1/conv_3"),m=o(128,256,"mobilenetv1/conv_4"),g=o(256,256,"mobilenetv1/conv_5"),b=o(256,512,"mobilenetv1/conv_6"),x=o(512,512,"mobilenetv1/conv_7"),S=o(512,512,"mobilenetv1/conv_8"),C=o(512,512,"mobilenetv1/conv_9"),_=o(512,512,"mobilenetv1/conv_10"),R=o(512,512,"mobilenetv1/conv_11"),E=o(512,1024,"mobilenetv1/conv_12"),T=o(1024,1024,"mobilenetv1/conv_13");return{conv_0:c,conv_1:d,conv_2:h,conv_3:v,conv_4:m,conv_5:g,conv_6:b,conv_7:x,conv_8:S,conv_9:C,conv_10:_,conv_11:R,conv_12:E,conv_13:T}}function l(){var c=a(1024,256,1,"prediction_layer/conv_0"),d=a(256,512,3,"prediction_layer/conv_1"),h=a(512,128,1,"prediction_layer/conv_2"),v=a(128,256,3,"prediction_layer/conv_3"),m=a(256,128,1,"prediction_layer/conv_4"),g=a(128,256,3,"prediction_layer/conv_5"),b=a(256,64,1,"prediction_layer/conv_6"),x=a(64,128,3,"prediction_layer/conv_7"),S=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),C=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),_=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),R=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),E=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),T=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),D=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),N=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),O=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),I=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),B=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),H=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),A={box_encoding_predictor:S,class_predictor:C},q={box_encoding_predictor:_,class_predictor:R},j={box_encoding_predictor:E,class_predictor:T},V={box_encoding_predictor:D,class_predictor:N},P={box_encoding_predictor:O,class_predictor:I},$={box_encoding_predictor:B,class_predictor:H};return{conv_0:c,conv_1:d,conv_2:h,conv_3:v,conv_4:m,conv_5:g,conv_6:b,conv_7:x,box_predictor_0:A,box_predictor_1:q,box_predictor_2:j,box_predictor_3:V,box_predictor_4:P,box_predictor_5:$}}return{extractMobilenetV1Params:u,extractPredictionLayerParams:l}}function _W(t){var n=[],e=mo(t),r=e.extractWeights,a=e.getRemainingWeights,o=RW(r,n),u=o.extractMobilenetV1Params,l=o.extractPredictionLayerParams,c=u(),d=l(),h=Cy(r(5118*4),[1,5118,4]),v={extra_dim:h};if(n.push({paramPath:"output_layer/extra_dim"}),a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:c,prediction_layer:d,output_layer:v},paramMappings:n}}function TW(t,n){var e=ti(t,n);function r(d,h,v){var m=e(d+"/Conv2d_"+h+"_pointwise/weights",4,v+"/filters"),g=e(d+"/Conv2d_"+h+"_pointwise/convolution_bn_offset",1,v+"/batch_norm_offset");return{filters:m,batch_norm_offset:g}}function a(d){var h="mobilenetv1/conv_"+d,v="MobilenetV1/Conv2d_"+d+"_depthwise",m=h+"/depthwise_conv",g=h+"/pointwise_conv",b=e(v+"/depthwise_weights",4,m+"/filters"),x=e(v+"/BatchNorm/gamma",1,m+"/batch_norm_scale"),S=e(v+"/BatchNorm/beta",1,m+"/batch_norm_offset"),C=e(v+"/BatchNorm/moving_mean",1,m+"/batch_norm_mean"),_=e(v+"/BatchNorm/moving_variance",1,m+"/batch_norm_variance");return{depthwise_conv:{filters:b,batch_norm_scale:x,batch_norm_offset:S,batch_norm_mean:C,batch_norm_variance:_},pointwise_conv:r("MobilenetV1",d,g)}}function o(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}}function u(d,h){var v=e(d+"/weights",4,h+"/filters"),m=e(d+"/biases",1,h+"/bias");return{filters:v,bias:m}}function l(d){var h=u("Prediction/BoxPredictor_"+d+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+d+"/box_encoding_predictor"),v=u("Prediction/BoxPredictor_"+d+"/ClassPredictor","prediction_layer/box_predictor_"+d+"/class_predictor");return{box_encoding_predictor:h,class_predictor:v}}function c(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:l(0),box_predictor_1:l(1),box_predictor_2:l(2),box_predictor_3:l(3),box_predictor_4:l(4),box_predictor_5:l(5)}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:c}}function AW(t){var n=[],e=TW(t,n),r=e.extractMobilenetV1Params,a=e.extractPredictionLayerParams,o=t["Output/extra_dim"];if(n.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!vh(o))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+o);var u={mobilenetv1:r(),prediction_layer:a(),output_layer:{extra_dim:o}};return vo(t,n),{params:u,paramMappings:n}}function va(t,n,e){return _e(function(){var r=Kr(t,n.filters,e,"same");return r=Je(r,n.batch_norm_offset),Iy(r,0,6)})}var kW=.0010000000474974513;function DW(t,n,e){return _e(function(){var r=ch(t,n.filters,e,"same");return r=FR(r,n.batch_norm_mean,n.batch_norm_variance,n.batch_norm_offset,n.batch_norm_scale,kW),Iy(r,0,6)})}function NW(t){return[2,4,6,12].some(function(n){return n===t})?[2,2]:[1,1]}function MW(t,n){return _e(function(){var e=null,r=va(t,n.conv_0,[2,2]),a=[n.conv_1,n.conv_2,n.conv_3,n.conv_4,n.conv_5,n.conv_6,n.conv_7,n.conv_8,n.conv_9,n.conv_10,n.conv_11,n.conv_12,n.conv_13];if(a.forEach(function(o,u){var l=u+1,c=NW(l);r=DW(r,o.depthwise_conv,c),r=va(r,o.pointwise_conv,[1,1]),l===11&&(e=r)}),e===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:e}})}function OW(t,n,e,r,a){var o=t.shape[0],u=Math.min(e,o),l=n.map(function(h,v){return{score:h,boxIndex:v}}).filter(function(h){return h.score>a}).sort(function(h,v){return v.score-h.score}),c=function(h){return h<=r?1:0},d=[];return l.forEach(function(h){if(!(d.length>=u)){for(var v=h.score,m=d.length-1;m>=0;--m){var g=IW(t,h.boxIndex,d[m]);if(g!==0&&(h.score*=c(g),h.score<=a))break}v===h.score&&d.push(h.boxIndex)}}),d}function IW(t,n,e){var r=t.arraySync(),a=Math.min(r[n][0],r[n][2]),o=Math.min(r[n][1],r[n][3]),u=Math.max(r[n][0],r[n][2]),l=Math.max(r[n][1],r[n][3]),c=Math.min(r[e][0],r[e][2]),d=Math.min(r[e][1],r[e][3]),h=Math.max(r[e][0],r[e][2]),v=Math.max(r[e][1],r[e][3]),m=(u-a)*(l-o),g=(h-c)*(v-d);if(m<=0||g<=0)return 0;var b=Math.max(a,c),x=Math.max(o,d),S=Math.min(u,h),C=Math.min(l,v),_=Math.max(S-b,0)*Math.max(C-x,0);return _/(m+g-_)}function BW(t){var n=mn(Zo(t,[1,0])),e=[yn(n[2],n[0]),yn(n[3],n[1])],r=[Je(n[0],ta(e[0],Ee(2))),Je(n[1],ta(e[1],Ee(2)))];return{sizes:e,centers:r}}function FW(t,n){var e=BW(t),r=e.sizes,a=e.centers,o=mn(Zo(n,[1,0])),u=ta(Gn(Tg(ta(o[2],Ee(5))),r[0]),Ee(2)),l=Je(Gn(ta(o[0],Ee(10)),r[0]),a[0]),c=ta(Gn(Tg(ta(o[3],Ee(5))),r[1]),Ee(2)),d=Je(Gn(ta(o[1],Ee(10)),r[1]),a[1]);return Zo(Tr([yn(l,u),yn(d,c),Je(l,u),Je(d,c)]),[1,0])}function LW(t,n,e){return _e(function(){var r=t.shape[0],a=FW(na(Js(e.extra_dim,[r,1,1]),[-1,4]),na(t,[-1,4]));a=na(a,[r,a.shape[0]/r,4]);var o=MR(Aa(n,[0,0,1],[-1,-1,-1])),u=Aa(o,[0,0,0],[-1,-1,1]);u=na(u,[r,u.shape[1]]);var l=mn(a),c=mn(u);return{boxes:l,scores:c}})}function js(t,n){return _e(function(){var e=t.shape[0],r=na(ra(t,n.box_encoding_predictor),[e,-1,1,4]),a=na(ra(t,n.class_predictor),[e,-1,3]);return{boxPredictionEncoding:r,classPrediction:a}})}function PW(t,n,e){return _e(function(){var r=va(t,e.conv_0,[1,1]),a=va(r,e.conv_1,[2,2]),o=va(a,e.conv_2,[1,1]),u=va(o,e.conv_3,[2,2]),l=va(u,e.conv_4,[1,1]),c=va(l,e.conv_5,[2,2]),d=va(c,e.conv_6,[1,1]),h=va(d,e.conv_7,[2,2]),v=js(n,e.box_predictor_0),m=js(t,e.box_predictor_1),g=js(a,e.box_predictor_2),b=js(u,e.box_predictor_3),x=js(c,e.box_predictor_4),S=js(h,e.box_predictor_5),C=vn([v.boxPredictionEncoding,m.boxPredictionEncoding,g.boxPredictionEncoding,b.boxPredictionEncoding,x.boxPredictionEncoding,S.boxPredictionEncoding],1),_=vn([v.classPrediction,m.classPrediction,g.classPrediction,b.classPrediction,x.classPrediction,S.classPrediction],1);return{boxPredictions:C,classPredictions:_}})}var Yo=(function(){function t(n){var e=n===void 0?{}:n,r=e.minConfidence,a=e.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=a||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(t.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),t})(),V_=(function(t){Ve(n,t);function n(){return t.call(this,"SsdMobilenetv1")||this}return n.prototype.forwardInput=function(e){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return _e(function(){var a=e.toBatchTensor(512,!1).toFloat(),o=yn(Gn(a,Ee(.007843137718737125)),Ee(1)),u=MW(o,r.mobilenetv1),l=PW(u.out,u.conv11,r.prediction_layer),c=l.boxPredictions,d=l.classPredictions;return LW(c,d,r.output_layer)})},n.prototype.forward=function(e){return Ie(this,void 0,void 0,function(){var r;return Be(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,En(e)];case 1:return[2,r.apply(this,[a.sent()])]}})})},n.prototype.locateFaces=function(e,r){return r===void 0&&(r={}),Ie(this,void 0,void 0,function(){var a,o,u,l,c,d,h,v,m,g,b,x,S,C,_,R,E,T,D,N,O;return Be(this,function(I){switch(I.label){case 0:return a=new Yo(r),o=a.maxResults,u=a.minConfidence,[4,En(e)];case 1:for(l=I.sent(),c=this.forwardInput(l),d=c.boxes,h=c.scores,v=d[0],m=h[0],g=1;g<d.length;g++)d[g].dispose(),h[g].dispose();return S=(x=Array).from,[4,m.data()];case 2:return b=S.apply(x,[I.sent()]),C=.5,_=OW(v,b,o,C,u),R=l.getReshapedInputDimensions(0),E=l.inputSize,T=E/R.width,D=E/R.height,N=v.arraySync(),O=_.map(function(B){var H=[Math.max(0,N[B][0]),Math.min(1,N[B][2])].map(function($){return $*D}),A=H[0],q=H[1],j=[Math.max(0,N[B][1]),Math.min(1,N[B][3])].map(function($){return $*T}),V=j[0],P=j[1];return new Ar(b[B],new Zy(V,A,P-V,q-A),{height:l.getInputHeight(0),width:l.getInputWidth(0)})}),v.dispose(),m.dispose(),[2,O]}})})},n.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},n.prototype.extractParamsFromWeigthMap=function(e){return AW(e)},n.prototype.extractParams=function(e){return _W(e)},n})(po);(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n})(V_);var zW=.4,UW=[new ft(.738768,.874946),new ft(2.42204,2.65704),new ft(4.30971,7.04493),new ft(10.246,4.59428),new ft(12.6868,11.8741)],WW=[new ft(1.603231,2.094468),new ft(6.041143,7.080126),new ft(2.882459,3.518061),new ft(4.266906,5.178857),new ft(9.041765,10.66308)],HW=[117.001,114.697,97.404],jW="tiny_yolov2_model",VW="tiny_yolov2_separable_conv_model",$f=function(t){return typeof t=="number"};function GW(t){if(!t)throw new Error("invalid config: "+t);if(typeof t.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+t.withSeparableConvs);if(!$f(t.iouThreshold)||t.iouThreshold<0||t.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+t.iouThreshold);if(!Array.isArray(t.classes)||!t.classes.length||!t.classes.every(function(n){return typeof n=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(t.classes));if(!Array.isArray(t.anchors)||!t.anchors.length||!t.anchors.map(function(n){return n||{}}).every(function(n){return $f(n.x)&&$f(n.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(t.anchors));if(t.meanRgb&&(!Array.isArray(t.meanRgb)||t.meanRgb.length!==3||!t.meanRgb.every($f)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(t.meanRgb))}function f0(t){return _e(function(){var n=Gn(t,Ee(.10000000149011612));return Je(Wt(yn(t,n)),n)})}function Wo(t,n){return _e(function(){var e=qi(t,[[0,0],[1,1],[1,1],[0,0]]);return e=Kr(e,n.conv.filters,[1,1],"valid"),e=yn(e,n.bn.sub),e=Gn(e,n.bn.truediv),e=Je(e,n.conv.bias),f0(e)})}function Ho(t,n){return _e(function(){var e=qi(t,[[0,0],[1,1],[1,1],[0,0]]);return e=Py(e,n.depthwise_filter,n.pointwise_filter,[1,1],"valid"),e=Je(e,n.bias),f0(e)})}function qW(t,n){var e=yh(t,n);function r(u,l){var c=cn(t(u)),d=cn(t(u));return n.push({paramPath:l+"/sub"},{paramPath:l+"/truediv"}),{sub:c,truediv:d}}function a(u,l,c){var d=e(u,l,3,c+"/conv"),h=r(l,c+"/bn");return{conv:d,bn:h}}var o=i0(t,n);return{extractConvParams:e,extractConvWithBatchNormParams:a,extractSeparableConvParams:o}}function $W(t,n,e,r){var a=mo(t),o=a.extractWeights,u=a.getRemainingWeights,l=[],c=qW(o,l),d=c.extractConvParams,h=c.extractConvWithBatchNormParams,v=c.extractSeparableConvParams,m;if(n.withSeparableConvs){var g=r[0],b=r[1],x=r[2],S=r[3],C=r[4],_=r[5],R=r[6],E=r[7],T=r[8],D=n.isFirstLayerConv2d?d(g,b,3,"conv0"):v(g,b,"conv0"),N=v(b,x,"conv1"),O=v(x,S,"conv2"),I=v(S,C,"conv3"),B=v(C,_,"conv4"),H=v(_,R,"conv5"),A=E?v(R,E,"conv6"):void 0,q=T?v(E,T,"conv7"):void 0,j=d(T||E||R,5*e,1,"conv8");m={conv0:D,conv1:N,conv2:O,conv3:I,conv4:B,conv5:H,conv6:A,conv7:q,conv8:j}}else{var g=r[0],b=r[1],x=r[2],S=r[3],C=r[4],_=r[5],R=r[6],E=r[7],T=r[8],D=h(g,b,"conv0"),N=h(b,x,"conv1"),O=h(x,S,"conv2"),I=h(S,C,"conv3"),B=h(C,_,"conv4"),H=h(_,R,"conv5"),A=h(R,E,"conv6"),q=h(E,T,"conv7"),j=d(T,5*e,1,"conv8");m={conv0:D,conv1:N,conv2:O,conv3:I,conv4:B,conv5:H,conv6:A,conv7:q,conv8:j}}if(u().length!==0)throw new Error("weights remaing after extract: "+u().length);return{params:m,paramMappings:l}}function KW(t,n){var e=ti(t,n);function r(l){var c=e(l+"/sub",1),d=e(l+"/truediv",1);return{sub:c,truediv:d}}function a(l){var c=e(l+"/filters",4),d=e(l+"/bias",1);return{filters:c,bias:d}}function o(l){var c=a(l+"/conv"),d=r(l+"/bn");return{conv:c,bn:d}}var u=s0(e);return{extractConvParams:a,extractConvWithBatchNormParams:o,extractSeparableConvParams:u}}function XW(t,n){var e=[],r=KW(t,e),a=r.extractConvParams,o=r.extractConvWithBatchNormParams,u=r.extractSeparableConvParams,l;if(n.withSeparableConvs){var c=n.filterSizes&&n.filterSizes.length||9;l={conv0:n.isFirstLayerConv2d?a("conv0"):u("conv0"),conv1:u("conv1"),conv2:u("conv2"),conv3:u("conv3"),conv4:u("conv4"),conv5:u("conv5"),conv6:c>7?u("conv6"):void 0,conv7:c>8?u("conv7"):void 0,conv8:a("conv8")}}else l={conv0:o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:o("conv6"),conv7:o("conv7"),conv8:a("conv8")};return vo(t,e),{params:l,paramMappings:e}}var fC;(function(t){t[t.XS=224]="XS",t[t.SM=320]="SM",t[t.MD=416]="MD",t[t.LG=608]="LG"})(fC||(fC={}));var d0=(function(){function t(n){var e=n===void 0?{}:n,r=e.inputSize,a=e.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=a||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),t})(),G_=(function(t){Ve(n,t);function n(e){var r=t.call(this,"TinyYolov2")||this;return GW(e),r._config=e,r}return Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),n.prototype.runTinyYolov2=function(e,r){var a=Wo(e,r.conv0);return a=Sn(a,[2,2],[2,2],"same"),a=Wo(a,r.conv1),a=Sn(a,[2,2],[2,2],"same"),a=Wo(a,r.conv2),a=Sn(a,[2,2],[2,2],"same"),a=Wo(a,r.conv3),a=Sn(a,[2,2],[2,2],"same"),a=Wo(a,r.conv4),a=Sn(a,[2,2],[2,2],"same"),a=Wo(a,r.conv5),a=Sn(a,[2,2],[1,1],"same"),a=Wo(a,r.conv6),a=Wo(a,r.conv7),ra(a,r.conv8,"valid",!1)},n.prototype.runMobilenet=function(e,r){var a=this.config.isFirstLayerConv2d?f0(ra(e,r.conv0,"valid",!1)):Ho(e,r.conv0);return a=Sn(a,[2,2],[2,2],"same"),a=Ho(a,r.conv1),a=Sn(a,[2,2],[2,2],"same"),a=Ho(a,r.conv2),a=Sn(a,[2,2],[2,2],"same"),a=Ho(a,r.conv3),a=Sn(a,[2,2],[2,2],"same"),a=Ho(a,r.conv4),a=Sn(a,[2,2],[2,2],"same"),a=Ho(a,r.conv5),a=Sn(a,[2,2],[1,1],"same"),a=r.conv6?Ho(a,r.conv6):a,a=r.conv7?Ho(a,r.conv7):a,ra(a,r.conv8,"valid",!1)},n.prototype.forwardInput=function(e,r){var a=this,o=this.params;if(!o)throw new Error("TinyYolov2 - load model before inference");return _e(function(){var u=e.toBatchTensor(r,!1).toFloat();return u=a.config.meanRgb?fc(u,a.config.meanRgb):u,u=u.div(Ee(256)),a.config.withSeparableConvs?a.runMobilenet(u,o):a.runTinyYolov2(u,o)})},n.prototype.forward=function(e,r){return Ie(this,void 0,void 0,function(){var a;return Be(this,function(o){switch(o.label){case 0:return a=this.forwardInput,[4,En(e)];case 1:return[4,a.apply(this,[o.sent(),r])];case 2:return[2,o.sent()]}})})},n.prototype.detect=function(e,r){return r===void 0&&(r={}),Ie(this,void 0,void 0,function(){var a,o,u,l,c,d,h,v,m,g,b,x,S,C,_=this;return Be(this,function(R){switch(R.label){case 0:return a=new d0(r),o=a.inputSize,u=a.scoreThreshold,[4,En(e)];case 1:return l=R.sent(),[4,this.forwardInput(l,o)];case 2:return c=R.sent(),d=_e(function(){return mn(c)[0].expandDims()}),h={width:l.getInputWidth(0),height:l.getInputHeight(0)},[4,this.extractBoxes(d,l.getReshapedInputDimensions(0),u)];case 3:return v=R.sent(),c.dispose(),d.dispose(),m=v.map(function(E){return E.box}),g=v.map(function(E){return E.score}),b=v.map(function(E){return E.classScore}),x=v.map(function(E){return _.config.classes[E.label]}),S=Vl(m.map(function(E){return E.rescale(o)}),g,this.config.iouThreshold,!0),C=S.map(function(E){return new m_(g[E],b[E],x[E],m[E],h)}),[2,C]}})})},n.prototype.getDefaultModelName=function(){return""},n.prototype.extractParamsFromWeigthMap=function(e){return XW(e,this.config)},n.prototype.extractParams=function(e){var r=this.config.filterSizes||n.DEFAULT_FILTER_SIZES,a=r?r.length:void 0;if(a!==7&&a!==8&&a!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return $W(e,this.config,this.boxEncodingSize,r)},n.prototype.extractBoxes=function(e,r,a){return Ie(this,void 0,void 0,function(){var o,u,l,c,d,h,v,m,g,b,x,S,C,_,R,E,T,D,N,O,I,B,H,A,q,j,V,P,$,Q=this;return Be(this,function(U){switch(U.label){case 0:return o=r.width,u=r.height,l=Math.max(o,u),c=l/o,d=l/u,h=e.shape[1],v=this.config.anchors.length,m=_e(function(){var G=e.reshape([h,h,v,Q.boxEncodingSize]),M=G.slice([0,0,0,0],[h,h,v,4]),K=G.slice([0,0,0,4],[h,h,v,1]),Z=Q.withClassScores?fo(G.slice([0,0,0,5],[h,h,v,Q.config.classes.length]),3):Ee(0);return[M,K,Z]}),g=m[0],b=m[1],x=m[2],S=[],[4,b.array()];case 1:return C=U.sent(),[4,g.array()];case 2:_=U.sent(),R=0,U.label=3;case 3:if(!(R<h))return[3,12];E=0,U.label=4;case 4:if(!(E<h))return[3,11];T=0,U.label=5;case 5:return T<v?(D=Gm(C[R][E][T][0]),!a||D>a?(N=(E+Gm(_[R][E][T][0]))/h*c,O=(R+Gm(_[R][E][T][1]))/h*d,I=Math.exp(_[R][E][T][2])*this.config.anchors[T].x/h*c,B=Math.exp(_[R][E][T][3])*this.config.anchors[T].y/h*d,H=N-I/2,A=O-B/2,q={row:R,col:E,anchor:T},this.withClassScores?[4,this.extractPredictedClass(x,q)]:[3,7]):[3,9]):[3,10];case 6:return $=U.sent(),[3,8];case 7:$={classScore:1,label:0},U.label=8;case 8:j=$,V=j.classScore,P=j.label,S.push(Hn({box:new mh(H,A,H+I,A+B),score:D,classScore:D*V,label:P},q)),U.label=9;case 9:return T++,[3,5];case 10:return E++,[3,4];case 11:return R++,[3,3];case 12:return g.dispose(),b.dispose(),x.dispose(),[2,S]}})})},n.prototype.extractPredictedClass=function(e,r){return Ie(this,void 0,void 0,function(){var a,o,u,l;return Be(this,function(c){switch(c.label){case 0:return a=r.row,o=r.col,u=r.anchor,[4,e.array()];case 1:return l=c.sent(),[2,Array(this.config.classes.length).fill(0).map(function(d,h){return l[a][o][u][h]}).map(function(d,h){return{classScore:d,label:h}}).reduce(function(d,h){return d.classScore>h.classScore?d:h})]}})})},n.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],n})(po),YW=(function(t){Ve(n,t);function n(e){e===void 0&&(e=!0);var r=this,a=Object.assign({},{withSeparableConvs:e,iouThreshold:zW,classes:["face"]},e?{anchors:WW,meanRgb:HW}:{anchors:UW,withClassScores:!0});return r=t.call(this,a)||this,r}return Object.defineProperty(n.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),n.prototype.locateFaces=function(e,r){return Ie(this,void 0,void 0,function(){var a;return Be(this,function(o){switch(o.label){case 0:return[4,this.detect(e,r)];case 1:return a=o.sent(),[2,a.map(function(u){return new Ar(u.score,u.relativeBox,{width:u.imageWidth,height:u.imageHeight})})]}})})},n.prototype.getDefaultModelName=function(){return this.withSeparableConvs?VW:jW},n.prototype.extractParamsFromWeigthMap=function(e){return t.prototype.extractParamsFromWeigthMap.call(this,e)},n})(G_),h0=(function(t){Ve(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._name="TinyFaceDetectorOptions",e}return n})(d0),dc=(function(){function t(){}return t.prototype.then=function(n){return Ie(this,void 0,void 0,function(){var e;return Be(this,function(r){switch(r.label){case 0:return e=n,[4,this.run()];case 1:return[2,e.apply(void 0,[r.sent()])]}})})},t.prototype.run=function(){return Ie(this,void 0,void 0,function(){return Be(this,function(n){throw new Error("ComposableTask - run is not implemented")})})},t})();function xh(t,n,e,r,a){return a===void 0&&(a=function(o){var u=o.alignedRect;return u}),Ie(this,void 0,void 0,function(){var o,u,l,c,d;return Be(this,function(h){switch(h.label){case 0:return o=t.map(function(v){return l0(v)?a(v):v.detection}),l=r,l?[3,5]:n instanceof Ut?[4,a0(n,o)]:[3,2];case 1:return c=h.sent(),[3,4];case 2:return[4,r0(n,o)];case 3:c=h.sent(),h.label=4;case 4:l=c,h.label=5;case 5:return u=l,[4,e(u)];case 6:return d=h.sent(),u.forEach(function(v){return v instanceof Ut&&v.dispose()}),[2,d]}})})}function p0(t,n,e,r,a){return Ie(this,void 0,void 0,function(){var o=this;return Be(this,function(u){return[2,xh([t],n,function(l){return Ie(o,void 0,void 0,function(){return Be(this,function(c){return[2,e(l[0])]})})},r,a)]})})}function QW(t){return _e(function(){return Tr(mn(t,3).reverse(),3)})}var Kf=2,Ld=12;function ZW(t,n){var e=yh(t,n),r=o0(t,n);function a(d,h){var v=cn(t(d));return n.push({paramPath:h}),v}function o(d,h,v){v===void 0&&(v=!1);var m=e(d[0],d[1],3,h+"/conv1"),g=a(d[1],h+"/prelu1_alpha"),b=e(d[1],d[2],3,h+"/conv2"),x=a(d[2],h+"/prelu2_alpha"),S=e(d[2],d[3],v?2:3,h+"/conv3"),C=a(d[3],h+"/prelu3_alpha");return{conv1:m,prelu1_alpha:g,conv2:b,prelu2_alpha:x,conv3:S,prelu3_alpha:C}}function u(){var d=o([3,10,16,32],"pnet"),h=e(32,2,1,"pnet/conv4_1"),v=e(32,4,1,"pnet/conv4_2");return Hn(Hn({},d),{conv4_1:h,conv4_2:v})}function l(){var d=o([3,28,48,64],"rnet",!0),h=r(576,128,"rnet/fc1"),v=a(128,"rnet/prelu4_alpha"),m=r(128,2,"rnet/fc2_1"),g=r(128,4,"rnet/fc2_2");return Hn(Hn({},d),{fc1:h,prelu4_alpha:v,fc2_1:m,fc2_2:g})}function c(){var d=o([3,32,64,64],"onet"),h=e(64,128,2,"onet/conv4"),v=a(128,"onet/prelu4_alpha"),m=r(1152,256,"onet/fc1"),g=a(256,"onet/prelu5_alpha"),b=r(256,2,"onet/fc2_1"),x=r(256,4,"onet/fc2_2"),S=r(256,10,"onet/fc2_3");return Hn(Hn({},d),{conv4:h,prelu4_alpha:v,fc1:m,prelu5_alpha:g,fc2_1:b,fc2_2:x,fc2_3:S})}return{extractPNetParams:u,extractRNetParams:l,extractONetParams:c}}function JW(t){var n=mo(t),e=n.extractWeights,r=n.getRemainingWeights,a=[],o=ZW(e,a),u=o.extractPNetParams,l=o.extractRNetParams,c=o.extractONetParams,d=u(),h=l(),v=c();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:d,rnet:h,onet:v},paramMappings:a}}function eH(t,n){var e=ti(t,n);function r(h){var v=e(h+"/weights",4,h+"/filters"),m=e(h+"/bias",1);return{filters:v,bias:m}}function a(h){var v=e(h+"/weights",2),m=e(h+"/bias",1);return{weights:v,bias:m}}function o(h){return e(h,1)}function u(h){var v=r(h+"/conv1"),m=o(h+"/prelu1_alpha"),g=r(h+"/conv2"),b=o(h+"/prelu2_alpha"),x=r(h+"/conv3"),S=o(h+"/prelu3_alpha");return{conv1:v,prelu1_alpha:m,conv2:g,prelu2_alpha:b,conv3:x,prelu3_alpha:S}}function l(){var h=u("pnet"),v=r("pnet/conv4_1"),m=r("pnet/conv4_2");return Hn(Hn({},h),{conv4_1:v,conv4_2:m})}function c(){var h=u("rnet"),v=a("rnet/fc1"),m=o("rnet/prelu4_alpha"),g=a("rnet/fc2_1"),b=a("rnet/fc2_2");return Hn(Hn({},h),{fc1:v,prelu4_alpha:m,fc2_1:g,fc2_2:b})}function d(){var h=u("onet"),v=r("onet/conv4"),m=o("onet/prelu4_alpha"),g=a("onet/fc1"),b=o("onet/prelu5_alpha"),x=a("onet/fc2_1"),S=a("onet/fc2_2"),C=a("onet/fc2_3");return Hn(Hn({},h),{conv4:v,prelu4_alpha:m,fc1:g,prelu5_alpha:b,fc2_1:x,fc2_2:S,fc2_3:C})}return{extractPNetParams:l,extractRNetParams:c,extractONetParams:d}}function tH(t){var n=[],e=eH(t,n),r=e.extractPNetParams,a=e.extractRNetParams,o=e.extractONetParams,u=r(),l=a(),c=o();return vo(t,n),{params:{pnet:u,rnet:l,onet:c},paramMappings:n}}function Bg(t,n){var e=n[0],r=n[1];return{height:Math.floor(e*t),width:Math.floor(r*t)}}function nH(t,n,e){for(var r=e[0],a=e[1],o=Ld/t,u=[],l=Math.min(r,a)*o,c=0;l>=12;)u.push(o*Math.pow(n,c)),l=l*n,c+=1;return u}var v0=(function(t){Ve(n,t);function n(e,r,a,o){return t.call(this,{left:e,top:r,right:a,bottom:o},!0)||this}return n})(ka);function q_(t){return _e(function(){return Gn(yn(t,Ee(127.5)),Ee(.0078125))})}function au(t,n){return _e(function(){return Je(Wt(t),Gn(n,Nd(Wt(Nd(t)))))})}function m0(t,n,e){return e===void 0&&(e=!1),_e(function(){var r=ra(t,n.conv1,"valid");return r=au(r,n.prelu1_alpha),r=Sn(r,e?[2,2]:[3,3],[2,2],"same"),r=ra(r,n.conv2,"valid"),r=au(r,n.prelu2_alpha),r=e?r:Sn(r,[3,3],[2,2],"valid"),r=ra(r,n.conv3,"valid"),r=au(r,n.prelu3_alpha),r})}function rH(t,n){return _e(function(){var e=m0(t,n,!0),r=ra(e,n.conv4_1,"valid"),a=Hr(dh(r,3),3),o=fo(yn(r,a),3),u=ra(e,n.conv4_2,"valid");return{prob:o,regions:u}})}function aH(t,n){return _e(function(){var e=Bg(n,t.shape.slice(1)),r=e.height,a=e.width,o=jy.resizeBilinear(t,[r,a]),u=q_(o);return Zo(u,[0,2,1,3])})}function oH(t,n,e,r){for(var a=[],o=t.arraySync(),u=0;u<t.shape[0];u++)for(var l=0;l<t.shape[1];l++)o[u][l]>=r&&a.push(new ft(l,u));var c=a.map(function(d){var h=new mh(Math.round((d.y*Kf+1)/e),Math.round((d.x*Kf+1)/e),Math.round((d.y*Kf+Ld)/e),Math.round((d.x*Kf+Ld)/e)),v=o[d.y][d.x],m=n.arraySync(),g=new v0(m[d.y][d.x][0],m[d.y][d.x][1],m[d.y][d.x][2],m[d.y][d.x][3]);return{cell:h,score:v,region:g}});return c}function iH(t,n,e,r,a){a.stage1=[];var o=n.map(function(m){return _e(function(){var g={scale:m},b=aH(t,m),x=Date.now(),S=rH(b,r),C=S.prob,_=S.regions;g.pnet=Date.now()-x;var R=mn(mn(C,3)[1])[0],E=mn(_)[0];return{scoresTensor:R,regionsTensor:E,scale:m,statsForScale:g}})}),u=o.map(function(m){var g=m.scoresTensor,b=m.regionsTensor,x=m.scale,S=m.statsForScale,C=oH(g,b,x,e);if(g.dispose(),b.dispose(),!C.length)return a.stage1.push(S),[];var _=Date.now(),R=Vl(C.map(function(E){return E.cell}),C.map(function(E){return E.score}),.5);return S.nms=Date.now()-_,S.numBoxes=R.length,a.stage1.push(S),R.map(function(E){return C[E]})}),l=u.reduce(function(m,g){return m.concat(g)},[]),c=[],d=[];if(l.length>0){var h=Date.now(),v=Vl(l.map(function(m){return m.cell}),l.map(function(m){return m.score}),.7);a.stage1_nms=Date.now()-h,d=v.map(function(m){return l[m].score}),c=v.map(function(m){return l[m]}).map(function(m){var g=m.cell,b=m.region;return new mh(g.left+b.left*g.width,g.top+b.top*g.height,g.right+b.right*g.width,g.bottom+b.bottom*g.height).toSquare().round()})}return{boxes:c,scores:d}}function $_(t,n,e){var r=e.width,a=e.height;return Ie(this,void 0,void 0,function(){var o,u,l,c=this;return Be(this,function(d){switch(d.label){case 0:return o=Da(t),[4,Promise.all(n.map(function(h){return Ie(c,void 0,void 0,function(){var v,m,g,b,x,S,C,_;return Be(this,function(R){return v=h.padAtBorders(t.height,t.width),m=v.y,g=v.ey,b=v.x,x=v.ex,S=b-1,C=m-1,_=o.getImageData(S,C,x-S,g-C),[2,$n.isNodejs()?n0(_):createImageBitmap(_)]})})}))];case 1:return u=d.sent(),l=[],u.forEach(function(h){var v=gh({width:r,height:a}),m=Da(v);m.drawImage(h,0,0,r,a);for(var g=m.getImageData(0,0,r,a).data,b=[],x=0;x<g.length;x+=4)b.push(g[x+2]),b.push(g[x+1]),b.push(g[x]);l.push(b)}),[2,l.map(function(h){var v=_e(function(){var m=Zo(or(h,[1,r,a,3]),[0,2,1,3]).toFloat();return q_(m)});return v})]}})})}function sH(t,n){return _e(function(){var e=m0(t,n),r=na(e,[e.shape[0],n.fc1.weights.shape[0]]),a=Ca(r,n.fc1),o=au(a,n.prelu4_alpha),u=Ca(o,n.fc2_1),l=Hr(dh(u,1),1),c=fo(yn(u,l),1),d=Ca(o,n.fc2_2),h=mn(c,1)[1];return{scores:h,regions:d}})}function uH(t,n,e,r,a){return Ie(this,void 0,void 0,function(){var o,u,l,c,d,h,v,m,g,b,x,S,C,_;return Be(this,function(R){switch(R.label){case 0:return o=Date.now(),[4,$_(t,n,{width:24,height:24})];case 1:return u=R.sent(),a.stage2_extractImagePatches=Date.now()-o,o=Date.now(),l=u.map(function(E){var T=sH(E,r);return E.dispose(),T}),a.stage2_rnet=Date.now()-o,c=l.length>1?vn(l.map(function(E){return E.scores})):l[0].scores,v=(h=Array).from,[4,c.data()];case 2:return d=v.apply(h,[R.sent()]),c.dispose(),m=d.map(function(E,T){return{score:E,idx:T}}).filter(function(E){return E.score>e}).map(function(E){var T=E.idx;return T}),g=m.map(function(E){return n[E]}),b=m.map(function(E){return d[E]}),x=[],S=[],g.length>0&&(o=Date.now(),C=Vl(g,b,.7),a.stage2_nms=Date.now()-o,_=C.map(function(E){var T=l[m[E]].regions.arraySync();return new v0(T[0][0],T[0][1],T[0][2],T[0][3])}),S=C.map(function(E){return b[E]}),x=C.map(function(E,T){return g[E].calibrate(_[T])})),l.forEach(function(E){E.regions.dispose(),E.scores.dispose()}),[2,{boxes:x,scores:S}]}})})}function lH(t,n){return _e(function(){var e=m0(t,n);e=Sn(e,[2,2],[2,2],"same"),e=ra(e,n.conv4,"valid"),e=au(e,n.prelu4_alpha);var r=na(e,[e.shape[0],n.fc1.weights.shape[0]]),a=Ca(r,n.fc1),o=au(a,n.prelu5_alpha),u=Ca(o,n.fc2_1),l=Hr(dh(u,1),1),c=fo(yn(u,l),1),d=Ca(o,n.fc2_2),h=Ca(o,n.fc2_3),v=mn(c,1)[1];return{scores:v,regions:d,points:h}})}function cH(t,n,e,r,a){return Ie(this,void 0,void 0,function(){var o,u,l,c,d,h,v,m,g,b,x,S,C,_,R;return Be(this,function(E){switch(E.label){case 0:return o=Date.now(),[4,$_(t,n,{width:48,height:48})];case 1:return u=E.sent(),a.stage3_extractImagePatches=Date.now()-o,o=Date.now(),l=u.map(function(T){var D=lH(T,r);return T.dispose(),D}),a.stage3_onet=Date.now()-o,c=l.length>1?vn(l.map(function(T){return T.scores})):l[0].scores,v=(h=Array).from,[4,c.data()];case 2:return d=v.apply(h,[E.sent()]),c.dispose(),m=d.map(function(T,D){return{score:T,idx:D}}).filter(function(T){return T.score>e}).map(function(T){var D=T.idx;return D}),g=m.map(function(T){var D=l[T].regions.arraySync();return new v0(D[0][0],D[0][1],D[0][2],D[0][3])}),b=m.map(function(T,D){return n[T].calibrate(g[D])}),x=m.map(function(T){return d[T]}),S=[],C=[],_=[],b.length>0&&(o=Date.now(),R=Vl(b,x,.7,!1),a.stage3_nms=Date.now()-o,S=R.map(function(T){return b[T]}),C=R.map(function(T){return x[T]}),_=R.map(function(T,D){return Array(5).fill(0).map(function(N,O){var I=l[T].points.arraySync();return new ft(I[0][O]*(S[D].width+1)+S[D].left,I[0][O+5]*(S[D].height+1)+S[D].top)})})),l.forEach(function(T){T.regions.dispose(),T.scores.dispose(),T.points.dispose()}),[2,{boxes:S,scores:C,points:_}]}})})}var fH=(function(t){Ve(n,t);function n(){return t.call(this,"Mtcnn")||this}return n.prototype.load=function(e){return Ie(this,void 0,void 0,function(){return Be(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.load.call(this,e)]})})},n.prototype.loadFromDisk=function(e){return Ie(this,void 0,void 0,function(){return Be(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.loadFromDisk.call(this,e)]})})},n.prototype.forwardInput=function(e,r){return r===void 0&&(r={}),Ie(this,void 0,void 0,function(){var a,o,u,l,c,d,h,v,m,g,b,x,S,C,_,R,E,T,D,N,O;return Be(this,function(I){switch(I.label){case 0:if(a=this.params,!a)throw new Error("Mtcnn - load model before inference");if(o=e.canvases[0],!o)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return u={},l=Date.now(),c=_e(function(){return QW(Hr(Xy.fromPixels(o)).toFloat())}),d=function(B){return c.dispose(),u.total=Date.now()-l,B},h=c.shape.slice(1),v=h[0],m=h[1],g=new j_(r),b=g.minFaceSize,x=g.scaleFactor,S=g.maxNumScales,C=g.scoreThresholds,_=g.scaleSteps,R=(_||nH(b,x,[v,m])).filter(function(B){var H=Bg(B,[v,m]);return Math.min(H.width,H.height)>Ld}).slice(0,S),u.scales=R,u.pyramid=R.map(function(B){return Bg(B,[v,m])}),E=Date.now(),[4,iH(c,R,C[0],a.pnet,u)];case 1:return T=I.sent(),u.total_stage1=Date.now()-E,T.boxes.length?(u.stage2_numInputBoxes=T.boxes.length,E=Date.now(),[4,uH(o,T.boxes,C[1],a.rnet,u)]):[2,d({results:[],stats:u})];case 2:return D=I.sent(),u.total_stage2=Date.now()-E,D.boxes.length?(u.stage3_numInputBoxes=D.boxes.length,E=Date.now(),[4,cH(o,D.boxes,C[2],a.onet,u)]):[2,d({results:[],stats:u})];case 3:return N=I.sent(),u.total_stage3=Date.now()-E,O=N.boxes.map(function(B,H){return bh(ql({},new Ar(N.scores[H],new Zy(B.left/m,B.top/v,B.width/m,B.height/v),{height:v,width:m})),new LU(N.points[H].map(function(A){return A.sub(new ft(B.left,B.top)).div(new ft(B.width,B.height))}),{width:B.width,height:B.height}))}),[2,d({results:O,stats:u})]}})})},n.prototype.forward=function(e,r){return r===void 0&&(r={}),Ie(this,void 0,void 0,function(){var a;return Be(this,function(o){switch(o.label){case 0:return a=this.forwardInput,[4,En(e)];case 1:return[4,a.apply(this,[o.sent(),r])];case 2:return[2,o.sent().results]}})})},n.prototype.forwardWithStats=function(e,r){return r===void 0&&(r={}),Ie(this,void 0,void 0,function(){var a;return Be(this,function(o){switch(o.label){case 0:return a=this.forwardInput,[4,En(e)];case 1:return[2,a.apply(this,[o.sent(),r])]}})})},n.prototype.getDefaultModelName=function(){return"mtcnn_model"},n.prototype.extractParamsFromWeigthMap=function(e){return tH(e)},n.prototype.extractParams=function(e){return JW(e)},n})(po),dH=.4,hH=[new ft(1.603231,2.094468),new ft(6.041143,7.080126),new ft(2.882459,3.518061),new ft(4.266906,5.178857),new ft(9.041765,10.66308)],pH=[117.001,114.697,97.404],vH=(function(t){Ve(n,t);function n(){var e=this,r={withSeparableConvs:!0,iouThreshold:dH,classes:["face"],anchors:hH,meanRgb:pH,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e=t.call(this,r)||this,e}return Object.defineProperty(n.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),n.prototype.locateFaces=function(e,r){return Ie(this,void 0,void 0,function(){var a;return Be(this,function(o){switch(o.label){case 0:return[4,this.detect(e,r)];case 1:return a=o.sent(),[2,a.map(function(u){return new Ar(u.score,u.relativeBox,{width:u.imageWidth,height:u.imageHeight})})]}})})},n.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},n.prototype.extractParamsFromWeigthMap=function(e){return t.prototype.extractParamsFromWeigthMap.call(this,e)},n})(G_),Jt={ssdMobilenetv1:new V_,tinyFaceDetector:new vH,tinyYolov2:new YW,mtcnn:new fH,faceLandmark68Net:new L_,faceLandmark68TinyNet:new gW,faceRecognitionNet:new EW,faceExpressionNet:new eW,ageGenderNet:new hW},K_=(function(t){Ve(n,t);function n(e,r,a){var o=t.call(this)||this;return o.parentTask=e,o.input=r,o.extractedFaces=a,o}return n})(dc),g0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r,a=this;return Be(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return e=o.sent(),[4,xh(e,this.input,function(u){return Ie(a,void 0,void 0,function(){return Be(this,function(l){switch(l.label){case 0:return[4,Promise.all(u.map(function(c){return Jt.faceExpressionNet.predictExpressions(c)}))];case 1:return[2,l.sent()]}})})},this.extractedFaces)];case 2:return r=o.sent(),[2,e.map(function(u,l){return I_(u,r[l])})]}})})},n.prototype.withAgeAndGender=function(){return new w0(this,this.input)},n})(K_),y0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r;return Be(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return e=a.sent(),e?[4,p0(e,this.input,function(o){return Jt.faceExpressionNet.predictExpressions(o)},this.extractedFaces)]:[2];case 2:return r=a.sent(),[2,I_(e,r)]}})})},n.prototype.withAgeAndGender=function(){return new S0(this,this.input)},n})(K_),b0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.withAgeAndGender=function(){return new C0(this,this.input)},n.prototype.withFaceDescriptors=function(){return new R0(this,this.input)},n})(g0),x0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.withAgeAndGender=function(){return new E0(this,this.input)},n.prototype.withFaceDescriptor=function(){return new _0(this,this.input)},n})(y0),X_=(function(t){Ve(n,t);function n(e,r,a){var o=t.call(this)||this;return o.parentTask=e,o.input=r,o.extractedFaces=a,o}return n})(dc),w0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r,a=this;return Be(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return e=o.sent(),[4,xh(e,this.input,function(u){return Ie(a,void 0,void 0,function(){return Be(this,function(l){switch(l.label){case 0:return[4,Promise.all(u.map(function(c){return Jt.ageGenderNet.predictAgeAndGender(c)}))];case 1:return[2,l.sent()]}})})},this.extractedFaces)];case 2:return r=o.sent(),[2,e.map(function(u,l){var c=r[l],d=c.age,h=c.gender,v=c.genderProbability;return W_(H_(u,h,v),d)})]}})})},n.prototype.withFaceExpressions=function(){return new g0(this,this.input)},n})(X_),S0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r,a,o,u;return Be(this,function(l){switch(l.label){case 0:return[4,this.parentTask];case 1:return e=l.sent(),e?[4,p0(e,this.input,function(c){return Jt.ageGenderNet.predictAgeAndGender(c)},this.extractedFaces)]:[2];case 2:return r=l.sent(),a=r.age,o=r.gender,u=r.genderProbability,[2,W_(H_(e,o,u),a)]}})})},n.prototype.withFaceExpressions=function(){return new y0(this,this.input)},n})(X_),C0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.withFaceExpressions=function(){return new b0(this,this.input)},n.prototype.withFaceDescriptors=function(){return new R0(this,this.input)},n})(w0),E0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.withFaceExpressions=function(){return new x0(this,this.input)},n.prototype.withFaceDescriptor=function(){return new _0(this,this.input)},n})(S0),Y_=(function(t){Ve(n,t);function n(e,r){var a=t.call(this)||this;return a.parentTask=e,a.input=r,a}return n})(dc),R0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r;return Be(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return e=a.sent(),[4,xh(e,this.input,function(o){return Promise.all(o.map(function(u){return Jt.faceRecognitionNet.computeFaceDescriptor(u)}))},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=a.sent(),[2,r.map(function(o,u){return U_(e[u],o)})]}})})},n.prototype.withFaceExpressions=function(){return new b0(this,this.input)},n.prototype.withAgeAndGender=function(){return new C0(this,this.input)},n})(Y_),_0=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r;return Be(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return e=a.sent(),e?[4,p0(e,this.input,function(o){return Jt.faceRecognitionNet.computeFaceDescriptor(o)},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=a.sent(),[2,U_(e,r)]}})})},n.prototype.withFaceExpressions=function(){return new x0(this,this.input)},n.prototype.withAgeAndGender=function(){return new E0(this,this.input)},n})(Y_),Q_=(function(t){Ve(n,t);function n(e,r,a){var o=t.call(this)||this;return o.parentTask=e,o.input=r,o.useTinyLandmarkNet=a,o}return Object.defineProperty(n.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Jt.faceLandmark68TinyNet:Jt.faceLandmark68Net},enumerable:!0,configurable:!0}),n})(dc),mH=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r,a,o,u,l=this;return Be(this,function(c){switch(c.label){case 0:return[4,this.parentTask];case 1:return e=c.sent(),r=e.map(function(d){return d.detection}),this.input instanceof Ut?[4,a0(this.input,r)]:[3,3];case 2:return o=c.sent(),[3,5];case 3:return[4,r0(this.input,r)];case 4:o=c.sent(),c.label=5;case 5:return a=o,[4,Promise.all(a.map(function(d){return l.landmarkNet.detectLandmarks(d)}))];case 6:return u=c.sent(),a.forEach(function(d){return d instanceof Ut&&d.dispose()}),[2,e.map(function(d,h){return bh(d,u[h])})]}})})},n.prototype.withFaceExpressions=function(){return new b0(this,this.input)},n.prototype.withAgeAndGender=function(){return new C0(this,this.input)},n.prototype.withFaceDescriptors=function(){return new R0(this,this.input)},n})(Q_),gH=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r,a,o,u;return Be(this,function(l){switch(l.label){case 0:return[4,this.parentTask];case 1:return e=l.sent(),e?(r=e.detection,this.input instanceof Ut?[4,a0(this.input,[r])]:[3,3]):[2];case 2:return o=l.sent(),[3,5];case 3:return[4,r0(this.input,[r])];case 4:o=l.sent(),l.label=5;case 5:return a=o,[4,this.landmarkNet.detectLandmarks(a[0])];case 6:return u=l.sent(),a.forEach(function(c){return c instanceof Ut&&c.dispose()}),[2,bh(e,u)]}})})},n.prototype.withFaceExpressions=function(){return new x0(this,this.input)},n.prototype.withAgeAndGender=function(){return new E0(this,this.input)},n.prototype.withFaceDescriptor=function(){return new _0(this,this.input)},n})(Q_),Z_=(function(t){Ve(n,t);function n(e,r){r===void 0&&(r=new Yo);var a=t.call(this)||this;return a.input=e,a.options=r,a}return n})(dc),J_=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r,a,o;return Be(this,function(u){switch(u.label){case 0:return e=this,r=e.input,a=e.options,a instanceof j_?[4,Jt.mtcnn.forward(r,a)]:[3,2];case 1:return[2,u.sent().map(function(l){return l.detection})];case 2:if(o=a instanceof h0?function(l){return Jt.tinyFaceDetector.locateFaces(l,a)}:a instanceof Yo?function(l){return Jt.ssdMobilenetv1.locateFaces(l,a)}:a instanceof d0?function(l){return Jt.tinyYolov2.locateFaces(l,a)}:null,!o)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,o(r)]}})})},n.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise(function(r){return Ie(e,void 0,void 0,function(){var a;return Be(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return a=o.sent(),[2,r(a.map(function(u){return ql({},u)}))]}})})})},n.prototype.withFaceLandmarks=function(e){return e===void 0&&(e=!1),new mH(this.runAndExtendWithFaceDetections(),this.input,e)},n.prototype.withFaceExpressions=function(){return new g0(this.runAndExtendWithFaceDetections(),this.input)},n.prototype.withAgeAndGender=function(){return new w0(this.runAndExtendWithFaceDetections(),this.input)},n})(Z_),yH=(function(t){Ve(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.run=function(){return Ie(this,void 0,void 0,function(){var e,r;return Be(this,function(a){switch(a.label){case 0:return[4,new J_(this.input,this.options)];case 1:return e=a.sent(),r=e[0],e.forEach(function(o){o.score>r.score&&(r=o)}),[2,r]}})})},n.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise(function(r){return Ie(e,void 0,void 0,function(){var a;return Be(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return a=o.sent(),[2,r(a?ql({},a):void 0)]}})})})},n.prototype.withFaceLandmarks=function(e){return e===void 0&&(e=!1),new gH(this.runAndExtendWithFaceDetection(),this.input,e)},n.prototype.withFaceExpressions=function(){return new y0(this.runAndExtendWithFaceDetection(),this.input)},n.prototype.withAgeAndGender=function(){return new S0(this.runAndExtendWithFaceDetection(),this.input)},n})(Z_);function bH(t,n){return n===void 0&&(n=new Yo),new yH(t,n)}function Xf(t,n){return n===void 0&&(n=new Yo),new J_(t,n)}function xH(t,n){if(t.length!==n.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var e=Array.from(t),r=Array.from(n);return Math.sqrt(e.map(function(a,o){return a-r[o]}).reduce(function(a,o){return a+Math.pow(o,2)},0))}(function(){function t(n,e){e===void 0&&(e=.6),this._distanceThreshold=e;var r=Array.isArray(n)?n:[n];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,o=function(){return"person "+a++};this._labeledDescriptors=r.map(function(u){if(u instanceof Vf)return u;if(u instanceof Float32Array)return new Vf(o(),[u]);if(u.descriptor&&u.descriptor instanceof Float32Array)return new Vf(o(),[u.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(t.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),t.prototype.computeMeanDistance=function(n,e){return e.map(function(r){return xH(r,n)}).reduce(function(r,a){return r+a},0)/(e.length||1)},t.prototype.matchDescriptor=function(n){var e=this;return this.labeledDescriptors.map(function(r){var a=r.descriptors,o=r.label;return new iC(o,e.computeMeanDistance(n,a))}).reduce(function(r,a){return r.distance<a.distance?r:a})},t.prototype.findBestMatch=function(n){var e=this.matchDescriptor(n);return e.distance<this.distanceThreshold?e:new iC("unknown",e.distance)},t.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(n){return n.toJSON()})}},t.fromJSON=function(n){var e=n.labeledDescriptors.map(function(r){return Vf.fromJSON(r)});return new t(e,n.distanceThreshold)},t})();function eT(t,n){var e=new Li(n.width,n.height),r=e.width,a=e.height;if(r<=0||a<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:a}));if(Array.isArray(t))return t.map(function(l){return eT(l,{width:r,height:a})});if(l0(t)){var o=t.detection.forSize(r,a),u=t.unshiftedLandmarks.forSize(o.box.width,o.box.height);return bh(ql(t,o),u)}return Gl(t)?ql(t,t.detection.forSize(r,a)):t instanceof fu||t instanceof Ar?t.forSize(r,a):t}const _i="./models",ar={tiny:!1,ssd:!1,landmarks:!1,expression:!1};function wH(){const t=L.useRef(null),n=L.useRef(null),[e,r]=L.useState(null),[a,o]=L.useState(!1),[u,l]=L.useState(""),c=h=>{const v=h.target.files[0];v&&(r(URL.createObjectURL(v)),o(!1))},d=async()=>{if(!e){alert("Upload an image first!");return}if(!u){alert("Please select a face detector!");return}try{let h;u==="tiny"&&(ar.tiny||(await Jt.tinyFaceDetector.loadFromUri(_i),ar.tiny=!0),h=await Xf(n.current,new h0)),u==="ssd"&&(ar.ssd||(await Jt.ssdMobilenetv1.loadFromUri(_i),ar.ssd=!0),h=await Xf(n.current,new Yo)),u==="ssd_landmarks"&&(ar.ssd||(await Jt.ssdMobilenetv1.loadFromUri(_i),ar.ssd=!0),ar.landmarks||(await Jt.faceLandmark68Net.loadFromUri(_i),ar.landmarks=!0),h=await Xf(n.current,new Yo).withFaceLandmarks()),u==="expression"&&(ar.ssd||(await Jt.ssdMobilenetv1.loadFromUri(_i),ar.ssd=!0),ar.landmarks||(await Jt.faceLandmark68Net.loadFromUri(_i),ar.landmarks=!0),ar.expression||(await Jt.faceExpressionNet.loadFromUri(_i),ar.expression=!0),h=await Xf(n.current,new Yo).withFaceLandmarks().withFaceExpressions());const v=n.current,m=t.current,g={width:v.width,height:v.height};XU(m,g);const b=eT(h,g);m.getContext("2d").clearRect(0,0,m.width,m.height),HU(m,b),u==="ssd_landmarks"&&cC(m,b),u==="expression"&&(cC(m,b),nW(m,b)),o(!0)}catch(h){console.error("Face detection error:",h)}};return re.jsxs("div",{className:"face-container",children:[re.jsx("h3",{children:"Face Detection"}),re.jsx("input",{type:"file",accept:"image/*",onChange:c}),e&&re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:"image-box",children:[re.jsx("img",{ref:n,src:e,alt:"Uploaded",width:"620",height:"620"}),re.jsx("canvas",{ref:t,width:"620",height:"620"})]}),re.jsxs("div",{style:{marginTop:"15px"},children:[re.jsxs("label",{children:[re.jsx("input",{type:"checkbox",checked:u==="tiny",onChange:()=>l("tiny")})," ","Tiny Face Detector"]}),re.jsx("br",{}),re.jsxs("label",{children:[re.jsx("input",{type:"checkbox",checked:u==="ssd",onChange:()=>l("ssd")})," ","SSD MobileNet"]}),re.jsx("br",{}),re.jsxs("label",{children:[re.jsx("input",{type:"checkbox",checked:u==="ssd_landmarks",onChange:()=>l("ssd_landmarks")})," ","Landmarks"]}),re.jsx("br",{}),re.jsxs("label",{children:[re.jsx("input",{type:"checkbox",checked:u==="expression",onChange:()=>l("expression")})," ","Face Expression"]})]}),re.jsx("button",{className:"btn",onClick:d,children:"Detect Faces"})]})]})}const SH=28,CH=30,EH=58,RH=9,_H=40,Yf=37,TH=43,Qf=46,Vs=(t,n)=>Math.hypot(t.x-n.x,t.y-n.y),AH=(t,n)=>{const e=(n.right+n.left)/2,r=(n.bottom+n.top)/2,a=Vs(t[CH],t[SH]),o=Vs(t[EH],t[RH]),u=Math.asin((.5-o/(a+o))*2),l=Vs(t[Yf],t[_H]),c=Vs(t[TH],t[Qf]),d=Math.asin((.5-c/(l+c))*2)*2.5,h=t[Yf].y-t[Qf].y,v=Vs(t[Yf],t[Qf]),m=Math.asin(h/v),g=Vs(t[Yf],t[Qf])*.7;return d>.7||d<-.7?null:{position:{x:e,y:r},rotation:{x:u,y:d,z:m},scale:{x:g,y:g}}};function kH(){const t=L.useRef(null),n=L.useRef(null),[e,r]=L.useState(""),[a,o]=L.useState(!1);L.useEffect(()=>{Promise.all([Jt.tinyFaceDetector.loadFromUri("/models"),Jt.faceLandmark68Net.loadFromUri("/models")])},[]);const u=c=>{const d=c.target.files[0];if(!d)return;r(URL.createObjectURL(d)),o(!0),n.current?.getContext("2d")?.clearRect(0,0,n.current.width,n.current.height)},l=async()=>{const c=t.current,d=n.current,h=d.getContext("2d"),v=c.getBoundingClientRect();d.width=v.width,d.height=v.height,h.clearRect(0,0,d.width,d.height);const m=await bH(c,new h0).withFaceLandmarks();if(!m){alert("No face detected");return}const{landmarks:g,detection:b}=m,x=d.width/c.naturalWidth,S=d.height/c.naturalHeight,C=g.positions.map(T=>({x:T.x*x,y:T.y*S})),_={left:b.box.left*x,right:b.box.right*x,top:b.box.top*S,bottom:b.box.bottom*S},R=AH(C,_);if(!R){alert("Face angle not supported");return}const E=new Image;E.src="/sunglasses.png",E.onload=()=>{h.save(),h.translate(R.position.x,R.position.y-R.scale.y*.35),h.rotate(R.rotation.z);const T=R.scale.x*2.9,D=R.scale.y*1.9;h.drawImage(E,-T/2,-D/2,T,D),h.restore()}};return re.jsxs("div",{className:"spectacles-container",children:[re.jsx("h2",{children:"Add Spectacles"}),re.jsx("input",{type:"file",onChange:u}),a&&re.jsx("button",{className:"btn3",onClick:l,children:"Add Spectacles"}),re.jsx("div",{className:"image-wrap",children:e&&re.jsxs(re.Fragment,{children:[re.jsx("img",{ref:t,src:e,alt:"face"}),re.jsx("canvas",{ref:n})]})})]})}Rk.createRoot(document.getElementById("root")).render(re.jsx(L.StrictMode,{children:re.jsx($3,{children:re.jsxs(C3,{children:[re.jsx(Sl,{path:"/",element:re.jsx(rD,{})}),re.jsx(Sl,{path:"/assignment_1",element:re.jsx(XB,{})}),re.jsx(Sl,{path:"/assignment_2",element:re.jsx(wH,{})}),re.jsx(Sl,{path:"/assignment_3",element:re.jsx(kH,{})})]})})}))});export default DH();
